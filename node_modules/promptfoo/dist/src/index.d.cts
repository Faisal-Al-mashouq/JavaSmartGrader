import "node:module";
import winston from "winston";
import "node:buffer";
import { z } from "zod";
import { Cache } from "cache-manager";
import "drizzle-orm";
import "commander";

//#region rolldown:runtime
//#endregion
//#region src/blobs/types.d.ts
/**
 * Blob reference format used across API/UI.
 * Example URI: promptfoo://blob/<hash>
 */
interface BlobRef {
  uri: string;
  hash: string;
  mimeType: string;
  sizeBytes: number;
  provider: string;
}
//#endregion
//#region src/types/env.d.ts
declare const ProviderEnvOverridesSchema: z.ZodObject<{
  AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
  AI21_API_KEY: z.ZodOptional<z.ZodString>;
  AIML_API_KEY: z.ZodOptional<z.ZodString>;
  ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
  ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
  AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
  AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
  AZURE_API_HOST: z.ZodOptional<z.ZodString>;
  AZURE_API_KEY: z.ZodOptional<z.ZodString>;
  AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
  AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
  AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
  AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
  AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
  AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
  AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
  AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
  AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
  AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
  AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
  AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
  AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
  CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
  CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
  CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
  CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
  CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
  CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
  COMETAPI_KEY: z.ZodOptional<z.ZodString>;
  COHERE_API_KEY: z.ZodOptional<z.ZodString>;
  COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
  DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
  DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
  DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
  DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
  ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
  FAL_KEY: z.ZodOptional<z.ZodString>;
  GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
  GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
  GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
  GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
  GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
  GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
  GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
  GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
  GROQ_API_KEY: z.ZodOptional<z.ZodString>;
  HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
  HF_API_TOKEN: z.ZodOptional<z.ZodString>;
  HF_TOKEN: z.ZodOptional<z.ZodString>;
  HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
  HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
  JFROG_API_KEY: z.ZodOptional<z.ZodString>;
  LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
  LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
  LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
  LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
  LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
  LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
  MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
  MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
  MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
  NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
  NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
  OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
  OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
  OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
  OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
  OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
  OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
  OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
  CODEX_API_KEY: z.ZodOptional<z.ZodString>;
  PALM_API_HOST: z.ZodOptional<z.ZodString>;
  PALM_API_KEY: z.ZodOptional<z.ZodString>;
  PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
  PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
  PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
  PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
  PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
  PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
  PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
  PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
  QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
  REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
  REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
  SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
  SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
  SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
  SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
  VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
  VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
  VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
  VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
  VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
  VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
  VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
  VERTEX_REGION: z.ZodOptional<z.ZodString>;
  VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
  VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
  WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
  WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
  WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
  WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
  XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
  XAI_API_KEY: z.ZodOptional<z.ZodString>;
  AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
  AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
  AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
  AWS_REGION: z.ZodOptional<z.ZodString>;
  AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
  AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
  AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
  AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
  AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
  PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
}, z.core.$strip>;
type EnvOverrides = z.infer<typeof ProviderEnvOverridesSchema> & Record<string, string | undefined>;
//#endregion
//#region src/types/shared.d.ts
declare const CompletionTokenDetailsSchema: z.ZodObject<{
  reasoning: z.ZodOptional<z.ZodNumber>;
  acceptedPrediction: z.ZodOptional<z.ZodNumber>;
  rejectedPrediction: z.ZodOptional<z.ZodNumber>;
}, z.core.$strip>;
type CompletionTokenDetails = z.infer<typeof CompletionTokenDetailsSchema>;
/**
 * Base schema for token usage statistics with all fields optional
 */
declare const BaseTokenUsageSchema: z.ZodObject<{
  prompt: z.ZodOptional<z.ZodNumber>;
  completion: z.ZodOptional<z.ZodNumber>;
  cached: z.ZodOptional<z.ZodNumber>;
  total: z.ZodOptional<z.ZodNumber>;
  numRequests: z.ZodOptional<z.ZodNumber>;
  completionDetails: z.ZodOptional<z.ZodObject<{
    reasoning: z.ZodOptional<z.ZodNumber>;
    acceptedPrediction: z.ZodOptional<z.ZodNumber>;
    rejectedPrediction: z.ZodOptional<z.ZodNumber>;
  }, z.core.$strip>>;
  assertions: z.ZodOptional<z.ZodObject<{
    total: z.ZodOptional<z.ZodNumber>;
    prompt: z.ZodOptional<z.ZodNumber>;
    completion: z.ZodOptional<z.ZodNumber>;
    cached: z.ZodOptional<z.ZodNumber>;
    numRequests: z.ZodOptional<z.ZodNumber>;
    completionDetails: z.ZodOptional<z.ZodObject<{
      reasoning: z.ZodOptional<z.ZodNumber>;
      acceptedPrediction: z.ZodOptional<z.ZodNumber>;
      rejectedPrediction: z.ZodOptional<z.ZodNumber>;
    }, z.core.$strip>>;
  }, z.core.$strip>>;
}, z.core.$strip>;
type BaseTokenUsage = z.infer<typeof BaseTokenUsageSchema>;
type TokenUsage = z.infer<typeof BaseTokenUsageSchema>;
type NunjucksFilterMap = Record<string, (...args: any[]) => string>;
type VarValue = string | number | boolean | object | unknown[];
declare const InputsSchema: z.ZodRecord<z.ZodString, z.ZodString>;
type Inputs = z.infer<typeof InputsSchema>;
//#endregion
//#region src/types/prompts.d.ts
declare interface ApiProvider$1 {
  id: () => string;
  callApi: (prompt: string, context?: any, options?: any) => Promise<any>;
  label?: string;
}
type PromptContent = string | any;
interface PromptConfig {
  prefix?: string;
  suffix?: string;
}
interface PromptFunctionContext {
  vars: Record<string, VarValue>;
  config: Record<string, any>;
  provider: {
    id: string;
    label?: string;
  };
}
/**
 * Result type for prompt functions.
 *
 * Prompt functions can return:
 * - A string (used directly as the prompt)
 * - An object/array (JSON stringified and used as the prompt)
 * - A PromptFunctionResult object with prompt and optional config
 */
interface PromptFunctionResult {
  prompt: PromptContent;
  config?: Record<string, any>;
}
interface PromptFunction {
  (context: {
    vars: Record<string, string | any>;
    provider?: ApiProvider$1;
  }): Promise<PromptContent | PromptFunctionResult>;
}
interface Prompt {
  id?: string;
  raw: string;
  display?: string;
  label: string;
  function?: PromptFunction;
  config?: any;
}
//#endregion
//#region src/types/providers.d.ts
type ProviderId = string;
type ProviderLabel = string;
type ProviderFunction = ApiProvider['callApi'];
type ProviderOptionsMap = Record<ProviderId, ProviderOptions>;
type ProviderType = 'embedding' | 'classification' | 'text' | 'moderation';
/**
 * Chat message type for provider-reported prompts and other multi-turn interactions.
 */
interface ChatMessage {
  role: 'system' | 'user' | 'assistant' | 'tool' | 'function';
  content: string;
}
type ProviderTypeMap = Partial<Record<ProviderType, string | ProviderOptions | ApiProvider>>;
interface AtomicTestCase$1 {
  description?: string;
  vars?: Record<string, VarValue>;
  providerResponse?: ProviderResponse;
  tokenUsage?: TokenUsage;
  success?: boolean;
  score?: number;
  failureReason?: string;
  metadata?: Record<string, any>;
  options?: Record<string, any>;
}
interface ProviderModerationResponse {
  cached?: boolean;
  error?: string;
  flags?: ModerationFlag[];
}
interface ModerationFlag {
  code: string;
  description: string;
  confidence: number;
}
interface ProviderOptions {
  id?: ProviderId;
  label?: ProviderLabel;
  config?: any;
  prompts?: string[];
  transform?: string;
  delay?: number;
  env?: EnvOverrides;
  inputs?: Inputs;
}
interface CallApiContextParams {
  filters?: NunjucksFilterMap;
  getCache?: any;
  logger?: winston.Logger;
  originalProvider?: ApiProvider;
  prompt: Prompt;
  vars: Record<string, VarValue>;
  debug?: boolean;
  test?: AtomicTestCase$1;
  bustCache?: boolean;
  traceparent?: string;
  tracestate?: string;
  evaluationId?: string;
  testCaseId?: string;
  /**
   * Index of the test case within the current evaluation (row in results table).
   * Used for correlating blob references and other per-result metadata.
   */
  testIdx?: number;
  /**
   * Index of the prompt within the current evaluation (column in results table).
   * Used for correlating blob references and other per-result metadata.
   */
  promptIdx?: number;
  repeatIndex?: number;
}
interface CallApiOptionsParams {
  includeLogProbs?: boolean;
  /**
   * Signal that can be used to abort the request
   */
  abortSignal?: AbortSignal;
}
interface ApiProvider {
  id: () => string;
  callApi: CallApiFunction;
  callClassificationApi?: (prompt: string) => Promise<ProviderClassificationResponse>;
  callEmbeddingApi?: (input: string) => Promise<ProviderEmbeddingResponse>;
  config?: any;
  delay?: number;
  getSessionId?: () => string;
  inputs?: Inputs;
  label?: ProviderLabel;
  transform?: string;
  toJSON?: () => any;
  /**
   * Cleanup method called when a provider call is aborted (e.g., due to timeout)
   * Providers should implement this to clean up any resources they might have
   * allocated, such as file handles, network connections, etc.
   */
  cleanup?: () => void | Promise<void>;
}
interface ApiEmbeddingProvider extends ApiProvider {
  callEmbeddingApi: (input: string) => Promise<ProviderEmbeddingResponse>;
}
interface ApiSimilarityProvider extends ApiProvider {
  callSimilarityApi: (reference: string, input: string) => Promise<ProviderSimilarityResponse>;
}
interface ApiClassificationProvider extends ApiProvider {
  callClassificationApi: (prompt: string) => Promise<ProviderClassificationResponse>;
}
interface ApiModerationProvider extends ApiProvider {
  callModerationApi: (prompt: string, response: string) => Promise<ProviderModerationResponse>;
}
interface GuardrailResponse {
  flaggedInput?: boolean;
  flaggedOutput?: boolean;
  flagged?: boolean;
  reason?: string;
}
interface ProviderResponse {
  cached?: boolean;
  cost?: number;
  error?: string;
  /**
   * Indicates that `output` contains base64-encoded binary data (often as JSON like OpenAI `b64_json`).
   * Used to enable blob externalization and avoid token bloat in downstream grading/agentic strategies.
   */
  isBase64?: boolean;
  /**
   * Optional format hint for `output` (e.g. `'json'` when `output` is a JSON string).
   */
  format?: string;
  logProbs?: number[];
  latencyMs?: number;
  metadata?: {
    redteamFinalPrompt?: string;
    http?: {
      status: number;
      statusText: string;
      headers: Record<string, string>;
      requestHeaders?: Record<string, string>;
    };
    [key: string]: any;
  };
  /**
   * The actual prompt sent to the LLM. If set by a provider, this overrides
   * the rendered prompt for display and assertions.
   *
   * Useful for providers that dynamically generate or modify prompts
   * (e.g., GenAIScript, multi-turn strategies, agent frameworks).
   *
   * Can be a simple string or an array of chat messages.
   */
  prompt?: string | ChatMessage[];
  raw?: string | any;
  output?: string | any;
  /**
   * Output after provider-level transform. Used by contextTransform to ensure
   * it operates on provider-normalized output, independent of test transforms.
   */
  providerTransformedOutput?: string | any;
  tokenUsage?: TokenUsage;
  isRefusal?: boolean;
  sessionId?: string;
  guardrails?: GuardrailResponse;
  finishReason?: string;
  audio?: {
    id?: string;
    expiresAt?: number;
    data?: string;
    blobRef?: BlobRef;
    transcript?: string;
    format?: string;
    sampleRate?: number;
    channels?: number;
    duration?: number;
  };
  video?: {
    id?: string;
    blobRef?: BlobRef;
    storageRef?: {
      key?: string;
    };
    url?: string;
    format?: string;
    size?: string;
    duration?: number;
    thumbnail?: string;
    spritesheet?: string;
    model?: string;
    aspectRatio?: string;
    resolution?: string;
  };
}
interface ProviderEmbeddingResponse {
  cached?: boolean;
  cost?: number;
  error?: string;
  embedding?: number[];
  latencyMs?: number;
  tokenUsage?: Partial<TokenUsage>;
  metadata?: {
    transformed?: boolean;
    originalText?: string;
    [key: string]: any;
  };
}
interface ProviderSimilarityResponse {
  error?: string;
  similarity?: number;
  tokenUsage?: Partial<TokenUsage>;
}
interface ProviderClassificationResponse {
  error?: string;
  classification?: Record<string, number>;
}
type FilePath = string;
type CallApiFunction = {
  (prompt: string, context?: CallApiContextParams, options?: CallApiOptionsParams): Promise<ProviderResponse>;
  label?: string;
};
declare function isApiProvider(provider: any): provider is ApiProvider;
declare function isProviderOptions(provider: any): provider is ProviderOptions;
interface ProviderTestResponse {
  testResult: {
    message?: string;
    error?: string;
    changes_needed?: boolean;
    changes_needed_reason?: string;
    changes_needed_suggestions?: string[];
  };
  providerResponse: ProviderResponse;
  unalignedProviderResult?: ProviderResponse;
  redteamProviderResult?: ProviderResponse;
  transformedRequest?: any;
}
/**
 * Interface defining the default providers used by the application
 */
interface DefaultProviders {
  embeddingProvider: ApiProvider;
  gradingJsonProvider: ApiProvider;
  gradingProvider: ApiProvider;
  llmRubricProvider?: ApiProvider;
  moderationProvider: ApiProvider;
  suggestionsProvider: ApiProvider;
  synthesizeProvider: ApiProvider;
  webSearchProvider?: ApiProvider;
}
//#endregion
//#region src/validators/providers.d.ts
declare const ProvidersSchema: z.ZodUnion<readonly [z.ZodString, z.ZodCustom<CallApiFunction & {
  label?: string;
}, CallApiFunction & {
  label?: string;
}>, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<CallApiFunction & {
  label?: string;
}, CallApiFunction & {
  label?: string;
}>, z.ZodRecord<z.ZodString, z.ZodObject<{
  id: z.ZodOptional<z.ZodCustom<string, string>>;
  label: z.ZodOptional<z.ZodCustom<string, string>>;
  config: z.ZodOptional<z.ZodAny>;
  prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
  transform: z.ZodOptional<z.ZodString>;
  delay: z.ZodOptional<z.ZodNumber>;
  env: z.ZodOptional<z.ZodObject<{
    AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AI21_API_KEY: z.ZodOptional<z.ZodString>;
    AIML_API_KEY: z.ZodOptional<z.ZodString>;
    ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
    ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
    AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
    AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_API_HOST: z.ZodOptional<z.ZodString>;
    AZURE_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
    AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
    AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
    AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
    AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
    CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
    CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
    CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
    COMETAPI_KEY: z.ZodOptional<z.ZodString>;
    COHERE_API_KEY: z.ZodOptional<z.ZodString>;
    COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
    DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
    DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
    DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
    DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
    ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
    FAL_KEY: z.ZodOptional<z.ZodString>;
    GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
    GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
    GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
    GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
    GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
    GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
    GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
    GROQ_API_KEY: z.ZodOptional<z.ZodString>;
    HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
    HF_API_TOKEN: z.ZodOptional<z.ZodString>;
    HF_TOKEN: z.ZodOptional<z.ZodString>;
    HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
    HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
    JFROG_API_KEY: z.ZodOptional<z.ZodString>;
    LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
    LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
    LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
    LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
    LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
    LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
    MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
    MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
    MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
    NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
    NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
    OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
    OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
    OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
    OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
    CODEX_API_KEY: z.ZodOptional<z.ZodString>;
    PALM_API_HOST: z.ZodOptional<z.ZodString>;
    PALM_API_KEY: z.ZodOptional<z.ZodString>;
    PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
    PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
    PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
    QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
    REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
    REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
    SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
    SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
    SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
    SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
    VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
    VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
    VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
    VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
    VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
    VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
    VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
    VERTEX_REGION: z.ZodOptional<z.ZodString>;
    VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
    WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
    WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
    WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
    WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
    XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    XAI_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
    AWS_REGION: z.ZodOptional<z.ZodString>;
    AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
    PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>>;
  inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
}, z.core.$strip>>, z.ZodObject<{
  id: z.ZodOptional<z.ZodCustom<string, string>>;
  label: z.ZodOptional<z.ZodCustom<string, string>>;
  config: z.ZodOptional<z.ZodAny>;
  prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
  transform: z.ZodOptional<z.ZodString>;
  delay: z.ZodOptional<z.ZodNumber>;
  env: z.ZodOptional<z.ZodObject<{
    AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AI21_API_KEY: z.ZodOptional<z.ZodString>;
    AIML_API_KEY: z.ZodOptional<z.ZodString>;
    ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
    ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
    AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
    AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_API_HOST: z.ZodOptional<z.ZodString>;
    AZURE_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
    AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
    AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
    AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
    AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
    CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
    CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
    CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
    COMETAPI_KEY: z.ZodOptional<z.ZodString>;
    COHERE_API_KEY: z.ZodOptional<z.ZodString>;
    COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
    DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
    DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
    DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
    DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
    ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
    FAL_KEY: z.ZodOptional<z.ZodString>;
    GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
    GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
    GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
    GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
    GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
    GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
    GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
    GROQ_API_KEY: z.ZodOptional<z.ZodString>;
    HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
    HF_API_TOKEN: z.ZodOptional<z.ZodString>;
    HF_TOKEN: z.ZodOptional<z.ZodString>;
    HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
    HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
    JFROG_API_KEY: z.ZodOptional<z.ZodString>;
    LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
    LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
    LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
    LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
    LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
    LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
    MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
    MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
    MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
    NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
    NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
    OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
    OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
    OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
    OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
    CODEX_API_KEY: z.ZodOptional<z.ZodString>;
    PALM_API_HOST: z.ZodOptional<z.ZodString>;
    PALM_API_KEY: z.ZodOptional<z.ZodString>;
    PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
    PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
    PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
    QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
    REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
    REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
    SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
    SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
    SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
    SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
    VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
    VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
    VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
    VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
    VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
    VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
    VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
    VERTEX_REGION: z.ZodOptional<z.ZodString>;
    VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
    WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
    WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
    WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
    WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
    XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    XAI_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
    AWS_REGION: z.ZodOptional<z.ZodString>;
    AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
    PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>>;
  inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
}, z.core.$strip>]>>]>;
//#endregion
//#region src/redteam/constants/plugins.d.ts
declare const AGENTIC_PLUGINS: readonly ["agentic:memory-poisoning"];
type AgenticPlugin = (typeof AGENTIC_PLUGINS)[number];
declare const COLLECTIONS: readonly ["default", "foundation", "harmful", "pii", "bias", "medical", "pharmacy", "insurance", "financial", "ecommerce", "telecom", "guardrails-eval"];
type Collection = (typeof COLLECTIONS)[number];
declare const HARM_PLUGINS: {
  readonly 'harmful:intellectual-property': "Intellectual Property violation";
  readonly 'harmful:privacy': "Privacy violations";
  readonly 'harmful:child-exploitation': "Child Exploitation";
  readonly 'harmful:hate': "Hate";
  readonly 'harmful:indiscriminate-weapons': "Indiscriminate Weapons";
  readonly 'harmful:non-violent-crime': "Non-Violent Crimes";
  readonly 'harmful:self-harm': "Self-Harm";
  readonly 'harmful:sex-crime': "Sex Crimes";
  readonly 'harmful:sexual-content': "Sexual Content";
  readonly 'harmful:violent-crime': "Violent Crimes";
  readonly 'harmful:chemical-biological-weapons': "Chemical & Biological Weapons";
  readonly 'harmful:copyright-violations': "Copyright Violations - Copyrighted text";
  readonly 'harmful:cybercrime': "Cybercrime & Unauthorized Intrusion - Hacking and Malware";
  readonly 'harmful:graphic-content': "Graphic & age-restricted content";
  readonly 'harmful:harassment-bullying': "Harassment & Bullying";
  readonly 'harmful:illegal-activities': "Illegal Activities - Fraud & scams";
  readonly 'harmful:illegal-drugs': "Illegal Drugs";
  readonly 'harmful:unsafe-practices': "Promotion of unsafe practices";
  readonly 'harmful:insults': "Insults and personal attacks";
  readonly 'harmful:profanity': "Requests containing profanity";
  readonly 'harmful:radicalization': "Radicalization";
  readonly 'harmful:illegal-drugs:meth': "Methamphetamine";
  readonly 'harmful:weapons:ied': "Improvised Explosive Devices";
  readonly 'harmful:cybercrime:malicious-code': "Malicious Code";
  readonly 'harmful:misinformation-disinformation': "Misinformation & Disinformation - Harmful lies and propaganda";
  readonly 'harmful:specialized-advice': "Specialized Advice - Financial";
};
type HarmPlugin = keyof typeof HARM_PLUGINS;
declare const PII_PLUGINS: readonly ["pii:api-db", "pii:direct", "pii:session", "pii:social"];
declare const BIAS_PLUGINS: readonly ["bias:age", "bias:disability", "bias:gender", "bias:race"];
type PIIPlugin = (typeof PII_PLUGINS)[number];
type BiasPlugin = (typeof BIAS_PLUGINS)[number];
declare const BASE_PLUGINS: readonly ["contracts", "excessive-agency", "hallucination", "hijacking", "politics"];
type BasePlugin = (typeof BASE_PLUGINS)[number];
declare const ADDITIONAL_PLUGINS: readonly ["aegis", "ascii-smuggling", "beavertails", "bfla", "bola", "cca", "competitors", "coppa", "cross-session-leak", "cyberseceval", "data-exfil", "debug-access", "divergent-repetition", "donotanswer", "ferpa", "harmbench", "toxic-chat", "imitation", "indirect-prompt-injection", "mcp", "medical:anchoring-bias", "medical:hallucination", "medical:incorrect-knowledge", "medical:off-label-use", "medical:prioritization-error", "medical:sycophancy", "financial:calculation-error", "financial:compliance-violation", "financial:confidential-disclosure", "financial:counterfactual", "financial:data-leakage", "financial:defamation", "financial:hallucination", "financial:impartiality", "financial:misconduct", "financial:sycophancy", "ecommerce:compliance-bypass", "ecommerce:order-fraud", "ecommerce:pci-dss", "ecommerce:price-manipulation", "goal-misalignment", "insurance:coverage-discrimination", "insurance:network-misinformation", "insurance:phi-disclosure", "off-topic", "overreliance", "pharmacy:controlled-substance-compliance", "pharmacy:dosage-calculation", "pharmacy:drug-interaction", "telecom:cpni-disclosure", "telecom:location-disclosure", "telecom:account-takeover", "telecom:e911-misinformation", "telecom:tcpa-violation", "telecom:unauthorized-changes", "telecom:fraud-enablement", "telecom:porting-misinformation", "telecom:billing-misinformation", "telecom:coverage-misinformation", "telecom:law-enforcement-request-handling", "telecom:accessibility-violation", "pliny", "prompt-extraction", "rag-document-exfiltration", "rag-poisoning", "rag-source-attribution", "rbac", "reasoning-dos", "religion", "shell-injection", "special-token-injection", "sql-injection", "ssrf", "system-prompt-override", "tool-discovery", "unsafebench", "unverifiable-claims", "vlguard", "vlsu", "wordplay", "xstest"];
type AdditionalPlugin = (typeof ADDITIONAL_PLUGINS)[number];
declare const CONFIG_REQUIRED_PLUGINS: readonly ["intent", "policy"];
type ConfigRequiredPlugin = (typeof CONFIG_REQUIRED_PLUGINS)[number];
type Plugin = AdditionalPlugin | BasePlugin | Collection | ConfigRequiredPlugin | HarmPlugin | PIIPlugin | BiasPlugin | AgenticPlugin;
//#endregion
//#region src/redteam/constants/strategies.d.ts
declare const FRAMEWORK_COMPLIANCE_IDS: readonly ["mitre:atlas", "nist:ai:measure", "owasp:api", "owasp:llm", "owasp:agentic", "eu:ai-act", "iso:42001", "gdpr"];
type FrameworkComplianceId = (typeof FRAMEWORK_COMPLIANCE_IDS)[number];
//#endregion
//#region src/redteam/constants/metadata.d.ts
declare const Severity: {
  readonly Critical: "critical";
  readonly High: "high";
  readonly Medium: "medium";
  readonly Low: "low";
  readonly Informational: "informational";
};
type Severity = (typeof Severity)[keyof typeof Severity];
//#endregion
//#region src/redteam/types.d.ts
type Modifier = string | 'tone' | 'style' | 'context' | 'testGenerationInstructions';
type Intent = string | string[];
declare const PolicyObjectSchema: z.ZodObject<{
  id: z.ZodString;
  text: z.ZodOptional<z.ZodString>;
  name: z.ZodOptional<z.ZodString>;
}, z.core.$strip>;
type PolicyObject = z.infer<typeof PolicyObjectSchema>;
type Policy = string | PolicyObject;
type PoliciesById = Map<PolicyObject['id'], {
  text: Required<PolicyObject>['text'];
  name: Required<PolicyObject>['name'];
  severity: Severity;
}>;
type RedteamObjectConfig = Record<string, unknown>;
interface TracingConfig {
  enabled?: boolean;
  includeInAttack?: boolean;
  includeInGrading?: boolean;
  includeInternalSpans?: boolean;
  maxSpans?: number;
  maxDepth?: number;
  maxRetries?: number;
  retryDelayMs?: number;
  spanFilter?: string[];
  sanitizeAttributes?: boolean;
  strategies?: Record<string, TracingConfig>;
}
declare const PluginConfigSchema: z.ZodObject<{
  examples: z.ZodOptional<z.ZodArray<z.ZodString>>;
  graderExamples: z.ZodOptional<z.ZodArray<z.ZodObject<{
    output: z.ZodString;
    pass: z.ZodBoolean;
    score: z.ZodNumber;
    reason: z.ZodString;
  }, z.core.$strip>>>;
  graderGuidance: z.ZodOptional<z.ZodString>;
  severity: z.ZodOptional<z.ZodEnum<{
    critical: "critical";
    high: "high";
    medium: "medium";
    low: "low";
    informational: "informational";
  }>>;
  language: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>]>>;
  prompt: z.ZodOptional<z.ZodString>;
  purpose: z.ZodOptional<z.ZodString>;
  modifiers: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;
  targetIdentifiers: z.ZodOptional<z.ZodArray<z.ZodString>>;
  targetSystems: z.ZodOptional<z.ZodArray<z.ZodString>>;
  mentions: z.ZodOptional<z.ZodBoolean>;
  targetUrls: z.ZodOptional<z.ZodArray<z.ZodString>>;
  ssrfFailThreshold: z.ZodOptional<z.ZodEnum<{
    critical: "critical";
    high: "high";
    medium: "medium";
    low: "low";
  }>>;
  name: z.ZodOptional<z.ZodString>;
  multilingual: z.ZodOptional<z.ZodBoolean>;
  indirectInjectionVar: z.ZodOptional<z.ZodString>;
  intent: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>]>>]>>;
  policy: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    id: z.ZodString;
    text: z.ZodOptional<z.ZodString>;
    name: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>]>>;
  systemPrompt: z.ZodOptional<z.ZodString>;
  excludeStrategies: z.ZodOptional<z.ZodArray<z.ZodString>>;
  inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  __nonce: z.ZodOptional<z.ZodNumber>;
}, z.core.$strip>;
type PluginConfig = z.infer<typeof PluginConfigSchema>;
declare const StrategyConfigSchema: z.ZodObject<{
  enabled: z.ZodOptional<z.ZodBoolean>;
  plugins: z.ZodOptional<z.ZodArray<z.ZodString>>;
  numTests: z.ZodOptional<z.ZodNumber>;
}, z.core.$catchall<z.ZodUnknown>>;
type StrategyConfig = z.infer<typeof StrategyConfigSchema>;
declare const ConversationMessageSchema: z.ZodObject<{
  role: z.ZodEnum<{
    assistant: "assistant";
    user: "user";
  }>;
  content: z.ZodString;
}, z.core.$strip>;
type ConversationMessage = z.infer<typeof ConversationMessageSchema>;
type ConfigurableObject = {
  id: string;
  config?: RedteamObjectConfig;
};
type WithNumTests = {
  numTests?: number;
};
type TestCase$1 = {
  description?: string;
  vars?: Record<string, unknown>;
  provider?: string | ProviderOptions | ApiProvider;
  providerOutput?: string | Record<string, unknown>;
  assert?: any;
  options?: any;
};
type RedteamPluginObject = ConfigurableObject & WithNumTests & {
  severity?: Severity;
  config?: PluginConfig;
};
type RedteamPlugin = string | RedteamPluginObject;
type RedteamStrategyObject = {
  id: string;
  config?: StrategyConfig;
};
type RedteamStrategy = string | RedteamStrategyObject;
interface PluginActionParams {
  provider: ApiProvider;
  purpose: string;
  injectVar: string;
  n: number;
  delayMs: number;
  config?: PluginConfig;
}
interface RedteamContext {
  id: string;
  purpose: string;
  vars?: Record<string, string>;
}
type CommonOptions = {
  injectVar?: string;
  inputs?: Inputs;
  language?: string | string[];
  numTests?: number;
  plugins?: RedteamPluginObject[];
  provider?: string | ProviderOptions | ApiProvider;
  purpose?: string;
  contexts?: RedteamContext[];
  strategies?: RedteamStrategy[];
  frameworks?: FrameworkComplianceId[];
  delay?: number;
  remote?: boolean;
  sharing?: boolean;
  excludeTargetOutputFromAgenticAttackGeneration?: boolean;
  testGenerationInstructions?: string;
  maxConcurrency?: number;
  tracing?: TracingConfig;
};
interface RedteamCliGenerateOptions extends CommonOptions {
  cache: boolean;
  config?: string;
  target?: string;
  defaultConfig: Record<string, unknown>;
  defaultConfigPath?: string;
  description?: string;
  envFile?: string;
  maxConcurrency?: number;
  output?: string;
  force?: boolean;
  write: boolean;
  inRedteamRun?: boolean;
  verbose?: boolean;
  abortSignal?: AbortSignal;
  burpEscapeJson?: boolean;
  progressBar?: boolean;
  liveRedteamConfig?: RedteamObjectConfig;
  configFromCloud?: any;
  strict?: boolean;
}
interface RedteamFileConfig extends CommonOptions {
  entities?: string[];
  severity?: Record<Plugin, Severity>;
  excludeTargetOutputFromAgenticAttackGeneration?: boolean;
}
interface SynthesizeOptions extends CommonOptions {
  abortSignal?: AbortSignal;
  entities?: string[];
  inputs?: Inputs;
  language?: string | string[];
  maxConcurrency?: number;
  numTests: number;
  plugins: (RedteamPluginObject & {
    id: string;
    numTests: number;
  })[];
  prompts: [string, ...string[]];
  strategies: RedteamStrategyObject[];
  targetIds: string[];
  showProgressBar?: boolean;
}
type RedteamAssertionTypes = `promptfoo:redteam:${string}`;
interface RedteamRunOptions {
  id?: string;
  config?: string;
  target?: string;
  output?: string;
  cache?: boolean;
  envPath?: string;
  maxConcurrency?: number;
  delay?: number;
  remote?: boolean;
  force?: boolean;
  filterProviders?: string;
  filterTargets?: string;
  verbose?: boolean;
  progressBar?: boolean;
  description?: string;
  strict?: boolean;
  liveRedteamConfig?: any;
  logCallback?: (message: string) => void;
  progressCallback?: (completed: number, total: number, index: number | string, evalStep: any, // RunEvalOptions, but introduces circular dependency
  metrics: any) => void;
  abortSignal?: AbortSignal;
  loadedFromCloud?: boolean;
}
interface SavedRedteamConfig {
  description: string;
  prompts: string[];
  target: ProviderOptions;
  plugins: (RedteamPlugin | {
    id: string;
    config?: any;
  })[];
  strategies: RedteamStrategy[];
  purpose?: string;
  frameworks?: FrameworkComplianceId[];
  extensions?: string[];
  numTests?: number;
  maxConcurrency?: number;
  language?: string | string[];
  provider?: string | ProviderOptions;
  applicationDefinition: {
    purpose?: string;
    features?: string;
    hasAccessTo?: string;
    doesNotHaveAccessTo?: string;
    userTypes?: string;
    securityRequirements?: string;
    exampleIdentifiers?: string;
    industry?: string;
    sensitiveDataTypes?: string;
    criticalActions?: string;
    forbiddenTopics?: string;
    competitors?: string;
    systemPrompt?: string;
    redteamUser?: string;
    accessToData?: string;
    forbiddenData?: string;
    accessToActions?: string;
    forbiddenActions?: string;
    connectedSystems?: string;
    attackConstraints?: string;
  };
  testGenerationInstructions?: string;
  entities: string[];
  defaultTest?: TestCase$1;
}
/**
 * Media data (audio or image) for redteam history entries
 */
interface RedteamMediaData {
  /**
   * Media payload for rendering/transport.
   *
   * - Base64 string (legacy/inline)
   * - `storageRef:<key>` string (external media storage)
   *
   * Optional because some code paths only know the format and store the payload elsewhere.
   */
  data?: string;
  format: string;
}
/**
 * Single entry in redteam conversation history
 */
interface RedteamHistoryEntry {
  prompt: string;
  output: string;
  /** Audio data for the prompt (when using audio transforms) */
  promptAudio?: RedteamMediaData;
  /** Image data for the prompt (when using image transforms) */
  promptImage?: RedteamMediaData;
  /** Audio data from the target response */
  outputAudio?: RedteamMediaData;
  /** Image data from the target response */
  outputImage?: RedteamMediaData;
  /** Extracted input variables for multi-input mode */
  inputVars?: Record<string, string>;
}
/**
 * Base metadata interface shared by all redteam providers
 */
interface BaseRedteamMetadata {
  redteamFinalPrompt?: string;
  messages: Record<string, any>[];
  stopReason: string;
  redteamHistory?: RedteamHistoryEntry[];
  sessionIds?: string[];
  sessionId?: string;
}
/**
 * Configuration for audio grading in voice-based red team evaluations
 */
interface AudioGradingConfig {
  /** Whether to enable audio-based grading */
  enabled?: boolean;
  /** Model to use for audio grading */
  model?: string;
  /** Custom grading prompt */
  prompt?: string;
}
/**
 * Options for generating red team tests via the public API
 * This is a cleaner subset of RedteamCliGenerateOptions for external use
 */
type RedteamGenerateOptions = Partial<RedteamCliGenerateOptions>;
/**
 * Information about a plugin that failed to generate test cases.
 */
interface FailedPluginInfo {
  pluginId: string;
  requested: number;
}
/**
 * Custom error class for partial test generation failures.
 * Thrown when some plugins completely fail to generate any test cases,
 * which would significantly impact scan quality and completeness.
 */
declare class PartialGenerationError extends Error {
  readonly failedPlugins: FailedPluginInfo[];
  constructor(failedPlugins: FailedPluginInfo[]);
}
//#endregion
//#region src/types/tracing.d.ts
interface TraceSpan {
  spanId: string;
  parentSpanId?: string;
  name: string;
  startTime: number;
  endTime?: number;
  attributes?: Record<string, any>;
  statusCode?: number;
  statusMessage?: string;
}
interface TraceData {
  traceId: string;
  evaluationId: string;
  testCaseId: string;
  metadata?: Record<string, any>;
  spans: TraceSpan[];
}
//#endregion
//#region src/types/index.d.ts
/**
 * Minimal interface for RateLimitRegistry to avoid circular dependency.
 * The actual implementation is in scheduler/rateLimitRegistry.ts.
 */
interface RateLimitRegistryRef {
  execute: <T>(provider: ApiProvider, callFn: () => Promise<T>, options?: {
    getHeaders?: (result: T) => Record<string, string> | undefined;
    isRateLimited?: (result: T | undefined, error?: Error) => boolean;
    getRetryAfter?: (result: T | undefined, error?: Error) => number | undefined;
  }) => Promise<T>;
  dispose: () => void;
}
declare const CommandLineOptionsSchema: z.ZodObject<{
  description: z.ZodOptional<z.ZodString>;
  prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
  providers: z.ZodArray<z.ZodString>;
  output: z.ZodArray<z.ZodString>;
  maxConcurrency: z.ZodOptional<z.ZodCoercedNumber<unknown>>;
  repeat: z.ZodOptional<z.ZodCoercedNumber<unknown>>;
  delay: z.ZodPrefault<z.ZodCoercedNumber<unknown>>;
  vars: z.ZodOptional<z.ZodString>;
  tests: z.ZodOptional<z.ZodString>;
  config: z.ZodOptional<z.ZodArray<z.ZodString>>;
  assertions: z.ZodOptional<z.ZodString>;
  modelOutputs: z.ZodOptional<z.ZodString>;
  verbose: z.ZodOptional<z.ZodBoolean>;
  grader: z.ZodOptional<z.ZodString>;
  tableCellMaxLength: z.ZodOptional<z.ZodCoercedNumber<unknown>>;
  write: z.ZodOptional<z.ZodBoolean>;
  cache: z.ZodOptional<z.ZodBoolean>;
  table: z.ZodOptional<z.ZodBoolean>;
  share: z.ZodOptional<z.ZodBoolean>;
  noShare: z.ZodOptional<z.ZodBoolean>;
  progressBar: z.ZodOptional<z.ZodBoolean>;
  watch: z.ZodOptional<z.ZodBoolean>;
  filterErrorsOnly: z.ZodOptional<z.ZodString>;
  filterFailing: z.ZodOptional<z.ZodString>;
  filterFailingOnly: z.ZodOptional<z.ZodString>;
  filterFirstN: z.ZodOptional<z.ZodCoercedNumber<unknown>>;
  filterMetadata: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>]>>;
  filterPattern: z.ZodOptional<z.ZodString>;
  filterProviders: z.ZodOptional<z.ZodString>;
  filterSample: z.ZodOptional<z.ZodCoercedNumber<unknown>>;
  filterTargets: z.ZodOptional<z.ZodString>;
  var: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  generateSuggestions: z.ZodOptional<z.ZodBoolean>;
  promptPrefix: z.ZodOptional<z.ZodString>;
  promptSuffix: z.ZodOptional<z.ZodString>;
  retryErrors: z.ZodOptional<z.ZodBoolean>;
  envPath: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>]>>;
  extension: z.ZodOptional<z.ZodArray<z.ZodString>>;
}, z.core.$strip>;
type CommandLineOptions = z.infer<typeof CommandLineOptionsSchema>;
interface CsvRow {
  [key: string]: string;
}
type VarMapping = Record<string, string>;
declare const GradingConfigSchema: z.ZodObject<{
  rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
    role: z.ZodString;
    content: z.ZodString;
  }, z.core.$strip>>]>>;
  provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
  factuality: z.ZodOptional<z.ZodObject<{
    subset: z.ZodOptional<z.ZodNumber>;
    superset: z.ZodOptional<z.ZodNumber>;
    agree: z.ZodOptional<z.ZodNumber>;
    disagree: z.ZodOptional<z.ZodNumber>;
    differButFactual: z.ZodOptional<z.ZodNumber>;
  }, z.core.$strip>>;
}, z.core.$strip>;
type GradingConfig = z.infer<typeof GradingConfigSchema>;
declare const OutputConfigSchema: z.ZodObject<{
  postprocess: z.ZodOptional<z.ZodString>;
  transform: z.ZodOptional<z.ZodString>;
  transformVars: z.ZodOptional<z.ZodString>;
  storeOutputAs: z.ZodOptional<z.ZodString>;
}, z.core.$strip>;
type OutputConfig = z.infer<typeof OutputConfigSchema>;
type EvalConversations = Record<string, {
  prompt: string | object;
  input: string;
  output: string | object;
  metadata?: object;
}[]>;
type EvalRegisters = Record<string, VarValue>;
interface RunEvalOptions {
  provider: ApiProvider;
  prompt: Prompt;
  delay: number;
  test: AtomicTestCase;
  testSuite?: TestSuite;
  nunjucksFilters?: NunjucksFilterMap;
  evaluateOptions?: EvaluateOptions;
  testIdx: number;
  promptIdx: number;
  repeatIndex: number;
  conversations?: EvalConversations;
  registers?: EvalRegisters;
  isRedteam: boolean;
  concurrency?: number;
  /**
   * Evaluation ID for tracking blob references in the database.
   * When set, allows blob storage to record references for access control.
   */
  evalId?: string;
  /**
   * AbortSignal that can be used to cancel the evaluation
   * This is passed to the provider's callApi function
   */
  abortSignal?: AbortSignal;
  /**
   * Rate limit registry for adaptive concurrency control.
   * When provided, provider calls are wrapped with rate limiting and retry logic.
   */
  rateLimitRegistry?: RateLimitRegistryRef;
}
declare const EvaluateOptionsSchema: z.ZodObject<{
  cache: z.ZodOptional<z.ZodBoolean>;
  delay: z.ZodOptional<z.ZodNumber>;
  eventSource: z.ZodOptional<z.ZodString>;
  generateSuggestions: z.ZodOptional<z.ZodBoolean>;
  interactiveProviders: z.ZodOptional<z.ZodBoolean>;
  maxConcurrency: z.ZodOptional<z.ZodNumber>;
  progressCallback: z.ZodOptional<z.ZodCustom<(completed: number, total: number, index: number, evalStep: RunEvalOptions, metrics: PromptMetrics) => void, (completed: number, total: number, index: number, evalStep: RunEvalOptions, metrics: PromptMetrics) => void>>;
  repeat: z.ZodOptional<z.ZodNumber>;
  showProgressBar: z.ZodOptional<z.ZodBoolean>;
  timeoutMs: z.ZodOptional<z.ZodNumber>;
  maxEvalTimeMs: z.ZodOptional<z.ZodNumber>;
  isRedteam: z.ZodOptional<z.ZodBoolean>;
  silent: z.ZodOptional<z.ZodBoolean>;
}, z.core.$strip>;
type EvaluateOptions = z.infer<typeof EvaluateOptionsSchema> & {
  abortSignal?: AbortSignal;
};
declare const PromptMetricsSchema: z.ZodObject<{
  score: z.ZodNumber;
  testPassCount: z.ZodNumber;
  testFailCount: z.ZodNumber;
  testErrorCount: z.ZodNumber;
  assertPassCount: z.ZodNumber;
  assertFailCount: z.ZodNumber;
  totalLatencyMs: z.ZodNumber;
  tokenUsage: z.ZodObject<{
    prompt: z.ZodOptional<z.ZodNumber>;
    completion: z.ZodOptional<z.ZodNumber>;
    cached: z.ZodOptional<z.ZodNumber>;
    total: z.ZodOptional<z.ZodNumber>;
    numRequests: z.ZodOptional<z.ZodNumber>;
    completionDetails: z.ZodOptional<z.ZodObject<{
      reasoning: z.ZodOptional<z.ZodNumber>;
      acceptedPrediction: z.ZodOptional<z.ZodNumber>;
      rejectedPrediction: z.ZodOptional<z.ZodNumber>;
    }, z.core.$strip>>;
    assertions: z.ZodOptional<z.ZodObject<{
      total: z.ZodOptional<z.ZodNumber>;
      prompt: z.ZodOptional<z.ZodNumber>;
      completion: z.ZodOptional<z.ZodNumber>;
      cached: z.ZodOptional<z.ZodNumber>;
      numRequests: z.ZodOptional<z.ZodNumber>;
      completionDetails: z.ZodOptional<z.ZodObject<{
        reasoning: z.ZodOptional<z.ZodNumber>;
        acceptedPrediction: z.ZodOptional<z.ZodNumber>;
        rejectedPrediction: z.ZodOptional<z.ZodNumber>;
      }, z.core.$strip>>;
    }, z.core.$strip>>;
  }, z.core.$strip>;
  namedScores: z.ZodRecord<z.ZodString, z.ZodNumber>;
  namedScoresCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
  redteam: z.ZodOptional<z.ZodObject<{
    pluginPassCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
    pluginFailCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
    strategyPassCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
    strategyFailCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
  }, z.core.$strip>>;
  cost: z.ZodNumber;
}, z.core.$strip>;
type PromptMetrics = z.infer<typeof PromptMetricsSchema>;
declare const CompletedPromptSchema: z.ZodObject<{
  id: z.ZodOptional<z.ZodString>;
  raw: z.ZodString;
  display: z.ZodOptional<z.ZodString>;
  label: z.ZodString;
  function: z.ZodOptional<z.ZodCustom<PromptFunction, PromptFunction>>;
  config: z.ZodOptional<z.ZodAny>;
  provider: z.ZodString;
  metrics: z.ZodOptional<z.ZodObject<{
    score: z.ZodNumber;
    testPassCount: z.ZodNumber;
    testFailCount: z.ZodNumber;
    testErrorCount: z.ZodNumber;
    assertPassCount: z.ZodNumber;
    assertFailCount: z.ZodNumber;
    totalLatencyMs: z.ZodNumber;
    tokenUsage: z.ZodObject<{
      prompt: z.ZodOptional<z.ZodNumber>;
      completion: z.ZodOptional<z.ZodNumber>;
      cached: z.ZodOptional<z.ZodNumber>;
      total: z.ZodOptional<z.ZodNumber>;
      numRequests: z.ZodOptional<z.ZodNumber>;
      completionDetails: z.ZodOptional<z.ZodObject<{
        reasoning: z.ZodOptional<z.ZodNumber>;
        acceptedPrediction: z.ZodOptional<z.ZodNumber>;
        rejectedPrediction: z.ZodOptional<z.ZodNumber>;
      }, z.core.$strip>>;
      assertions: z.ZodOptional<z.ZodObject<{
        total: z.ZodOptional<z.ZodNumber>;
        prompt: z.ZodOptional<z.ZodNumber>;
        completion: z.ZodOptional<z.ZodNumber>;
        cached: z.ZodOptional<z.ZodNumber>;
        numRequests: z.ZodOptional<z.ZodNumber>;
        completionDetails: z.ZodOptional<z.ZodObject<{
          reasoning: z.ZodOptional<z.ZodNumber>;
          acceptedPrediction: z.ZodOptional<z.ZodNumber>;
          rejectedPrediction: z.ZodOptional<z.ZodNumber>;
        }, z.core.$strip>>;
      }, z.core.$strip>>;
    }, z.core.$strip>;
    namedScores: z.ZodRecord<z.ZodString, z.ZodNumber>;
    namedScoresCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
    redteam: z.ZodOptional<z.ZodObject<{
      pluginPassCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
      pluginFailCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
      strategyPassCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
      strategyFailCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
    }, z.core.$strip>>;
    cost: z.ZodNumber;
  }, z.core.$strip>>;
}, z.core.$strip>;
type CompletedPrompt = z.infer<typeof CompletedPromptSchema>;
interface PromptWithMetadata {
  id: string;
  prompt: Prompt;
  recentEvalDate: Date;
  recentEvalId: string;
  evals: {
    id: string;
    datasetId: string;
    metrics: CompletedPrompt['metrics'];
  }[];
  count: number;
}
type ServerPromptWithMetadata = Omit<PromptWithMetadata, 'recentEvalDate'> & {
  recentEvalDate: string;
};
declare const ResultFailureReason: {
  readonly NONE: 0;
  readonly ASSERT: 1;
  readonly ERROR: 2;
};
type ResultFailureReason = (typeof ResultFailureReason)[keyof typeof ResultFailureReason];
declare function isResultFailureReason(value: number): value is ResultFailureReason;
interface EvaluateResult {
  id?: string;
  description?: string;
  promptIdx: number;
  testIdx: number;
  testCase: AtomicTestCase;
  promptId: string;
  provider: Pick<ProviderOptions, 'id' | 'label'>;
  prompt: Prompt;
  vars: Vars;
  response?: ProviderResponse;
  error?: string | null;
  failureReason: ResultFailureReason;
  success: boolean;
  score: number;
  latencyMs: number;
  gradingResult?: GradingResult | null;
  namedScores: Record<string, number>;
  cost?: number;
  metadata?: Record<string, any>;
  tokenUsage?: Required<TokenUsage>;
}
interface EvaluateTableOutput {
  cost: number;
  failureReason: ResultFailureReason;
  gradingResult?: GradingResult | null;
  id: string;
  latencyMs: number;
  metadata?: Record<string, any>;
  namedScores: Record<string, number>;
  pass: boolean;
  prompt: string;
  provider?: string;
  response?: ProviderResponse;
  score: number;
  testCase: AtomicTestCase;
  text: string;
  tokenUsage?: Partial<TokenUsage>;
  error?: string | null;
  audio?: {
    id?: string;
    expiresAt?: number;
    data?: string;
    blobRef?: BlobRef;
    transcript?: string;
    format?: string;
    sampleRate?: number;
    channels?: number;
    duration?: number;
  };
  video?: {
    id?: string;
    blobRef?: BlobRef;
    storageRef?: {
      key?: string;
    };
    url?: string;
    format?: string;
    size?: string;
    duration?: number;
    thumbnail?: string;
    spritesheet?: string;
    model?: string;
    aspectRatio?: string;
    resolution?: string;
  };
}
interface EvaluateTableRow {
  description?: string;
  outputs: EvaluateTableOutput[];
  vars: string[];
  test: AtomicTestCase;
  testIdx: number;
}
interface EvaluateTable {
  head: {
    prompts: CompletedPrompt[];
    vars: string[];
  };
  body: EvaluateTableRow[];
}
interface EvaluateStats {
  successes: number;
  failures: number;
  errors: number;
  tokenUsage: Required<TokenUsage>;
  durationMs?: number;
}
interface EvaluateSummaryV3 {
  version: 3;
  timestamp: string;
  results: EvaluateResult[];
  prompts: CompletedPrompt[];
  stats: EvaluateStats;
}
interface EvaluateSummaryV2 {
  version: number;
  timestamp: string;
  results: EvaluateResult[];
  table: EvaluateTable;
  stats: EvaluateStats;
}
type EvalTableDTO = {
  table: EvaluateTable;
  totalCount: number;
  filteredCount: number;
  filteredMetrics: PromptMetrics[] | null;
  config: Partial<UnifiedConfig>;
  author: string | null;
  version: number;
  id: string;
  stats?: EvaluateStats;
};
interface ResultSuggestion {
  type: string;
  action: 'replace-prompt' | 'pre-filter' | 'post-filter' | 'note';
  value: string;
}
interface GradingResult {
  pass: boolean;
  score: number;
  reason: string;
  namedScores?: Record<string, number>;
  tokensUsed?: TokenUsage;
  componentResults?: GradingResult[];
  assertion?: Assertion;
  comment?: string;
  suggestions?: ResultSuggestion[];
  metadata?: {
    pluginId?: string;
    strategyId?: string;
    context?: string | string[];
    contextUnits?: string[];
    renderedAssertionValue?: string;
    renderedGradingPrompt?: string;
    [key: string]: any;
  };
}
declare function isGradingResult(result: any): result is GradingResult;
declare const BaseAssertionTypesSchema: z.ZodEnum<{
  "answer-relevance": "answer-relevance";
  bleu: "bleu";
  classifier: "classifier";
  contains: "contains";
  "contains-all": "contains-all";
  "contains-any": "contains-any";
  "contains-html": "contains-html";
  "contains-json": "contains-json";
  "contains-sql": "contains-sql";
  "contains-xml": "contains-xml";
  "context-faithfulness": "context-faithfulness";
  "context-recall": "context-recall";
  "context-relevance": "context-relevance";
  "conversation-relevance": "conversation-relevance";
  cost: "cost";
  equals: "equals";
  factuality: "factuality";
  "finish-reason": "finish-reason";
  "g-eval": "g-eval";
  gleu: "gleu";
  guardrails: "guardrails";
  icontains: "icontains";
  "icontains-all": "icontains-all";
  "icontains-any": "icontains-any";
  "is-html": "is-html";
  "is-json": "is-json";
  "is-refusal": "is-refusal";
  "is-sql": "is-sql";
  "is-valid-function-call": "is-valid-function-call";
  "is-valid-openai-function-call": "is-valid-openai-function-call";
  "is-valid-openai-tools-call": "is-valid-openai-tools-call";
  "is-xml": "is-xml";
  javascript: "javascript";
  latency: "latency";
  levenshtein: "levenshtein";
  "llm-rubric": "llm-rubric";
  pi: "pi";
  meteor: "meteor";
  "model-graded-closedqa": "model-graded-closedqa";
  "model-graded-factuality": "model-graded-factuality";
  moderation: "moderation";
  perplexity: "perplexity";
  "perplexity-score": "perplexity-score";
  python: "python";
  regex: "regex";
  "rouge-n": "rouge-n";
  ruby: "ruby";
  similar: "similar";
  "similar:cosine": "similar:cosine";
  "similar:dot": "similar:dot";
  "similar:euclidean": "similar:euclidean";
  "starts-with": "starts-with";
  "tool-call-f1": "tool-call-f1";
  "trace-error-spans": "trace-error-spans";
  "trace-span-count": "trace-span-count";
  "trace-span-duration": "trace-span-duration";
  "search-rubric": "search-rubric";
  webhook: "webhook";
  "word-count": "word-count";
}>;
type BaseAssertionTypes = z.infer<typeof BaseAssertionTypesSchema>;
type SpecialAssertionTypes = 'select-best' | 'human' | 'max-score';
declare const SpecialAssertionTypesSchema: z.ZodEnum<{
  "select-best": "select-best";
  human: "human";
  "max-score": "max-score";
}>;
declare const NotPrefixedAssertionTypesSchema: z.ZodPipe<z.ZodEnum<{
  "answer-relevance": "answer-relevance";
  bleu: "bleu";
  classifier: "classifier";
  contains: "contains";
  "contains-all": "contains-all";
  "contains-any": "contains-any";
  "contains-html": "contains-html";
  "contains-json": "contains-json";
  "contains-sql": "contains-sql";
  "contains-xml": "contains-xml";
  "context-faithfulness": "context-faithfulness";
  "context-recall": "context-recall";
  "context-relevance": "context-relevance";
  "conversation-relevance": "conversation-relevance";
  cost: "cost";
  equals: "equals";
  factuality: "factuality";
  "finish-reason": "finish-reason";
  "g-eval": "g-eval";
  gleu: "gleu";
  guardrails: "guardrails";
  icontains: "icontains";
  "icontains-all": "icontains-all";
  "icontains-any": "icontains-any";
  "is-html": "is-html";
  "is-json": "is-json";
  "is-refusal": "is-refusal";
  "is-sql": "is-sql";
  "is-valid-function-call": "is-valid-function-call";
  "is-valid-openai-function-call": "is-valid-openai-function-call";
  "is-valid-openai-tools-call": "is-valid-openai-tools-call";
  "is-xml": "is-xml";
  javascript: "javascript";
  latency: "latency";
  levenshtein: "levenshtein";
  "llm-rubric": "llm-rubric";
  pi: "pi";
  meteor: "meteor";
  "model-graded-closedqa": "model-graded-closedqa";
  "model-graded-factuality": "model-graded-factuality";
  moderation: "moderation";
  perplexity: "perplexity";
  "perplexity-score": "perplexity-score";
  python: "python";
  regex: "regex";
  "rouge-n": "rouge-n";
  ruby: "ruby";
  similar: "similar";
  "similar:cosine": "similar:cosine";
  "similar:dot": "similar:dot";
  "similar:euclidean": "similar:euclidean";
  "starts-with": "starts-with";
  "tool-call-f1": "tool-call-f1";
  "trace-error-spans": "trace-error-spans";
  "trace-span-count": "trace-span-count";
  "trace-span-duration": "trace-span-duration";
  "search-rubric": "search-rubric";
  webhook: "webhook";
  "word-count": "word-count";
}>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>;
declare const AssertionTypeSchema: z.ZodUnion<readonly [z.ZodEnum<{
  "answer-relevance": "answer-relevance";
  bleu: "bleu";
  classifier: "classifier";
  contains: "contains";
  "contains-all": "contains-all";
  "contains-any": "contains-any";
  "contains-html": "contains-html";
  "contains-json": "contains-json";
  "contains-sql": "contains-sql";
  "contains-xml": "contains-xml";
  "context-faithfulness": "context-faithfulness";
  "context-recall": "context-recall";
  "context-relevance": "context-relevance";
  "conversation-relevance": "conversation-relevance";
  cost: "cost";
  equals: "equals";
  factuality: "factuality";
  "finish-reason": "finish-reason";
  "g-eval": "g-eval";
  gleu: "gleu";
  guardrails: "guardrails";
  icontains: "icontains";
  "icontains-all": "icontains-all";
  "icontains-any": "icontains-any";
  "is-html": "is-html";
  "is-json": "is-json";
  "is-refusal": "is-refusal";
  "is-sql": "is-sql";
  "is-valid-function-call": "is-valid-function-call";
  "is-valid-openai-function-call": "is-valid-openai-function-call";
  "is-valid-openai-tools-call": "is-valid-openai-tools-call";
  "is-xml": "is-xml";
  javascript: "javascript";
  latency: "latency";
  levenshtein: "levenshtein";
  "llm-rubric": "llm-rubric";
  pi: "pi";
  meteor: "meteor";
  "model-graded-closedqa": "model-graded-closedqa";
  "model-graded-factuality": "model-graded-factuality";
  moderation: "moderation";
  perplexity: "perplexity";
  "perplexity-score": "perplexity-score";
  python: "python";
  regex: "regex";
  "rouge-n": "rouge-n";
  ruby: "ruby";
  similar: "similar";
  "similar:cosine": "similar:cosine";
  "similar:dot": "similar:dot";
  "similar:euclidean": "similar:euclidean";
  "starts-with": "starts-with";
  "tool-call-f1": "tool-call-f1";
  "trace-error-spans": "trace-error-spans";
  "trace-span-count": "trace-span-count";
  "trace-span-duration": "trace-span-duration";
  "search-rubric": "search-rubric";
  webhook: "webhook";
  "word-count": "word-count";
}>, z.ZodPipe<z.ZodEnum<{
  "answer-relevance": "answer-relevance";
  bleu: "bleu";
  classifier: "classifier";
  contains: "contains";
  "contains-all": "contains-all";
  "contains-any": "contains-any";
  "contains-html": "contains-html";
  "contains-json": "contains-json";
  "contains-sql": "contains-sql";
  "contains-xml": "contains-xml";
  "context-faithfulness": "context-faithfulness";
  "context-recall": "context-recall";
  "context-relevance": "context-relevance";
  "conversation-relevance": "conversation-relevance";
  cost: "cost";
  equals: "equals";
  factuality: "factuality";
  "finish-reason": "finish-reason";
  "g-eval": "g-eval";
  gleu: "gleu";
  guardrails: "guardrails";
  icontains: "icontains";
  "icontains-all": "icontains-all";
  "icontains-any": "icontains-any";
  "is-html": "is-html";
  "is-json": "is-json";
  "is-refusal": "is-refusal";
  "is-sql": "is-sql";
  "is-valid-function-call": "is-valid-function-call";
  "is-valid-openai-function-call": "is-valid-openai-function-call";
  "is-valid-openai-tools-call": "is-valid-openai-tools-call";
  "is-xml": "is-xml";
  javascript: "javascript";
  latency: "latency";
  levenshtein: "levenshtein";
  "llm-rubric": "llm-rubric";
  pi: "pi";
  meteor: "meteor";
  "model-graded-closedqa": "model-graded-closedqa";
  "model-graded-factuality": "model-graded-factuality";
  moderation: "moderation";
  perplexity: "perplexity";
  "perplexity-score": "perplexity-score";
  python: "python";
  regex: "regex";
  "rouge-n": "rouge-n";
  ruby: "ruby";
  similar: "similar";
  "similar:cosine": "similar:cosine";
  "similar:dot": "similar:dot";
  "similar:euclidean": "similar:euclidean";
  "starts-with": "starts-with";
  "tool-call-f1": "tool-call-f1";
  "trace-error-spans": "trace-error-spans";
  "trace-span-count": "trace-span-count";
  "trace-span-duration": "trace-span-duration";
  "search-rubric": "search-rubric";
  webhook: "webhook";
  "word-count": "word-count";
}>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
  "select-best": "select-best";
  human: "human";
  "max-score": "max-score";
}>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
type AssertionType = z.infer<typeof AssertionTypeSchema>;
declare const AssertionSetSchema: z.ZodObject<{
  type: z.ZodLiteral<"assert-set">;
  assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
    type: z.ZodUnion<readonly [z.ZodEnum<{
      "answer-relevance": "answer-relevance";
      bleu: "bleu";
      classifier: "classifier";
      contains: "contains";
      "contains-all": "contains-all";
      "contains-any": "contains-any";
      "contains-html": "contains-html";
      "contains-json": "contains-json";
      "contains-sql": "contains-sql";
      "contains-xml": "contains-xml";
      "context-faithfulness": "context-faithfulness";
      "context-recall": "context-recall";
      "context-relevance": "context-relevance";
      "conversation-relevance": "conversation-relevance";
      cost: "cost";
      equals: "equals";
      factuality: "factuality";
      "finish-reason": "finish-reason";
      "g-eval": "g-eval";
      gleu: "gleu";
      guardrails: "guardrails";
      icontains: "icontains";
      "icontains-all": "icontains-all";
      "icontains-any": "icontains-any";
      "is-html": "is-html";
      "is-json": "is-json";
      "is-refusal": "is-refusal";
      "is-sql": "is-sql";
      "is-valid-function-call": "is-valid-function-call";
      "is-valid-openai-function-call": "is-valid-openai-function-call";
      "is-valid-openai-tools-call": "is-valid-openai-tools-call";
      "is-xml": "is-xml";
      javascript: "javascript";
      latency: "latency";
      levenshtein: "levenshtein";
      "llm-rubric": "llm-rubric";
      pi: "pi";
      meteor: "meteor";
      "model-graded-closedqa": "model-graded-closedqa";
      "model-graded-factuality": "model-graded-factuality";
      moderation: "moderation";
      perplexity: "perplexity";
      "perplexity-score": "perplexity-score";
      python: "python";
      regex: "regex";
      "rouge-n": "rouge-n";
      ruby: "ruby";
      similar: "similar";
      "similar:cosine": "similar:cosine";
      "similar:dot": "similar:dot";
      "similar:euclidean": "similar:euclidean";
      "starts-with": "starts-with";
      "tool-call-f1": "tool-call-f1";
      "trace-error-spans": "trace-error-spans";
      "trace-span-count": "trace-span-count";
      "trace-span-duration": "trace-span-duration";
      "search-rubric": "search-rubric";
      webhook: "webhook";
      "word-count": "word-count";
    }>, z.ZodPipe<z.ZodEnum<{
      "answer-relevance": "answer-relevance";
      bleu: "bleu";
      classifier: "classifier";
      contains: "contains";
      "contains-all": "contains-all";
      "contains-any": "contains-any";
      "contains-html": "contains-html";
      "contains-json": "contains-json";
      "contains-sql": "contains-sql";
      "contains-xml": "contains-xml";
      "context-faithfulness": "context-faithfulness";
      "context-recall": "context-recall";
      "context-relevance": "context-relevance";
      "conversation-relevance": "conversation-relevance";
      cost: "cost";
      equals: "equals";
      factuality: "factuality";
      "finish-reason": "finish-reason";
      "g-eval": "g-eval";
      gleu: "gleu";
      guardrails: "guardrails";
      icontains: "icontains";
      "icontains-all": "icontains-all";
      "icontains-any": "icontains-any";
      "is-html": "is-html";
      "is-json": "is-json";
      "is-refusal": "is-refusal";
      "is-sql": "is-sql";
      "is-valid-function-call": "is-valid-function-call";
      "is-valid-openai-function-call": "is-valid-openai-function-call";
      "is-valid-openai-tools-call": "is-valid-openai-tools-call";
      "is-xml": "is-xml";
      javascript: "javascript";
      latency: "latency";
      levenshtein: "levenshtein";
      "llm-rubric": "llm-rubric";
      pi: "pi";
      meteor: "meteor";
      "model-graded-closedqa": "model-graded-closedqa";
      "model-graded-factuality": "model-graded-factuality";
      moderation: "moderation";
      perplexity: "perplexity";
      "perplexity-score": "perplexity-score";
      python: "python";
      regex: "regex";
      "rouge-n": "rouge-n";
      ruby: "ruby";
      similar: "similar";
      "similar:cosine": "similar:cosine";
      "similar:dot": "similar:dot";
      "similar:euclidean": "similar:euclidean";
      "starts-with": "starts-with";
      "tool-call-f1": "tool-call-f1";
      "trace-error-spans": "trace-error-spans";
      "trace-span-count": "trace-span-count";
      "trace-span-duration": "trace-span-duration";
      "search-rubric": "search-rubric";
      webhook: "webhook";
      "word-count": "word-count";
    }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
      "select-best": "select-best";
      human: "human";
      "max-score": "max-score";
    }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
    value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
    config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    threshold: z.ZodOptional<z.ZodNumber>;
    weight: z.ZodOptional<z.ZodNumber>;
    provider: z.ZodOptional<z.ZodCustom<any, any>>;
    rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
      role: string;
      content: string;
    }[] | undefined, string | string[] | {
      role: string;
      content: string;
    }[] | undefined>>;
    metric: z.ZodOptional<z.ZodString>;
    transform: z.ZodOptional<z.ZodString>;
    contextTransform: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>>>;
  weight: z.ZodOptional<z.ZodNumber>;
  metric: z.ZodOptional<z.ZodString>;
  threshold: z.ZodOptional<z.ZodNumber>;
  config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
}, z.core.$strip>;
type AssertionSet = z.infer<typeof AssertionSetSchema>;
declare const AssertionSchema: z.ZodObject<{
  type: z.ZodUnion<readonly [z.ZodEnum<{
    "answer-relevance": "answer-relevance";
    bleu: "bleu";
    classifier: "classifier";
    contains: "contains";
    "contains-all": "contains-all";
    "contains-any": "contains-any";
    "contains-html": "contains-html";
    "contains-json": "contains-json";
    "contains-sql": "contains-sql";
    "contains-xml": "contains-xml";
    "context-faithfulness": "context-faithfulness";
    "context-recall": "context-recall";
    "context-relevance": "context-relevance";
    "conversation-relevance": "conversation-relevance";
    cost: "cost";
    equals: "equals";
    factuality: "factuality";
    "finish-reason": "finish-reason";
    "g-eval": "g-eval";
    gleu: "gleu";
    guardrails: "guardrails";
    icontains: "icontains";
    "icontains-all": "icontains-all";
    "icontains-any": "icontains-any";
    "is-html": "is-html";
    "is-json": "is-json";
    "is-refusal": "is-refusal";
    "is-sql": "is-sql";
    "is-valid-function-call": "is-valid-function-call";
    "is-valid-openai-function-call": "is-valid-openai-function-call";
    "is-valid-openai-tools-call": "is-valid-openai-tools-call";
    "is-xml": "is-xml";
    javascript: "javascript";
    latency: "latency";
    levenshtein: "levenshtein";
    "llm-rubric": "llm-rubric";
    pi: "pi";
    meteor: "meteor";
    "model-graded-closedqa": "model-graded-closedqa";
    "model-graded-factuality": "model-graded-factuality";
    moderation: "moderation";
    perplexity: "perplexity";
    "perplexity-score": "perplexity-score";
    python: "python";
    regex: "regex";
    "rouge-n": "rouge-n";
    ruby: "ruby";
    similar: "similar";
    "similar:cosine": "similar:cosine";
    "similar:dot": "similar:dot";
    "similar:euclidean": "similar:euclidean";
    "starts-with": "starts-with";
    "tool-call-f1": "tool-call-f1";
    "trace-error-spans": "trace-error-spans";
    "trace-span-count": "trace-span-count";
    "trace-span-duration": "trace-span-duration";
    "search-rubric": "search-rubric";
    webhook: "webhook";
    "word-count": "word-count";
  }>, z.ZodPipe<z.ZodEnum<{
    "answer-relevance": "answer-relevance";
    bleu: "bleu";
    classifier: "classifier";
    contains: "contains";
    "contains-all": "contains-all";
    "contains-any": "contains-any";
    "contains-html": "contains-html";
    "contains-json": "contains-json";
    "contains-sql": "contains-sql";
    "contains-xml": "contains-xml";
    "context-faithfulness": "context-faithfulness";
    "context-recall": "context-recall";
    "context-relevance": "context-relevance";
    "conversation-relevance": "conversation-relevance";
    cost: "cost";
    equals: "equals";
    factuality: "factuality";
    "finish-reason": "finish-reason";
    "g-eval": "g-eval";
    gleu: "gleu";
    guardrails: "guardrails";
    icontains: "icontains";
    "icontains-all": "icontains-all";
    "icontains-any": "icontains-any";
    "is-html": "is-html";
    "is-json": "is-json";
    "is-refusal": "is-refusal";
    "is-sql": "is-sql";
    "is-valid-function-call": "is-valid-function-call";
    "is-valid-openai-function-call": "is-valid-openai-function-call";
    "is-valid-openai-tools-call": "is-valid-openai-tools-call";
    "is-xml": "is-xml";
    javascript: "javascript";
    latency: "latency";
    levenshtein: "levenshtein";
    "llm-rubric": "llm-rubric";
    pi: "pi";
    meteor: "meteor";
    "model-graded-closedqa": "model-graded-closedqa";
    "model-graded-factuality": "model-graded-factuality";
    moderation: "moderation";
    perplexity: "perplexity";
    "perplexity-score": "perplexity-score";
    python: "python";
    regex: "regex";
    "rouge-n": "rouge-n";
    ruby: "ruby";
    similar: "similar";
    "similar:cosine": "similar:cosine";
    "similar:dot": "similar:dot";
    "similar:euclidean": "similar:euclidean";
    "starts-with": "starts-with";
    "tool-call-f1": "tool-call-f1";
    "trace-error-spans": "trace-error-spans";
    "trace-span-count": "trace-span-count";
    "trace-span-duration": "trace-span-duration";
    "search-rubric": "search-rubric";
    webhook: "webhook";
    "word-count": "word-count";
  }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
    "select-best": "select-best";
    human: "human";
    "max-score": "max-score";
  }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
  value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
  config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
  threshold: z.ZodOptional<z.ZodNumber>;
  weight: z.ZodOptional<z.ZodNumber>;
  provider: z.ZodOptional<z.ZodCustom<any, any>>;
  rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
    role: string;
    content: string;
  }[] | undefined, string | string[] | {
    role: string;
    content: string;
  }[] | undefined>>;
  metric: z.ZodOptional<z.ZodString>;
  transform: z.ZodOptional<z.ZodString>;
  contextTransform: z.ZodOptional<z.ZodString>;
}, z.core.$strip>;
type Assertion = z.infer<typeof AssertionSchema>;
/**
 * Schema for validating individual assertions (regular or assert-set).
 * Used for runtime validation of user-provided config.
 */
declare const AssertionOrSetSchema: z.ZodUnion<readonly [z.ZodObject<{
  type: z.ZodLiteral<"assert-set">;
  assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
    type: z.ZodUnion<readonly [z.ZodEnum<{
      "answer-relevance": "answer-relevance";
      bleu: "bleu";
      classifier: "classifier";
      contains: "contains";
      "contains-all": "contains-all";
      "contains-any": "contains-any";
      "contains-html": "contains-html";
      "contains-json": "contains-json";
      "contains-sql": "contains-sql";
      "contains-xml": "contains-xml";
      "context-faithfulness": "context-faithfulness";
      "context-recall": "context-recall";
      "context-relevance": "context-relevance";
      "conversation-relevance": "conversation-relevance";
      cost: "cost";
      equals: "equals";
      factuality: "factuality";
      "finish-reason": "finish-reason";
      "g-eval": "g-eval";
      gleu: "gleu";
      guardrails: "guardrails";
      icontains: "icontains";
      "icontains-all": "icontains-all";
      "icontains-any": "icontains-any";
      "is-html": "is-html";
      "is-json": "is-json";
      "is-refusal": "is-refusal";
      "is-sql": "is-sql";
      "is-valid-function-call": "is-valid-function-call";
      "is-valid-openai-function-call": "is-valid-openai-function-call";
      "is-valid-openai-tools-call": "is-valid-openai-tools-call";
      "is-xml": "is-xml";
      javascript: "javascript";
      latency: "latency";
      levenshtein: "levenshtein";
      "llm-rubric": "llm-rubric";
      pi: "pi";
      meteor: "meteor";
      "model-graded-closedqa": "model-graded-closedqa";
      "model-graded-factuality": "model-graded-factuality";
      moderation: "moderation";
      perplexity: "perplexity";
      "perplexity-score": "perplexity-score";
      python: "python";
      regex: "regex";
      "rouge-n": "rouge-n";
      ruby: "ruby";
      similar: "similar";
      "similar:cosine": "similar:cosine";
      "similar:dot": "similar:dot";
      "similar:euclidean": "similar:euclidean";
      "starts-with": "starts-with";
      "tool-call-f1": "tool-call-f1";
      "trace-error-spans": "trace-error-spans";
      "trace-span-count": "trace-span-count";
      "trace-span-duration": "trace-span-duration";
      "search-rubric": "search-rubric";
      webhook: "webhook";
      "word-count": "word-count";
    }>, z.ZodPipe<z.ZodEnum<{
      "answer-relevance": "answer-relevance";
      bleu: "bleu";
      classifier: "classifier";
      contains: "contains";
      "contains-all": "contains-all";
      "contains-any": "contains-any";
      "contains-html": "contains-html";
      "contains-json": "contains-json";
      "contains-sql": "contains-sql";
      "contains-xml": "contains-xml";
      "context-faithfulness": "context-faithfulness";
      "context-recall": "context-recall";
      "context-relevance": "context-relevance";
      "conversation-relevance": "conversation-relevance";
      cost: "cost";
      equals: "equals";
      factuality: "factuality";
      "finish-reason": "finish-reason";
      "g-eval": "g-eval";
      gleu: "gleu";
      guardrails: "guardrails";
      icontains: "icontains";
      "icontains-all": "icontains-all";
      "icontains-any": "icontains-any";
      "is-html": "is-html";
      "is-json": "is-json";
      "is-refusal": "is-refusal";
      "is-sql": "is-sql";
      "is-valid-function-call": "is-valid-function-call";
      "is-valid-openai-function-call": "is-valid-openai-function-call";
      "is-valid-openai-tools-call": "is-valid-openai-tools-call";
      "is-xml": "is-xml";
      javascript: "javascript";
      latency: "latency";
      levenshtein: "levenshtein";
      "llm-rubric": "llm-rubric";
      pi: "pi";
      meteor: "meteor";
      "model-graded-closedqa": "model-graded-closedqa";
      "model-graded-factuality": "model-graded-factuality";
      moderation: "moderation";
      perplexity: "perplexity";
      "perplexity-score": "perplexity-score";
      python: "python";
      regex: "regex";
      "rouge-n": "rouge-n";
      ruby: "ruby";
      similar: "similar";
      "similar:cosine": "similar:cosine";
      "similar:dot": "similar:dot";
      "similar:euclidean": "similar:euclidean";
      "starts-with": "starts-with";
      "tool-call-f1": "tool-call-f1";
      "trace-error-spans": "trace-error-spans";
      "trace-span-count": "trace-span-count";
      "trace-span-duration": "trace-span-duration";
      "search-rubric": "search-rubric";
      webhook: "webhook";
      "word-count": "word-count";
    }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
      "select-best": "select-best";
      human: "human";
      "max-score": "max-score";
    }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
    value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
    config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    threshold: z.ZodOptional<z.ZodNumber>;
    weight: z.ZodOptional<z.ZodNumber>;
    provider: z.ZodOptional<z.ZodCustom<any, any>>;
    rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
      role: string;
      content: string;
    }[] | undefined, string | string[] | {
      role: string;
      content: string;
    }[] | undefined>>;
    metric: z.ZodOptional<z.ZodString>;
    transform: z.ZodOptional<z.ZodString>;
    contextTransform: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>>>;
  weight: z.ZodOptional<z.ZodNumber>;
  metric: z.ZodOptional<z.ZodString>;
  threshold: z.ZodOptional<z.ZodNumber>;
  config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
}, z.core.$strip>, z.ZodObject<{
  type: z.ZodUnion<readonly [z.ZodEnum<{
    "answer-relevance": "answer-relevance";
    bleu: "bleu";
    classifier: "classifier";
    contains: "contains";
    "contains-all": "contains-all";
    "contains-any": "contains-any";
    "contains-html": "contains-html";
    "contains-json": "contains-json";
    "contains-sql": "contains-sql";
    "contains-xml": "contains-xml";
    "context-faithfulness": "context-faithfulness";
    "context-recall": "context-recall";
    "context-relevance": "context-relevance";
    "conversation-relevance": "conversation-relevance";
    cost: "cost";
    equals: "equals";
    factuality: "factuality";
    "finish-reason": "finish-reason";
    "g-eval": "g-eval";
    gleu: "gleu";
    guardrails: "guardrails";
    icontains: "icontains";
    "icontains-all": "icontains-all";
    "icontains-any": "icontains-any";
    "is-html": "is-html";
    "is-json": "is-json";
    "is-refusal": "is-refusal";
    "is-sql": "is-sql";
    "is-valid-function-call": "is-valid-function-call";
    "is-valid-openai-function-call": "is-valid-openai-function-call";
    "is-valid-openai-tools-call": "is-valid-openai-tools-call";
    "is-xml": "is-xml";
    javascript: "javascript";
    latency: "latency";
    levenshtein: "levenshtein";
    "llm-rubric": "llm-rubric";
    pi: "pi";
    meteor: "meteor";
    "model-graded-closedqa": "model-graded-closedqa";
    "model-graded-factuality": "model-graded-factuality";
    moderation: "moderation";
    perplexity: "perplexity";
    "perplexity-score": "perplexity-score";
    python: "python";
    regex: "regex";
    "rouge-n": "rouge-n";
    ruby: "ruby";
    similar: "similar";
    "similar:cosine": "similar:cosine";
    "similar:dot": "similar:dot";
    "similar:euclidean": "similar:euclidean";
    "starts-with": "starts-with";
    "tool-call-f1": "tool-call-f1";
    "trace-error-spans": "trace-error-spans";
    "trace-span-count": "trace-span-count";
    "trace-span-duration": "trace-span-duration";
    "search-rubric": "search-rubric";
    webhook: "webhook";
    "word-count": "word-count";
  }>, z.ZodPipe<z.ZodEnum<{
    "answer-relevance": "answer-relevance";
    bleu: "bleu";
    classifier: "classifier";
    contains: "contains";
    "contains-all": "contains-all";
    "contains-any": "contains-any";
    "contains-html": "contains-html";
    "contains-json": "contains-json";
    "contains-sql": "contains-sql";
    "contains-xml": "contains-xml";
    "context-faithfulness": "context-faithfulness";
    "context-recall": "context-recall";
    "context-relevance": "context-relevance";
    "conversation-relevance": "conversation-relevance";
    cost: "cost";
    equals: "equals";
    factuality: "factuality";
    "finish-reason": "finish-reason";
    "g-eval": "g-eval";
    gleu: "gleu";
    guardrails: "guardrails";
    icontains: "icontains";
    "icontains-all": "icontains-all";
    "icontains-any": "icontains-any";
    "is-html": "is-html";
    "is-json": "is-json";
    "is-refusal": "is-refusal";
    "is-sql": "is-sql";
    "is-valid-function-call": "is-valid-function-call";
    "is-valid-openai-function-call": "is-valid-openai-function-call";
    "is-valid-openai-tools-call": "is-valid-openai-tools-call";
    "is-xml": "is-xml";
    javascript: "javascript";
    latency: "latency";
    levenshtein: "levenshtein";
    "llm-rubric": "llm-rubric";
    pi: "pi";
    meteor: "meteor";
    "model-graded-closedqa": "model-graded-closedqa";
    "model-graded-factuality": "model-graded-factuality";
    moderation: "moderation";
    perplexity: "perplexity";
    "perplexity-score": "perplexity-score";
    python: "python";
    regex: "regex";
    "rouge-n": "rouge-n";
    ruby: "ruby";
    similar: "similar";
    "similar:cosine": "similar:cosine";
    "similar:dot": "similar:dot";
    "similar:euclidean": "similar:euclidean";
    "starts-with": "starts-with";
    "tool-call-f1": "tool-call-f1";
    "trace-error-spans": "trace-error-spans";
    "trace-span-count": "trace-span-count";
    "trace-span-duration": "trace-span-duration";
    "search-rubric": "search-rubric";
    webhook: "webhook";
    "word-count": "word-count";
  }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
    "select-best": "select-best";
    human: "human";
    "max-score": "max-score";
  }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
  value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
  config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
  threshold: z.ZodOptional<z.ZodNumber>;
  weight: z.ZodOptional<z.ZodNumber>;
  provider: z.ZodOptional<z.ZodCustom<any, any>>;
  rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
    role: string;
    content: string;
  }[] | undefined, string | string[] | {
    role: string;
    content: string;
  }[] | undefined>>;
  metric: z.ZodOptional<z.ZodString>;
  transform: z.ZodOptional<z.ZodString>;
  contextTransform: z.ZodOptional<z.ZodString>;
}, z.core.$strip>]>;
type AssertionOrSet = z.infer<typeof AssertionOrSetSchema>;
interface AssertionValueFunctionContext {
  prompt: string | undefined;
  vars: Record<string, VarValue>;
  test: AtomicTestCase;
  logProbs: number[] | undefined;
  config?: Record<string, any>;
  provider: ApiProvider | undefined;
  providerResponse: ProviderResponse | undefined;
  trace?: TraceData;
}
type AssertionValueFunction = (output: string, context: AssertionValueFunctionContext) => AssertionValueFunctionResult | Promise<AssertionValueFunctionResult>;
type AssertionValue = string | string[] | number | object | AssertionValueFunction;
type AssertionValueFunctionResult = boolean | number | GradingResult;
interface AssertionParams {
  assertion: Assertion;
  baseType: AssertionType;
  /** Context passed to provider.callApi() for model-graded assertions */
  providerCallContext?: CallApiContextParams;
  /** Context passed to assertion value functions */
  assertionValueContext: AssertionValueFunctionContext;
  cost?: number;
  inverse: boolean;
  logProbs?: number[];
  latencyMs?: number;
  output: string | object;
  outputString: string;
  prompt?: string;
  provider?: ApiProvider;
  providerResponse: ProviderResponse;
  renderedValue?: AssertionValue;
  test: AtomicTestCase;
  valueFromScript?: string | boolean | number | GradingResult | object;
}
declare const TestCasesWithMetadataPromptSchema: z.ZodObject<{
  prompt: z.ZodObject<{
    id: z.ZodOptional<z.ZodString>;
    raw: z.ZodString;
    display: z.ZodOptional<z.ZodString>;
    label: z.ZodString;
    function: z.ZodOptional<z.ZodCustom<PromptFunction, PromptFunction>>;
    config: z.ZodOptional<z.ZodAny>;
    provider: z.ZodString;
    metrics: z.ZodOptional<z.ZodObject<{
      score: z.ZodNumber;
      testPassCount: z.ZodNumber;
      testFailCount: z.ZodNumber;
      testErrorCount: z.ZodNumber;
      assertPassCount: z.ZodNumber;
      assertFailCount: z.ZodNumber;
      totalLatencyMs: z.ZodNumber;
      tokenUsage: z.ZodObject<{
        prompt: z.ZodOptional<z.ZodNumber>;
        completion: z.ZodOptional<z.ZodNumber>;
        cached: z.ZodOptional<z.ZodNumber>;
        total: z.ZodOptional<z.ZodNumber>;
        numRequests: z.ZodOptional<z.ZodNumber>;
        completionDetails: z.ZodOptional<z.ZodObject<{
          reasoning: z.ZodOptional<z.ZodNumber>;
          acceptedPrediction: z.ZodOptional<z.ZodNumber>;
          rejectedPrediction: z.ZodOptional<z.ZodNumber>;
        }, z.core.$strip>>;
        assertions: z.ZodOptional<z.ZodObject<{
          total: z.ZodOptional<z.ZodNumber>;
          prompt: z.ZodOptional<z.ZodNumber>;
          completion: z.ZodOptional<z.ZodNumber>;
          cached: z.ZodOptional<z.ZodNumber>;
          numRequests: z.ZodOptional<z.ZodNumber>;
          completionDetails: z.ZodOptional<z.ZodObject<{
            reasoning: z.ZodOptional<z.ZodNumber>;
            acceptedPrediction: z.ZodOptional<z.ZodNumber>;
            rejectedPrediction: z.ZodOptional<z.ZodNumber>;
          }, z.core.$strip>>;
        }, z.core.$strip>>;
      }, z.core.$strip>;
      namedScores: z.ZodRecord<z.ZodString, z.ZodNumber>;
      namedScoresCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
      redteam: z.ZodOptional<z.ZodObject<{
        pluginPassCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
        pluginFailCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
        strategyPassCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
        strategyFailCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
      }, z.core.$strip>>;
      cost: z.ZodNumber;
    }, z.core.$strip>>;
  }, z.core.$strip>;
  id: z.ZodString;
  evalId: z.ZodString;
}, z.core.$strip>;
type TestCasesWithMetadataPrompt = z.infer<typeof TestCasesWithMetadataPromptSchema>;
type Vars = Record<string, VarValue>;
declare const VarsSchema: z.ZodCustom<Vars, Vars>;
type ScoringFunction = (namedScores: Record<string, number>, context?: {
  threshold?: number;
  parentAssertionSet?: {
    index: number;
    assertionSet: AssertionSet;
  };
  componentResults?: GradingResult[];
  tokensUsed?: {
    total: number;
    prompt: number;
    completion: number;
  };
}) => Promise<GradingResult> | GradingResult;
declare const TestCaseSchema: z.ZodObject<{
  description: z.ZodOptional<z.ZodString>;
  vars: z.ZodOptional<z.ZodCustom<Vars, Vars>>;
  provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    id: z.ZodOptional<z.ZodCustom<string, string>>;
    label: z.ZodOptional<z.ZodCustom<string, string>>;
    config: z.ZodOptional<z.ZodAny>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    transform: z.ZodOptional<z.ZodString>;
    delay: z.ZodOptional<z.ZodNumber>;
    env: z.ZodOptional<z.ZodObject<{
      AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AI21_API_KEY: z.ZodOptional<z.ZodString>;
      AIML_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
      AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
      AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
      AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
      AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
      CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
      COMETAPI_KEY: z.ZodOptional<z.ZodString>;
      COHERE_API_KEY: z.ZodOptional<z.ZodString>;
      COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
      DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
      DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
      ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
      FAL_KEY: z.ZodOptional<z.ZodString>;
      GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
      GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
      GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
      GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
      GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
      GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
      GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
      GROQ_API_KEY: z.ZodOptional<z.ZodString>;
      HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
      HF_API_TOKEN: z.ZodOptional<z.ZodString>;
      HF_TOKEN: z.ZodOptional<z.ZodString>;
      HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
      HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
      JFROG_API_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
      LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
      LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
      LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
      MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
      NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
      NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
      CODEX_API_KEY: z.ZodOptional<z.ZodString>;
      PALM_API_HOST: z.ZodOptional<z.ZodString>;
      PALM_API_KEY: z.ZodOptional<z.ZodString>;
      PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
      PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
      PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
      QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
      SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
      SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
      VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
      VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
      VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
      VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
      VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
      VERTEX_REGION: z.ZodOptional<z.ZodString>;
      VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
      WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
      WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
      XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      XAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
      AWS_REGION: z.ZodOptional<z.ZodString>;
      AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
      PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>>;
    inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  }, z.core.$strip>, z.ZodObject<{
    id: z.ZodCustom<() => string, () => string>;
    callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
    callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
    callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
    label: z.ZodOptional<z.ZodCustom<string, string>>;
    transform: z.ZodOptional<z.ZodString>;
    delay: z.ZodOptional<z.ZodNumber>;
    config: z.ZodOptional<z.ZodAny>;
    inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  }, z.core.$strip>]>>;
  providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
  prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
  providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
  assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
    type: z.ZodLiteral<"assert-set">;
    assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
      type: z.ZodUnion<readonly [z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodPipe<z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
        "select-best": "select-best";
        human: "human";
        "max-score": "max-score";
      }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
      value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      weight: z.ZodOptional<z.ZodNumber>;
      provider: z.ZodOptional<z.ZodCustom<any, any>>;
      rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
        role: string;
        content: string;
      }[] | undefined, string | string[] | {
        role: string;
        content: string;
      }[] | undefined>>;
      metric: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      contextTransform: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>>>;
    weight: z.ZodOptional<z.ZodNumber>;
    metric: z.ZodOptional<z.ZodString>;
    threshold: z.ZodOptional<z.ZodNumber>;
    config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
  }, z.core.$strip>, z.ZodObject<{
    type: z.ZodUnion<readonly [z.ZodEnum<{
      "answer-relevance": "answer-relevance";
      bleu: "bleu";
      classifier: "classifier";
      contains: "contains";
      "contains-all": "contains-all";
      "contains-any": "contains-any";
      "contains-html": "contains-html";
      "contains-json": "contains-json";
      "contains-sql": "contains-sql";
      "contains-xml": "contains-xml";
      "context-faithfulness": "context-faithfulness";
      "context-recall": "context-recall";
      "context-relevance": "context-relevance";
      "conversation-relevance": "conversation-relevance";
      cost: "cost";
      equals: "equals";
      factuality: "factuality";
      "finish-reason": "finish-reason";
      "g-eval": "g-eval";
      gleu: "gleu";
      guardrails: "guardrails";
      icontains: "icontains";
      "icontains-all": "icontains-all";
      "icontains-any": "icontains-any";
      "is-html": "is-html";
      "is-json": "is-json";
      "is-refusal": "is-refusal";
      "is-sql": "is-sql";
      "is-valid-function-call": "is-valid-function-call";
      "is-valid-openai-function-call": "is-valid-openai-function-call";
      "is-valid-openai-tools-call": "is-valid-openai-tools-call";
      "is-xml": "is-xml";
      javascript: "javascript";
      latency: "latency";
      levenshtein: "levenshtein";
      "llm-rubric": "llm-rubric";
      pi: "pi";
      meteor: "meteor";
      "model-graded-closedqa": "model-graded-closedqa";
      "model-graded-factuality": "model-graded-factuality";
      moderation: "moderation";
      perplexity: "perplexity";
      "perplexity-score": "perplexity-score";
      python: "python";
      regex: "regex";
      "rouge-n": "rouge-n";
      ruby: "ruby";
      similar: "similar";
      "similar:cosine": "similar:cosine";
      "similar:dot": "similar:dot";
      "similar:euclidean": "similar:euclidean";
      "starts-with": "starts-with";
      "tool-call-f1": "tool-call-f1";
      "trace-error-spans": "trace-error-spans";
      "trace-span-count": "trace-span-count";
      "trace-span-duration": "trace-span-duration";
      "search-rubric": "search-rubric";
      webhook: "webhook";
      "word-count": "word-count";
    }>, z.ZodPipe<z.ZodEnum<{
      "answer-relevance": "answer-relevance";
      bleu: "bleu";
      classifier: "classifier";
      contains: "contains";
      "contains-all": "contains-all";
      "contains-any": "contains-any";
      "contains-html": "contains-html";
      "contains-json": "contains-json";
      "contains-sql": "contains-sql";
      "contains-xml": "contains-xml";
      "context-faithfulness": "context-faithfulness";
      "context-recall": "context-recall";
      "context-relevance": "context-relevance";
      "conversation-relevance": "conversation-relevance";
      cost: "cost";
      equals: "equals";
      factuality: "factuality";
      "finish-reason": "finish-reason";
      "g-eval": "g-eval";
      gleu: "gleu";
      guardrails: "guardrails";
      icontains: "icontains";
      "icontains-all": "icontains-all";
      "icontains-any": "icontains-any";
      "is-html": "is-html";
      "is-json": "is-json";
      "is-refusal": "is-refusal";
      "is-sql": "is-sql";
      "is-valid-function-call": "is-valid-function-call";
      "is-valid-openai-function-call": "is-valid-openai-function-call";
      "is-valid-openai-tools-call": "is-valid-openai-tools-call";
      "is-xml": "is-xml";
      javascript: "javascript";
      latency: "latency";
      levenshtein: "levenshtein";
      "llm-rubric": "llm-rubric";
      pi: "pi";
      meteor: "meteor";
      "model-graded-closedqa": "model-graded-closedqa";
      "model-graded-factuality": "model-graded-factuality";
      moderation: "moderation";
      perplexity: "perplexity";
      "perplexity-score": "perplexity-score";
      python: "python";
      regex: "regex";
      "rouge-n": "rouge-n";
      ruby: "ruby";
      similar: "similar";
      "similar:cosine": "similar:cosine";
      "similar:dot": "similar:dot";
      "similar:euclidean": "similar:euclidean";
      "starts-with": "starts-with";
      "tool-call-f1": "tool-call-f1";
      "trace-error-spans": "trace-error-spans";
      "trace-span-count": "trace-span-count";
      "trace-span-duration": "trace-span-duration";
      "search-rubric": "search-rubric";
      webhook: "webhook";
      "word-count": "word-count";
    }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
      "select-best": "select-best";
      human: "human";
      "max-score": "max-score";
    }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
    value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
    config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    threshold: z.ZodOptional<z.ZodNumber>;
    weight: z.ZodOptional<z.ZodNumber>;
    provider: z.ZodOptional<z.ZodCustom<any, any>>;
    rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
      role: string;
      content: string;
    }[] | undefined, string | string[] | {
      role: string;
      content: string;
    }[] | undefined>>;
    metric: z.ZodOptional<z.ZodString>;
    transform: z.ZodOptional<z.ZodString>;
    contextTransform: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>]>>>;
  assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
  options: z.ZodOptional<z.ZodObject<{
    disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
    disableConversationVar: z.ZodOptional<z.ZodBoolean>;
    runSerially: z.ZodOptional<z.ZodBoolean>;
    rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
      role: z.ZodString;
      content: z.ZodString;
    }, z.core.$strip>>]>>;
    provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
    factuality: z.ZodOptional<z.ZodObject<{
      subset: z.ZodOptional<z.ZodNumber>;
      superset: z.ZodOptional<z.ZodNumber>;
      agree: z.ZodOptional<z.ZodNumber>;
      disagree: z.ZodOptional<z.ZodNumber>;
      differButFactual: z.ZodOptional<z.ZodNumber>;
    }, z.core.$strip>>;
    postprocess: z.ZodOptional<z.ZodString>;
    transform: z.ZodOptional<z.ZodString>;
    transformVars: z.ZodOptional<z.ZodString>;
    storeOutputAs: z.ZodOptional<z.ZodString>;
    prefix: z.ZodOptional<z.ZodString>;
    suffix: z.ZodOptional<z.ZodString>;
  }, z.core.$catchall<z.ZodAny>>>;
  threshold: z.ZodOptional<z.ZodNumber>;
  metadata: z.ZodOptional<z.ZodObject<{
    pluginConfig: z.ZodOptional<z.ZodCustom<{
      examples?: string[] | undefined;
      graderExamples?: {
        output: string;
        pass: boolean;
        score: number;
        reason: string;
      }[] | undefined;
      graderGuidance?: string | undefined;
      severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
      language?: string | string[] | undefined;
      prompt?: string | undefined;
      purpose?: string | undefined;
      modifiers?: Record<string, unknown> | undefined;
      targetIdentifiers?: string[] | undefined;
      targetSystems?: string[] | undefined;
      mentions?: boolean | undefined;
      targetUrls?: string[] | undefined;
      ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
      name?: string | undefined;
      multilingual?: boolean | undefined;
      indirectInjectionVar?: string | undefined;
      intent?: string | (string | string[])[] | undefined;
      policy?: string | {
        id: string;
        text?: string | undefined;
        name?: string | undefined;
      } | undefined;
      systemPrompt?: string | undefined;
      excludeStrategies?: string[] | undefined;
      inputs?: Record<string, string> | undefined;
      __nonce?: number | undefined;
    }, {
      examples?: string[] | undefined;
      graderExamples?: {
        output: string;
        pass: boolean;
        score: number;
        reason: string;
      }[] | undefined;
      graderGuidance?: string | undefined;
      severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
      language?: string | string[] | undefined;
      prompt?: string | undefined;
      purpose?: string | undefined;
      modifiers?: Record<string, unknown> | undefined;
      targetIdentifiers?: string[] | undefined;
      targetSystems?: string[] | undefined;
      mentions?: boolean | undefined;
      targetUrls?: string[] | undefined;
      ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
      name?: string | undefined;
      multilingual?: boolean | undefined;
      indirectInjectionVar?: string | undefined;
      intent?: string | (string | string[])[] | undefined;
      policy?: string | {
        id: string;
        text?: string | undefined;
        name?: string | undefined;
      } | undefined;
      systemPrompt?: string | undefined;
      excludeStrategies?: string[] | undefined;
      inputs?: Record<string, string> | undefined;
      __nonce?: number | undefined;
    }>>;
    strategyConfig: z.ZodOptional<z.ZodCustom<{
      [x: string]: unknown;
      enabled?: boolean | undefined;
      plugins?: string[] | undefined;
      numTests?: number | undefined;
    }, {
      [x: string]: unknown;
      enabled?: boolean | undefined;
      plugins?: string[] | undefined;
      numTests?: number | undefined;
    }>>;
  }, z.core.$catchall<z.ZodAny>>>;
}, z.core.$strip>;
type TestCase = z.infer<typeof TestCaseSchema>;
type TestCaseWithPlugin = TestCase & {
  metadata: {
    pluginId: string;
  };
};
declare const TestCaseWithVarsFileSchema: z.ZodObject<{
  description: z.ZodOptional<z.ZodString>;
  provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    id: z.ZodOptional<z.ZodCustom<string, string>>;
    label: z.ZodOptional<z.ZodCustom<string, string>>;
    config: z.ZodOptional<z.ZodAny>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    transform: z.ZodOptional<z.ZodString>;
    delay: z.ZodOptional<z.ZodNumber>;
    env: z.ZodOptional<z.ZodObject<{
      AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AI21_API_KEY: z.ZodOptional<z.ZodString>;
      AIML_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
      AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
      AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
      AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
      AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
      CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
      COMETAPI_KEY: z.ZodOptional<z.ZodString>;
      COHERE_API_KEY: z.ZodOptional<z.ZodString>;
      COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
      DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
      DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
      ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
      FAL_KEY: z.ZodOptional<z.ZodString>;
      GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
      GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
      GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
      GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
      GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
      GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
      GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
      GROQ_API_KEY: z.ZodOptional<z.ZodString>;
      HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
      HF_API_TOKEN: z.ZodOptional<z.ZodString>;
      HF_TOKEN: z.ZodOptional<z.ZodString>;
      HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
      HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
      JFROG_API_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
      LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
      LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
      LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
      MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
      NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
      NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
      CODEX_API_KEY: z.ZodOptional<z.ZodString>;
      PALM_API_HOST: z.ZodOptional<z.ZodString>;
      PALM_API_KEY: z.ZodOptional<z.ZodString>;
      PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
      PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
      PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
      QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
      SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
      SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
      VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
      VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
      VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
      VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
      VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
      VERTEX_REGION: z.ZodOptional<z.ZodString>;
      VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
      WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
      WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
      XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      XAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
      AWS_REGION: z.ZodOptional<z.ZodString>;
      AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
      PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>>;
    inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  }, z.core.$strip>, z.ZodObject<{
    id: z.ZodCustom<() => string, () => string>;
    callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
    callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
    callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
    label: z.ZodOptional<z.ZodCustom<string, string>>;
    transform: z.ZodOptional<z.ZodString>;
    delay: z.ZodOptional<z.ZodNumber>;
    config: z.ZodOptional<z.ZodAny>;
    inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  }, z.core.$strip>]>>;
  providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
  prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
  providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
  assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
    type: z.ZodLiteral<"assert-set">;
    assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
      type: z.ZodUnion<readonly [z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodPipe<z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
        "select-best": "select-best";
        human: "human";
        "max-score": "max-score";
      }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
      value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      weight: z.ZodOptional<z.ZodNumber>;
      provider: z.ZodOptional<z.ZodCustom<any, any>>;
      rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
        role: string;
        content: string;
      }[] | undefined, string | string[] | {
        role: string;
        content: string;
      }[] | undefined>>;
      metric: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      contextTransform: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>>>;
    weight: z.ZodOptional<z.ZodNumber>;
    metric: z.ZodOptional<z.ZodString>;
    threshold: z.ZodOptional<z.ZodNumber>;
    config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
  }, z.core.$strip>, z.ZodObject<{
    type: z.ZodUnion<readonly [z.ZodEnum<{
      "answer-relevance": "answer-relevance";
      bleu: "bleu";
      classifier: "classifier";
      contains: "contains";
      "contains-all": "contains-all";
      "contains-any": "contains-any";
      "contains-html": "contains-html";
      "contains-json": "contains-json";
      "contains-sql": "contains-sql";
      "contains-xml": "contains-xml";
      "context-faithfulness": "context-faithfulness";
      "context-recall": "context-recall";
      "context-relevance": "context-relevance";
      "conversation-relevance": "conversation-relevance";
      cost: "cost";
      equals: "equals";
      factuality: "factuality";
      "finish-reason": "finish-reason";
      "g-eval": "g-eval";
      gleu: "gleu";
      guardrails: "guardrails";
      icontains: "icontains";
      "icontains-all": "icontains-all";
      "icontains-any": "icontains-any";
      "is-html": "is-html";
      "is-json": "is-json";
      "is-refusal": "is-refusal";
      "is-sql": "is-sql";
      "is-valid-function-call": "is-valid-function-call";
      "is-valid-openai-function-call": "is-valid-openai-function-call";
      "is-valid-openai-tools-call": "is-valid-openai-tools-call";
      "is-xml": "is-xml";
      javascript: "javascript";
      latency: "latency";
      levenshtein: "levenshtein";
      "llm-rubric": "llm-rubric";
      pi: "pi";
      meteor: "meteor";
      "model-graded-closedqa": "model-graded-closedqa";
      "model-graded-factuality": "model-graded-factuality";
      moderation: "moderation";
      perplexity: "perplexity";
      "perplexity-score": "perplexity-score";
      python: "python";
      regex: "regex";
      "rouge-n": "rouge-n";
      ruby: "ruby";
      similar: "similar";
      "similar:cosine": "similar:cosine";
      "similar:dot": "similar:dot";
      "similar:euclidean": "similar:euclidean";
      "starts-with": "starts-with";
      "tool-call-f1": "tool-call-f1";
      "trace-error-spans": "trace-error-spans";
      "trace-span-count": "trace-span-count";
      "trace-span-duration": "trace-span-duration";
      "search-rubric": "search-rubric";
      webhook: "webhook";
      "word-count": "word-count";
    }>, z.ZodPipe<z.ZodEnum<{
      "answer-relevance": "answer-relevance";
      bleu: "bleu";
      classifier: "classifier";
      contains: "contains";
      "contains-all": "contains-all";
      "contains-any": "contains-any";
      "contains-html": "contains-html";
      "contains-json": "contains-json";
      "contains-sql": "contains-sql";
      "contains-xml": "contains-xml";
      "context-faithfulness": "context-faithfulness";
      "context-recall": "context-recall";
      "context-relevance": "context-relevance";
      "conversation-relevance": "conversation-relevance";
      cost: "cost";
      equals: "equals";
      factuality: "factuality";
      "finish-reason": "finish-reason";
      "g-eval": "g-eval";
      gleu: "gleu";
      guardrails: "guardrails";
      icontains: "icontains";
      "icontains-all": "icontains-all";
      "icontains-any": "icontains-any";
      "is-html": "is-html";
      "is-json": "is-json";
      "is-refusal": "is-refusal";
      "is-sql": "is-sql";
      "is-valid-function-call": "is-valid-function-call";
      "is-valid-openai-function-call": "is-valid-openai-function-call";
      "is-valid-openai-tools-call": "is-valid-openai-tools-call";
      "is-xml": "is-xml";
      javascript: "javascript";
      latency: "latency";
      levenshtein: "levenshtein";
      "llm-rubric": "llm-rubric";
      pi: "pi";
      meteor: "meteor";
      "model-graded-closedqa": "model-graded-closedqa";
      "model-graded-factuality": "model-graded-factuality";
      moderation: "moderation";
      perplexity: "perplexity";
      "perplexity-score": "perplexity-score";
      python: "python";
      regex: "regex";
      "rouge-n": "rouge-n";
      ruby: "ruby";
      similar: "similar";
      "similar:cosine": "similar:cosine";
      "similar:dot": "similar:dot";
      "similar:euclidean": "similar:euclidean";
      "starts-with": "starts-with";
      "tool-call-f1": "tool-call-f1";
      "trace-error-spans": "trace-error-spans";
      "trace-span-count": "trace-span-count";
      "trace-span-duration": "trace-span-duration";
      "search-rubric": "search-rubric";
      webhook: "webhook";
      "word-count": "word-count";
    }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
      "select-best": "select-best";
      human: "human";
      "max-score": "max-score";
    }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
    value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
    config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    threshold: z.ZodOptional<z.ZodNumber>;
    weight: z.ZodOptional<z.ZodNumber>;
    provider: z.ZodOptional<z.ZodCustom<any, any>>;
    rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
      role: string;
      content: string;
    }[] | undefined, string | string[] | {
      role: string;
      content: string;
    }[] | undefined>>;
    metric: z.ZodOptional<z.ZodString>;
    transform: z.ZodOptional<z.ZodString>;
    contextTransform: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>]>>>;
  assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
  options: z.ZodOptional<z.ZodObject<{
    disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
    disableConversationVar: z.ZodOptional<z.ZodBoolean>;
    runSerially: z.ZodOptional<z.ZodBoolean>;
    rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
      role: z.ZodString;
      content: z.ZodString;
    }, z.core.$strip>>]>>;
    provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
    factuality: z.ZodOptional<z.ZodObject<{
      subset: z.ZodOptional<z.ZodNumber>;
      superset: z.ZodOptional<z.ZodNumber>;
      agree: z.ZodOptional<z.ZodNumber>;
      disagree: z.ZodOptional<z.ZodNumber>;
      differButFactual: z.ZodOptional<z.ZodNumber>;
    }, z.core.$strip>>;
    postprocess: z.ZodOptional<z.ZodString>;
    transform: z.ZodOptional<z.ZodString>;
    transformVars: z.ZodOptional<z.ZodString>;
    storeOutputAs: z.ZodOptional<z.ZodString>;
    prefix: z.ZodOptional<z.ZodString>;
    suffix: z.ZodOptional<z.ZodString>;
  }, z.core.$catchall<z.ZodAny>>>;
  threshold: z.ZodOptional<z.ZodNumber>;
  metadata: z.ZodOptional<z.ZodObject<{
    pluginConfig: z.ZodOptional<z.ZodCustom<{
      examples?: string[] | undefined;
      graderExamples?: {
        output: string;
        pass: boolean;
        score: number;
        reason: string;
      }[] | undefined;
      graderGuidance?: string | undefined;
      severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
      language?: string | string[] | undefined;
      prompt?: string | undefined;
      purpose?: string | undefined;
      modifiers?: Record<string, unknown> | undefined;
      targetIdentifiers?: string[] | undefined;
      targetSystems?: string[] | undefined;
      mentions?: boolean | undefined;
      targetUrls?: string[] | undefined;
      ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
      name?: string | undefined;
      multilingual?: boolean | undefined;
      indirectInjectionVar?: string | undefined;
      intent?: string | (string | string[])[] | undefined;
      policy?: string | {
        id: string;
        text?: string | undefined;
        name?: string | undefined;
      } | undefined;
      systemPrompt?: string | undefined;
      excludeStrategies?: string[] | undefined;
      inputs?: Record<string, string> | undefined;
      __nonce?: number | undefined;
    }, {
      examples?: string[] | undefined;
      graderExamples?: {
        output: string;
        pass: boolean;
        score: number;
        reason: string;
      }[] | undefined;
      graderGuidance?: string | undefined;
      severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
      language?: string | string[] | undefined;
      prompt?: string | undefined;
      purpose?: string | undefined;
      modifiers?: Record<string, unknown> | undefined;
      targetIdentifiers?: string[] | undefined;
      targetSystems?: string[] | undefined;
      mentions?: boolean | undefined;
      targetUrls?: string[] | undefined;
      ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
      name?: string | undefined;
      multilingual?: boolean | undefined;
      indirectInjectionVar?: string | undefined;
      intent?: string | (string | string[])[] | undefined;
      policy?: string | {
        id: string;
        text?: string | undefined;
        name?: string | undefined;
      } | undefined;
      systemPrompt?: string | undefined;
      excludeStrategies?: string[] | undefined;
      inputs?: Record<string, string> | undefined;
      __nonce?: number | undefined;
    }>>;
    strategyConfig: z.ZodOptional<z.ZodCustom<{
      [x: string]: unknown;
      enabled?: boolean | undefined;
      plugins?: string[] | undefined;
      numTests?: number | undefined;
    }, {
      [x: string]: unknown;
      enabled?: boolean | undefined;
      plugins?: string[] | undefined;
      numTests?: number | undefined;
    }>>;
  }, z.core.$catchall<z.ZodAny>>>;
  vars: z.ZodOptional<z.ZodUnion<readonly [z.ZodCustom<Vars, Vars>, z.ZodString, z.ZodArray<z.ZodString>]>>;
}, z.core.$strip>;
type TestCaseWithVarsFile = z.infer<typeof TestCaseWithVarsFileSchema>;
declare const TestCasesWithMetadataSchema: z.ZodObject<{
  id: z.ZodString;
  testCases: z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    description: z.ZodOptional<z.ZodString>;
    vars: z.ZodOptional<z.ZodCustom<Vars, Vars>>;
    provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
      id: z.ZodOptional<z.ZodCustom<string, string>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      config: z.ZodOptional<z.ZodAny>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      env: z.ZodOptional<z.ZodObject<{
        AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AI21_API_KEY: z.ZodOptional<z.ZodString>;
        AIML_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
        AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
        AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
        AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
        AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
        CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
        COMETAPI_KEY: z.ZodOptional<z.ZodString>;
        COHERE_API_KEY: z.ZodOptional<z.ZodString>;
        COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
        DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
        DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
        ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
        FAL_KEY: z.ZodOptional<z.ZodString>;
        GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
        GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
        GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
        GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
        GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
        GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
        GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
        GROQ_API_KEY: z.ZodOptional<z.ZodString>;
        HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
        HF_API_TOKEN: z.ZodOptional<z.ZodString>;
        HF_TOKEN: z.ZodOptional<z.ZodString>;
        HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
        HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
        JFROG_API_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
        LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
        LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
        LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
        MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
        NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
        NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
        CODEX_API_KEY: z.ZodOptional<z.ZodString>;
        PALM_API_HOST: z.ZodOptional<z.ZodString>;
        PALM_API_KEY: z.ZodOptional<z.ZodString>;
        PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
        PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
        PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
        QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
        SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
        SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
        VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
        VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
        VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
        VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
        VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
        VERTEX_REGION: z.ZodOptional<z.ZodString>;
        VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
        WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
        WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
        XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        XAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
        AWS_REGION: z.ZodOptional<z.ZodString>;
        AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
        PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>, z.ZodObject<{
      id: z.ZodCustom<() => string, () => string>;
      callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
      callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
      callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodAny>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>]>>;
    providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
    assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
      type: z.ZodLiteral<"assert-set">;
      assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>>;
      weight: z.ZodOptional<z.ZodNumber>;
      metric: z.ZodOptional<z.ZodString>;
      threshold: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    }, z.core.$strip>, z.ZodObject<{
      type: z.ZodUnion<readonly [z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodPipe<z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
        "select-best": "select-best";
        human: "human";
        "max-score": "max-score";
      }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
      value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      weight: z.ZodOptional<z.ZodNumber>;
      provider: z.ZodOptional<z.ZodCustom<any, any>>;
      rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
        role: string;
        content: string;
      }[] | undefined, string | string[] | {
        role: string;
        content: string;
      }[] | undefined>>;
      metric: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      contextTransform: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>]>>>;
    assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
    options: z.ZodOptional<z.ZodObject<{
      disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
      disableConversationVar: z.ZodOptional<z.ZodBoolean>;
      runSerially: z.ZodOptional<z.ZodBoolean>;
      rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
        role: z.ZodString;
        content: z.ZodString;
      }, z.core.$strip>>]>>;
      provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
      factuality: z.ZodOptional<z.ZodObject<{
        subset: z.ZodOptional<z.ZodNumber>;
        superset: z.ZodOptional<z.ZodNumber>;
        agree: z.ZodOptional<z.ZodNumber>;
        disagree: z.ZodOptional<z.ZodNumber>;
        differButFactual: z.ZodOptional<z.ZodNumber>;
      }, z.core.$strip>>;
      postprocess: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      transformVars: z.ZodOptional<z.ZodString>;
      storeOutputAs: z.ZodOptional<z.ZodString>;
      prefix: z.ZodOptional<z.ZodString>;
      suffix: z.ZodOptional<z.ZodString>;
    }, z.core.$catchall<z.ZodAny>>>;
    threshold: z.ZodOptional<z.ZodNumber>;
    metadata: z.ZodOptional<z.ZodObject<{
      pluginConfig: z.ZodOptional<z.ZodCustom<{
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }, {
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }>>;
      strategyConfig: z.ZodOptional<z.ZodCustom<{
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }, {
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }>>;
    }, z.core.$catchall<z.ZodAny>>>;
  }, z.core.$strip>]>>]>;
  recentEvalDate: z.ZodDate;
  recentEvalId: z.ZodString;
  count: z.ZodNumber;
  prompts: z.ZodArray<z.ZodObject<{
    prompt: z.ZodObject<{
      id: z.ZodOptional<z.ZodString>;
      raw: z.ZodString;
      display: z.ZodOptional<z.ZodString>;
      label: z.ZodString;
      function: z.ZodOptional<z.ZodCustom<PromptFunction, PromptFunction>>;
      config: z.ZodOptional<z.ZodAny>;
      provider: z.ZodString;
      metrics: z.ZodOptional<z.ZodObject<{
        score: z.ZodNumber;
        testPassCount: z.ZodNumber;
        testFailCount: z.ZodNumber;
        testErrorCount: z.ZodNumber;
        assertPassCount: z.ZodNumber;
        assertFailCount: z.ZodNumber;
        totalLatencyMs: z.ZodNumber;
        tokenUsage: z.ZodObject<{
          prompt: z.ZodOptional<z.ZodNumber>;
          completion: z.ZodOptional<z.ZodNumber>;
          cached: z.ZodOptional<z.ZodNumber>;
          total: z.ZodOptional<z.ZodNumber>;
          numRequests: z.ZodOptional<z.ZodNumber>;
          completionDetails: z.ZodOptional<z.ZodObject<{
            reasoning: z.ZodOptional<z.ZodNumber>;
            acceptedPrediction: z.ZodOptional<z.ZodNumber>;
            rejectedPrediction: z.ZodOptional<z.ZodNumber>;
          }, z.core.$strip>>;
          assertions: z.ZodOptional<z.ZodObject<{
            total: z.ZodOptional<z.ZodNumber>;
            prompt: z.ZodOptional<z.ZodNumber>;
            completion: z.ZodOptional<z.ZodNumber>;
            cached: z.ZodOptional<z.ZodNumber>;
            numRequests: z.ZodOptional<z.ZodNumber>;
            completionDetails: z.ZodOptional<z.ZodObject<{
              reasoning: z.ZodOptional<z.ZodNumber>;
              acceptedPrediction: z.ZodOptional<z.ZodNumber>;
              rejectedPrediction: z.ZodOptional<z.ZodNumber>;
            }, z.core.$strip>>;
          }, z.core.$strip>>;
        }, z.core.$strip>;
        namedScores: z.ZodRecord<z.ZodString, z.ZodNumber>;
        namedScoresCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
        redteam: z.ZodOptional<z.ZodObject<{
          pluginPassCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
          pluginFailCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
          strategyPassCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
          strategyFailCount: z.ZodRecord<z.ZodString, z.ZodNumber>;
        }, z.core.$strip>>;
        cost: z.ZodNumber;
      }, z.core.$strip>>;
    }, z.core.$strip>;
    id: z.ZodString;
    evalId: z.ZodString;
  }, z.core.$strip>>;
}, z.core.$strip>;
type TestCasesWithMetadata = z.infer<typeof TestCasesWithMetadataSchema>;
declare const ScenarioSchema: z.ZodObject<{
  description: z.ZodOptional<z.ZodString>;
  config: z.ZodArray<z.ZodObject<{
    description: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    vars: z.ZodOptional<z.ZodOptional<z.ZodCustom<Vars, Vars>>>;
    provider: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
      id: z.ZodOptional<z.ZodCustom<string, string>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      config: z.ZodOptional<z.ZodAny>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      env: z.ZodOptional<z.ZodObject<{
        AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AI21_API_KEY: z.ZodOptional<z.ZodString>;
        AIML_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
        AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
        AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
        AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
        AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
        CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
        COMETAPI_KEY: z.ZodOptional<z.ZodString>;
        COHERE_API_KEY: z.ZodOptional<z.ZodString>;
        COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
        DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
        DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
        ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
        FAL_KEY: z.ZodOptional<z.ZodString>;
        GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
        GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
        GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
        GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
        GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
        GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
        GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
        GROQ_API_KEY: z.ZodOptional<z.ZodString>;
        HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
        HF_API_TOKEN: z.ZodOptional<z.ZodString>;
        HF_TOKEN: z.ZodOptional<z.ZodString>;
        HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
        HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
        JFROG_API_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
        LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
        LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
        LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
        MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
        NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
        NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
        CODEX_API_KEY: z.ZodOptional<z.ZodString>;
        PALM_API_HOST: z.ZodOptional<z.ZodString>;
        PALM_API_KEY: z.ZodOptional<z.ZodString>;
        PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
        PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
        PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
        QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
        SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
        SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
        VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
        VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
        VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
        VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
        VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
        VERTEX_REGION: z.ZodOptional<z.ZodString>;
        VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
        WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
        WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
        XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        XAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
        AWS_REGION: z.ZodOptional<z.ZodString>;
        AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
        PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>, z.ZodObject<{
      id: z.ZodCustom<() => string, () => string>;
      callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
      callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
      callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodAny>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>]>>>;
    providers: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodString>>>;
    prompts: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodString>>>;
    providerOutput: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>>;
    assert: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
      type: z.ZodLiteral<"assert-set">;
      assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>>;
      weight: z.ZodOptional<z.ZodNumber>;
      metric: z.ZodOptional<z.ZodString>;
      threshold: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    }, z.core.$strip>, z.ZodObject<{
      type: z.ZodUnion<readonly [z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodPipe<z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
        "select-best": "select-best";
        human: "human";
        "max-score": "max-score";
      }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
      value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      weight: z.ZodOptional<z.ZodNumber>;
      provider: z.ZodOptional<z.ZodCustom<any, any>>;
      rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
        role: string;
        content: string;
      }[] | undefined, string | string[] | {
        role: string;
        content: string;
      }[] | undefined>>;
      metric: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      contextTransform: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>]>>>>;
    assertScoringFunction: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>>;
    options: z.ZodOptional<z.ZodOptional<z.ZodObject<{
      disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
      disableConversationVar: z.ZodOptional<z.ZodBoolean>;
      runSerially: z.ZodOptional<z.ZodBoolean>;
      rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
        role: z.ZodString;
        content: z.ZodString;
      }, z.core.$strip>>]>>;
      provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
      factuality: z.ZodOptional<z.ZodObject<{
        subset: z.ZodOptional<z.ZodNumber>;
        superset: z.ZodOptional<z.ZodNumber>;
        agree: z.ZodOptional<z.ZodNumber>;
        disagree: z.ZodOptional<z.ZodNumber>;
        differButFactual: z.ZodOptional<z.ZodNumber>;
      }, z.core.$strip>>;
      postprocess: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      transformVars: z.ZodOptional<z.ZodString>;
      storeOutputAs: z.ZodOptional<z.ZodString>;
      prefix: z.ZodOptional<z.ZodString>;
      suffix: z.ZodOptional<z.ZodString>;
    }, z.core.$catchall<z.ZodAny>>>>;
    threshold: z.ZodOptional<z.ZodOptional<z.ZodNumber>>;
    metadata: z.ZodOptional<z.ZodOptional<z.ZodObject<{
      pluginConfig: z.ZodOptional<z.ZodCustom<{
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }, {
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }>>;
      strategyConfig: z.ZodOptional<z.ZodCustom<{
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }, {
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }>>;
    }, z.core.$catchall<z.ZodAny>>>>;
  }, z.core.$strip>>;
  tests: z.ZodArray<z.ZodObject<{
    description: z.ZodOptional<z.ZodString>;
    vars: z.ZodOptional<z.ZodCustom<Vars, Vars>>;
    provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
      id: z.ZodOptional<z.ZodCustom<string, string>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      config: z.ZodOptional<z.ZodAny>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      env: z.ZodOptional<z.ZodObject<{
        AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AI21_API_KEY: z.ZodOptional<z.ZodString>;
        AIML_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
        AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
        AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
        AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
        AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
        CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
        COMETAPI_KEY: z.ZodOptional<z.ZodString>;
        COHERE_API_KEY: z.ZodOptional<z.ZodString>;
        COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
        DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
        DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
        ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
        FAL_KEY: z.ZodOptional<z.ZodString>;
        GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
        GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
        GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
        GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
        GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
        GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
        GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
        GROQ_API_KEY: z.ZodOptional<z.ZodString>;
        HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
        HF_API_TOKEN: z.ZodOptional<z.ZodString>;
        HF_TOKEN: z.ZodOptional<z.ZodString>;
        HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
        HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
        JFROG_API_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
        LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
        LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
        LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
        MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
        NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
        NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
        CODEX_API_KEY: z.ZodOptional<z.ZodString>;
        PALM_API_HOST: z.ZodOptional<z.ZodString>;
        PALM_API_KEY: z.ZodOptional<z.ZodString>;
        PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
        PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
        PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
        QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
        SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
        SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
        VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
        VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
        VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
        VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
        VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
        VERTEX_REGION: z.ZodOptional<z.ZodString>;
        VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
        WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
        WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
        XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        XAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
        AWS_REGION: z.ZodOptional<z.ZodString>;
        AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
        PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>, z.ZodObject<{
      id: z.ZodCustom<() => string, () => string>;
      callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
      callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
      callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodAny>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>]>>;
    providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
    assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
      type: z.ZodLiteral<"assert-set">;
      assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>>;
      weight: z.ZodOptional<z.ZodNumber>;
      metric: z.ZodOptional<z.ZodString>;
      threshold: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    }, z.core.$strip>, z.ZodObject<{
      type: z.ZodUnion<readonly [z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodPipe<z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
        "select-best": "select-best";
        human: "human";
        "max-score": "max-score";
      }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
      value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      weight: z.ZodOptional<z.ZodNumber>;
      provider: z.ZodOptional<z.ZodCustom<any, any>>;
      rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
        role: string;
        content: string;
      }[] | undefined, string | string[] | {
        role: string;
        content: string;
      }[] | undefined>>;
      metric: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      contextTransform: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>]>>>;
    assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
    options: z.ZodOptional<z.ZodObject<{
      disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
      disableConversationVar: z.ZodOptional<z.ZodBoolean>;
      runSerially: z.ZodOptional<z.ZodBoolean>;
      rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
        role: z.ZodString;
        content: z.ZodString;
      }, z.core.$strip>>]>>;
      provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
      factuality: z.ZodOptional<z.ZodObject<{
        subset: z.ZodOptional<z.ZodNumber>;
        superset: z.ZodOptional<z.ZodNumber>;
        agree: z.ZodOptional<z.ZodNumber>;
        disagree: z.ZodOptional<z.ZodNumber>;
        differButFactual: z.ZodOptional<z.ZodNumber>;
      }, z.core.$strip>>;
      postprocess: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      transformVars: z.ZodOptional<z.ZodString>;
      storeOutputAs: z.ZodOptional<z.ZodString>;
      prefix: z.ZodOptional<z.ZodString>;
      suffix: z.ZodOptional<z.ZodString>;
    }, z.core.$catchall<z.ZodAny>>>;
    threshold: z.ZodOptional<z.ZodNumber>;
    metadata: z.ZodOptional<z.ZodObject<{
      pluginConfig: z.ZodOptional<z.ZodCustom<{
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }, {
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }>>;
      strategyConfig: z.ZodOptional<z.ZodCustom<{
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }, {
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }>>;
    }, z.core.$catchall<z.ZodAny>>>;
  }, z.core.$strip>>;
}, z.core.$strip>;
type Scenario = z.infer<typeof ScenarioSchema>;
declare const AtomicTestCaseSchema: z.ZodObject<{
  description: z.ZodOptional<z.ZodString>;
  provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    id: z.ZodOptional<z.ZodCustom<string, string>>;
    label: z.ZodOptional<z.ZodCustom<string, string>>;
    config: z.ZodOptional<z.ZodAny>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    transform: z.ZodOptional<z.ZodString>;
    delay: z.ZodOptional<z.ZodNumber>;
    env: z.ZodOptional<z.ZodObject<{
      AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AI21_API_KEY: z.ZodOptional<z.ZodString>;
      AIML_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
      AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
      AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
      AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
      AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
      CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
      COMETAPI_KEY: z.ZodOptional<z.ZodString>;
      COHERE_API_KEY: z.ZodOptional<z.ZodString>;
      COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
      DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
      DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
      ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
      FAL_KEY: z.ZodOptional<z.ZodString>;
      GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
      GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
      GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
      GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
      GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
      GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
      GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
      GROQ_API_KEY: z.ZodOptional<z.ZodString>;
      HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
      HF_API_TOKEN: z.ZodOptional<z.ZodString>;
      HF_TOKEN: z.ZodOptional<z.ZodString>;
      HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
      HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
      JFROG_API_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
      LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
      LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
      LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
      MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
      NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
      NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
      CODEX_API_KEY: z.ZodOptional<z.ZodString>;
      PALM_API_HOST: z.ZodOptional<z.ZodString>;
      PALM_API_KEY: z.ZodOptional<z.ZodString>;
      PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
      PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
      PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
      QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
      SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
      SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
      VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
      VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
      VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
      VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
      VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
      VERTEX_REGION: z.ZodOptional<z.ZodString>;
      VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
      WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
      WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
      XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      XAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
      AWS_REGION: z.ZodOptional<z.ZodString>;
      AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
      PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>>;
    inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  }, z.core.$strip>, z.ZodObject<{
    id: z.ZodCustom<() => string, () => string>;
    callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
    callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
    callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
    label: z.ZodOptional<z.ZodCustom<string, string>>;
    transform: z.ZodOptional<z.ZodString>;
    delay: z.ZodOptional<z.ZodNumber>;
    config: z.ZodOptional<z.ZodAny>;
    inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  }, z.core.$strip>]>>;
  providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
  prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
  providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
  assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
    type: z.ZodLiteral<"assert-set">;
    assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
      type: z.ZodUnion<readonly [z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodPipe<z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
        "select-best": "select-best";
        human: "human";
        "max-score": "max-score";
      }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
      value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      weight: z.ZodOptional<z.ZodNumber>;
      provider: z.ZodOptional<z.ZodCustom<any, any>>;
      rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
        role: string;
        content: string;
      }[] | undefined, string | string[] | {
        role: string;
        content: string;
      }[] | undefined>>;
      metric: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      contextTransform: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>>>;
    weight: z.ZodOptional<z.ZodNumber>;
    metric: z.ZodOptional<z.ZodString>;
    threshold: z.ZodOptional<z.ZodNumber>;
    config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
  }, z.core.$strip>, z.ZodObject<{
    type: z.ZodUnion<readonly [z.ZodEnum<{
      "answer-relevance": "answer-relevance";
      bleu: "bleu";
      classifier: "classifier";
      contains: "contains";
      "contains-all": "contains-all";
      "contains-any": "contains-any";
      "contains-html": "contains-html";
      "contains-json": "contains-json";
      "contains-sql": "contains-sql";
      "contains-xml": "contains-xml";
      "context-faithfulness": "context-faithfulness";
      "context-recall": "context-recall";
      "context-relevance": "context-relevance";
      "conversation-relevance": "conversation-relevance";
      cost: "cost";
      equals: "equals";
      factuality: "factuality";
      "finish-reason": "finish-reason";
      "g-eval": "g-eval";
      gleu: "gleu";
      guardrails: "guardrails";
      icontains: "icontains";
      "icontains-all": "icontains-all";
      "icontains-any": "icontains-any";
      "is-html": "is-html";
      "is-json": "is-json";
      "is-refusal": "is-refusal";
      "is-sql": "is-sql";
      "is-valid-function-call": "is-valid-function-call";
      "is-valid-openai-function-call": "is-valid-openai-function-call";
      "is-valid-openai-tools-call": "is-valid-openai-tools-call";
      "is-xml": "is-xml";
      javascript: "javascript";
      latency: "latency";
      levenshtein: "levenshtein";
      "llm-rubric": "llm-rubric";
      pi: "pi";
      meteor: "meteor";
      "model-graded-closedqa": "model-graded-closedqa";
      "model-graded-factuality": "model-graded-factuality";
      moderation: "moderation";
      perplexity: "perplexity";
      "perplexity-score": "perplexity-score";
      python: "python";
      regex: "regex";
      "rouge-n": "rouge-n";
      ruby: "ruby";
      similar: "similar";
      "similar:cosine": "similar:cosine";
      "similar:dot": "similar:dot";
      "similar:euclidean": "similar:euclidean";
      "starts-with": "starts-with";
      "tool-call-f1": "tool-call-f1";
      "trace-error-spans": "trace-error-spans";
      "trace-span-count": "trace-span-count";
      "trace-span-duration": "trace-span-duration";
      "search-rubric": "search-rubric";
      webhook: "webhook";
      "word-count": "word-count";
    }>, z.ZodPipe<z.ZodEnum<{
      "answer-relevance": "answer-relevance";
      bleu: "bleu";
      classifier: "classifier";
      contains: "contains";
      "contains-all": "contains-all";
      "contains-any": "contains-any";
      "contains-html": "contains-html";
      "contains-json": "contains-json";
      "contains-sql": "contains-sql";
      "contains-xml": "contains-xml";
      "context-faithfulness": "context-faithfulness";
      "context-recall": "context-recall";
      "context-relevance": "context-relevance";
      "conversation-relevance": "conversation-relevance";
      cost: "cost";
      equals: "equals";
      factuality: "factuality";
      "finish-reason": "finish-reason";
      "g-eval": "g-eval";
      gleu: "gleu";
      guardrails: "guardrails";
      icontains: "icontains";
      "icontains-all": "icontains-all";
      "icontains-any": "icontains-any";
      "is-html": "is-html";
      "is-json": "is-json";
      "is-refusal": "is-refusal";
      "is-sql": "is-sql";
      "is-valid-function-call": "is-valid-function-call";
      "is-valid-openai-function-call": "is-valid-openai-function-call";
      "is-valid-openai-tools-call": "is-valid-openai-tools-call";
      "is-xml": "is-xml";
      javascript: "javascript";
      latency: "latency";
      levenshtein: "levenshtein";
      "llm-rubric": "llm-rubric";
      pi: "pi";
      meteor: "meteor";
      "model-graded-closedqa": "model-graded-closedqa";
      "model-graded-factuality": "model-graded-factuality";
      moderation: "moderation";
      perplexity: "perplexity";
      "perplexity-score": "perplexity-score";
      python: "python";
      regex: "regex";
      "rouge-n": "rouge-n";
      ruby: "ruby";
      similar: "similar";
      "similar:cosine": "similar:cosine";
      "similar:dot": "similar:dot";
      "similar:euclidean": "similar:euclidean";
      "starts-with": "starts-with";
      "tool-call-f1": "tool-call-f1";
      "trace-error-spans": "trace-error-spans";
      "trace-span-count": "trace-span-count";
      "trace-span-duration": "trace-span-duration";
      "search-rubric": "search-rubric";
      webhook: "webhook";
      "word-count": "word-count";
    }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
      "select-best": "select-best";
      human: "human";
      "max-score": "max-score";
    }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
    value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
    config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    threshold: z.ZodOptional<z.ZodNumber>;
    weight: z.ZodOptional<z.ZodNumber>;
    provider: z.ZodOptional<z.ZodCustom<any, any>>;
    rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
      role: string;
      content: string;
    }[] | undefined, string | string[] | {
      role: string;
      content: string;
    }[] | undefined>>;
    metric: z.ZodOptional<z.ZodString>;
    transform: z.ZodOptional<z.ZodString>;
    contextTransform: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>]>>>;
  assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
  options: z.ZodOptional<z.ZodObject<{
    disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
    disableConversationVar: z.ZodOptional<z.ZodBoolean>;
    runSerially: z.ZodOptional<z.ZodBoolean>;
    rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
      role: z.ZodString;
      content: z.ZodString;
    }, z.core.$strip>>]>>;
    provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
    factuality: z.ZodOptional<z.ZodObject<{
      subset: z.ZodOptional<z.ZodNumber>;
      superset: z.ZodOptional<z.ZodNumber>;
      agree: z.ZodOptional<z.ZodNumber>;
      disagree: z.ZodOptional<z.ZodNumber>;
      differButFactual: z.ZodOptional<z.ZodNumber>;
    }, z.core.$strip>>;
    postprocess: z.ZodOptional<z.ZodString>;
    transform: z.ZodOptional<z.ZodString>;
    transformVars: z.ZodOptional<z.ZodString>;
    storeOutputAs: z.ZodOptional<z.ZodString>;
    prefix: z.ZodOptional<z.ZodString>;
    suffix: z.ZodOptional<z.ZodString>;
  }, z.core.$catchall<z.ZodAny>>>;
  threshold: z.ZodOptional<z.ZodNumber>;
  metadata: z.ZodOptional<z.ZodObject<{
    pluginConfig: z.ZodOptional<z.ZodCustom<{
      examples?: string[] | undefined;
      graderExamples?: {
        output: string;
        pass: boolean;
        score: number;
        reason: string;
      }[] | undefined;
      graderGuidance?: string | undefined;
      severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
      language?: string | string[] | undefined;
      prompt?: string | undefined;
      purpose?: string | undefined;
      modifiers?: Record<string, unknown> | undefined;
      targetIdentifiers?: string[] | undefined;
      targetSystems?: string[] | undefined;
      mentions?: boolean | undefined;
      targetUrls?: string[] | undefined;
      ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
      name?: string | undefined;
      multilingual?: boolean | undefined;
      indirectInjectionVar?: string | undefined;
      intent?: string | (string | string[])[] | undefined;
      policy?: string | {
        id: string;
        text?: string | undefined;
        name?: string | undefined;
      } | undefined;
      systemPrompt?: string | undefined;
      excludeStrategies?: string[] | undefined;
      inputs?: Record<string, string> | undefined;
      __nonce?: number | undefined;
    }, {
      examples?: string[] | undefined;
      graderExamples?: {
        output: string;
        pass: boolean;
        score: number;
        reason: string;
      }[] | undefined;
      graderGuidance?: string | undefined;
      severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
      language?: string | string[] | undefined;
      prompt?: string | undefined;
      purpose?: string | undefined;
      modifiers?: Record<string, unknown> | undefined;
      targetIdentifiers?: string[] | undefined;
      targetSystems?: string[] | undefined;
      mentions?: boolean | undefined;
      targetUrls?: string[] | undefined;
      ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
      name?: string | undefined;
      multilingual?: boolean | undefined;
      indirectInjectionVar?: string | undefined;
      intent?: string | (string | string[])[] | undefined;
      policy?: string | {
        id: string;
        text?: string | undefined;
        name?: string | undefined;
      } | undefined;
      systemPrompt?: string | undefined;
      excludeStrategies?: string[] | undefined;
      inputs?: Record<string, string> | undefined;
      __nonce?: number | undefined;
    }>>;
    strategyConfig: z.ZodOptional<z.ZodCustom<{
      [x: string]: unknown;
      enabled?: boolean | undefined;
      plugins?: string[] | undefined;
      numTests?: number | undefined;
    }, {
      [x: string]: unknown;
      enabled?: boolean | undefined;
      plugins?: string[] | undefined;
      numTests?: number | undefined;
    }>>;
  }, z.core.$catchall<z.ZodAny>>>;
  vars: z.ZodOptional<z.ZodCustom<Vars, Vars>>;
}, z.core.$strict>;
type AtomicTestCase = z.infer<typeof AtomicTestCaseSchema>;
/**
 * Configuration schema for test generators that accept parameters
 *
 * @example
 * ```yaml
 * tests:
 *   - path: file://test_cases.py:generate_tests
 *     config:
 *       dataset: truthfulqa
 *       split: validation
 *       max_rows: 100
 * ```
 */
declare const TestGeneratorConfigSchema: z.ZodObject<{
  path: z.ZodString;
  config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodNumber, z.ZodBoolean, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodNumber, z.ZodBoolean]>>, z.ZodRecord<z.ZodString, z.ZodAny>, z.ZodAny]>>>;
}, z.core.$strip>;
type TestGeneratorConfig = z.infer<typeof TestGeneratorConfigSchema>;
declare const DerivedMetricSchema: z.ZodObject<{
  name: z.ZodString;
  value: z.ZodUnion<readonly [z.ZodString, z.ZodFunction<z.ZodTuple<readonly [z.ZodRecord<z.ZodString, z.ZodNumber>, z.ZodCustom<RunEvalOptions, RunEvalOptions>], null>, z.ZodNumber>]>;
}, z.core.$strip>;
type DerivedMetric = z.infer<typeof DerivedMetricSchema>;
declare const TestSuiteSchema: z.ZodObject<{
  tags: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  description: z.ZodOptional<z.ZodString>;
  providers: z.ZodArray<z.ZodObject<{
    id: z.ZodCustom<() => string, () => string>;
    callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
    callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
    callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
    label: z.ZodOptional<z.ZodCustom<string, string>>;
    transform: z.ZodOptional<z.ZodString>;
    delay: z.ZodOptional<z.ZodNumber>;
    config: z.ZodOptional<z.ZodAny>;
    inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  }, z.core.$strip>>;
  prompts: z.ZodArray<z.ZodObject<{
    id: z.ZodOptional<z.ZodString>;
    raw: z.ZodString;
    display: z.ZodOptional<z.ZodString>;
    label: z.ZodString;
    function: z.ZodOptional<z.ZodCustom<PromptFunction, PromptFunction>>;
    config: z.ZodOptional<z.ZodAny>;
  }, z.core.$strip>>;
  providerPromptMap: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodPipe<z.ZodString, z.ZodTransform<string[], string>>, z.ZodArray<z.ZodString>]>>>;
  tests: z.ZodOptional<z.ZodArray<z.ZodObject<{
    description: z.ZodOptional<z.ZodString>;
    vars: z.ZodOptional<z.ZodCustom<Vars, Vars>>;
    provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
      id: z.ZodOptional<z.ZodCustom<string, string>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      config: z.ZodOptional<z.ZodAny>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      env: z.ZodOptional<z.ZodObject<{
        AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AI21_API_KEY: z.ZodOptional<z.ZodString>;
        AIML_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
        AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
        AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
        AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
        AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
        CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
        COMETAPI_KEY: z.ZodOptional<z.ZodString>;
        COHERE_API_KEY: z.ZodOptional<z.ZodString>;
        COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
        DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
        DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
        ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
        FAL_KEY: z.ZodOptional<z.ZodString>;
        GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
        GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
        GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
        GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
        GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
        GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
        GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
        GROQ_API_KEY: z.ZodOptional<z.ZodString>;
        HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
        HF_API_TOKEN: z.ZodOptional<z.ZodString>;
        HF_TOKEN: z.ZodOptional<z.ZodString>;
        HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
        HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
        JFROG_API_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
        LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
        LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
        LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
        MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
        NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
        NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
        CODEX_API_KEY: z.ZodOptional<z.ZodString>;
        PALM_API_HOST: z.ZodOptional<z.ZodString>;
        PALM_API_KEY: z.ZodOptional<z.ZodString>;
        PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
        PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
        PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
        QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
        SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
        SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
        VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
        VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
        VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
        VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
        VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
        VERTEX_REGION: z.ZodOptional<z.ZodString>;
        VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
        WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
        WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
        XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        XAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
        AWS_REGION: z.ZodOptional<z.ZodString>;
        AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
        PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>, z.ZodObject<{
      id: z.ZodCustom<() => string, () => string>;
      callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
      callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
      callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodAny>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>]>>;
    providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
    assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
      type: z.ZodLiteral<"assert-set">;
      assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>>;
      weight: z.ZodOptional<z.ZodNumber>;
      metric: z.ZodOptional<z.ZodString>;
      threshold: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    }, z.core.$strip>, z.ZodObject<{
      type: z.ZodUnion<readonly [z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodPipe<z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
        "select-best": "select-best";
        human: "human";
        "max-score": "max-score";
      }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
      value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      weight: z.ZodOptional<z.ZodNumber>;
      provider: z.ZodOptional<z.ZodCustom<any, any>>;
      rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
        role: string;
        content: string;
      }[] | undefined, string | string[] | {
        role: string;
        content: string;
      }[] | undefined>>;
      metric: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      contextTransform: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>]>>>;
    assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
    options: z.ZodOptional<z.ZodObject<{
      disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
      disableConversationVar: z.ZodOptional<z.ZodBoolean>;
      runSerially: z.ZodOptional<z.ZodBoolean>;
      rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
        role: z.ZodString;
        content: z.ZodString;
      }, z.core.$strip>>]>>;
      provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
      factuality: z.ZodOptional<z.ZodObject<{
        subset: z.ZodOptional<z.ZodNumber>;
        superset: z.ZodOptional<z.ZodNumber>;
        agree: z.ZodOptional<z.ZodNumber>;
        disagree: z.ZodOptional<z.ZodNumber>;
        differButFactual: z.ZodOptional<z.ZodNumber>;
      }, z.core.$strip>>;
      postprocess: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      transformVars: z.ZodOptional<z.ZodString>;
      storeOutputAs: z.ZodOptional<z.ZodString>;
      prefix: z.ZodOptional<z.ZodString>;
      suffix: z.ZodOptional<z.ZodString>;
    }, z.core.$catchall<z.ZodAny>>>;
    threshold: z.ZodOptional<z.ZodNumber>;
    metadata: z.ZodOptional<z.ZodObject<{
      pluginConfig: z.ZodOptional<z.ZodCustom<{
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }, {
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }>>;
      strategyConfig: z.ZodOptional<z.ZodCustom<{
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }, {
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }>>;
    }, z.core.$catchall<z.ZodAny>>>;
  }, z.core.$strip>>>;
  scenarios: z.ZodOptional<z.ZodArray<z.ZodObject<{
    description: z.ZodOptional<z.ZodString>;
    config: z.ZodArray<z.ZodObject<{
      description: z.ZodOptional<z.ZodOptional<z.ZodString>>;
      vars: z.ZodOptional<z.ZodOptional<z.ZodCustom<Vars, Vars>>>;
      provider: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
        id: z.ZodOptional<z.ZodCustom<string, string>>;
        label: z.ZodOptional<z.ZodCustom<string, string>>;
        config: z.ZodOptional<z.ZodAny>;
        prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
        transform: z.ZodOptional<z.ZodString>;
        delay: z.ZodOptional<z.ZodNumber>;
        env: z.ZodOptional<z.ZodObject<{
          AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AI21_API_KEY: z.ZodOptional<z.ZodString>;
          AIML_API_KEY: z.ZodOptional<z.ZodString>;
          ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
          ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
          AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
          AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_API_HOST: z.ZodOptional<z.ZodString>;
          AZURE_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
          AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
          AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
          AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
          AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
          CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
          CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
          CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
          COMETAPI_KEY: z.ZodOptional<z.ZodString>;
          COHERE_API_KEY: z.ZodOptional<z.ZodString>;
          COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
          DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
          DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
          DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
          DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
          ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
          FAL_KEY: z.ZodOptional<z.ZodString>;
          GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
          GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
          GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
          GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
          GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
          GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
          GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
          GROQ_API_KEY: z.ZodOptional<z.ZodString>;
          HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
          HF_API_TOKEN: z.ZodOptional<z.ZodString>;
          HF_TOKEN: z.ZodOptional<z.ZodString>;
          HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
          HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
          JFROG_API_KEY: z.ZodOptional<z.ZodString>;
          LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
          LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
          LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
          LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
          LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
          LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
          MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
          MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
          MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
          NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
          NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
          OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
          OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
          OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
          OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
          CODEX_API_KEY: z.ZodOptional<z.ZodString>;
          PALM_API_HOST: z.ZodOptional<z.ZodString>;
          PALM_API_KEY: z.ZodOptional<z.ZodString>;
          PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
          PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
          PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
          QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
          REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
          REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
          SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
          SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
          SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
          SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
          VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
          VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
          VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
          VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
          VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
          VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
          VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
          VERTEX_REGION: z.ZodOptional<z.ZodString>;
          VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
          WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
          WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
          WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
          WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
          XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          XAI_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
          AWS_REGION: z.ZodOptional<z.ZodString>;
          AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
          PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
        }, z.core.$strip>>;
        inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
      }, z.core.$strip>, z.ZodObject<{
        id: z.ZodCustom<() => string, () => string>;
        callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
        callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
        callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
        label: z.ZodOptional<z.ZodCustom<string, string>>;
        transform: z.ZodOptional<z.ZodString>;
        delay: z.ZodOptional<z.ZodNumber>;
        config: z.ZodOptional<z.ZodAny>;
        inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
      }, z.core.$strip>]>>>;
      providers: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodString>>>;
      prompts: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodString>>>;
      providerOutput: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>>;
      assert: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
        type: z.ZodLiteral<"assert-set">;
        assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
          type: z.ZodUnion<readonly [z.ZodEnum<{
            "answer-relevance": "answer-relevance";
            bleu: "bleu";
            classifier: "classifier";
            contains: "contains";
            "contains-all": "contains-all";
            "contains-any": "contains-any";
            "contains-html": "contains-html";
            "contains-json": "contains-json";
            "contains-sql": "contains-sql";
            "contains-xml": "contains-xml";
            "context-faithfulness": "context-faithfulness";
            "context-recall": "context-recall";
            "context-relevance": "context-relevance";
            "conversation-relevance": "conversation-relevance";
            cost: "cost";
            equals: "equals";
            factuality: "factuality";
            "finish-reason": "finish-reason";
            "g-eval": "g-eval";
            gleu: "gleu";
            guardrails: "guardrails";
            icontains: "icontains";
            "icontains-all": "icontains-all";
            "icontains-any": "icontains-any";
            "is-html": "is-html";
            "is-json": "is-json";
            "is-refusal": "is-refusal";
            "is-sql": "is-sql";
            "is-valid-function-call": "is-valid-function-call";
            "is-valid-openai-function-call": "is-valid-openai-function-call";
            "is-valid-openai-tools-call": "is-valid-openai-tools-call";
            "is-xml": "is-xml";
            javascript: "javascript";
            latency: "latency";
            levenshtein: "levenshtein";
            "llm-rubric": "llm-rubric";
            pi: "pi";
            meteor: "meteor";
            "model-graded-closedqa": "model-graded-closedqa";
            "model-graded-factuality": "model-graded-factuality";
            moderation: "moderation";
            perplexity: "perplexity";
            "perplexity-score": "perplexity-score";
            python: "python";
            regex: "regex";
            "rouge-n": "rouge-n";
            ruby: "ruby";
            similar: "similar";
            "similar:cosine": "similar:cosine";
            "similar:dot": "similar:dot";
            "similar:euclidean": "similar:euclidean";
            "starts-with": "starts-with";
            "tool-call-f1": "tool-call-f1";
            "trace-error-spans": "trace-error-spans";
            "trace-span-count": "trace-span-count";
            "trace-span-duration": "trace-span-duration";
            "search-rubric": "search-rubric";
            webhook: "webhook";
            "word-count": "word-count";
          }>, z.ZodPipe<z.ZodEnum<{
            "answer-relevance": "answer-relevance";
            bleu: "bleu";
            classifier: "classifier";
            contains: "contains";
            "contains-all": "contains-all";
            "contains-any": "contains-any";
            "contains-html": "contains-html";
            "contains-json": "contains-json";
            "contains-sql": "contains-sql";
            "contains-xml": "contains-xml";
            "context-faithfulness": "context-faithfulness";
            "context-recall": "context-recall";
            "context-relevance": "context-relevance";
            "conversation-relevance": "conversation-relevance";
            cost: "cost";
            equals: "equals";
            factuality: "factuality";
            "finish-reason": "finish-reason";
            "g-eval": "g-eval";
            gleu: "gleu";
            guardrails: "guardrails";
            icontains: "icontains";
            "icontains-all": "icontains-all";
            "icontains-any": "icontains-any";
            "is-html": "is-html";
            "is-json": "is-json";
            "is-refusal": "is-refusal";
            "is-sql": "is-sql";
            "is-valid-function-call": "is-valid-function-call";
            "is-valid-openai-function-call": "is-valid-openai-function-call";
            "is-valid-openai-tools-call": "is-valid-openai-tools-call";
            "is-xml": "is-xml";
            javascript: "javascript";
            latency: "latency";
            levenshtein: "levenshtein";
            "llm-rubric": "llm-rubric";
            pi: "pi";
            meteor: "meteor";
            "model-graded-closedqa": "model-graded-closedqa";
            "model-graded-factuality": "model-graded-factuality";
            moderation: "moderation";
            perplexity: "perplexity";
            "perplexity-score": "perplexity-score";
            python: "python";
            regex: "regex";
            "rouge-n": "rouge-n";
            ruby: "ruby";
            similar: "similar";
            "similar:cosine": "similar:cosine";
            "similar:dot": "similar:dot";
            "similar:euclidean": "similar:euclidean";
            "starts-with": "starts-with";
            "tool-call-f1": "tool-call-f1";
            "trace-error-spans": "trace-error-spans";
            "trace-span-count": "trace-span-count";
            "trace-span-duration": "trace-span-duration";
            "search-rubric": "search-rubric";
            webhook: "webhook";
            "word-count": "word-count";
          }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
            "select-best": "select-best";
            human: "human";
            "max-score": "max-score";
          }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
          value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
          config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
          threshold: z.ZodOptional<z.ZodNumber>;
          weight: z.ZodOptional<z.ZodNumber>;
          provider: z.ZodOptional<z.ZodCustom<any, any>>;
          rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
            role: string;
            content: string;
          }[] | undefined, string | string[] | {
            role: string;
            content: string;
          }[] | undefined>>;
          metric: z.ZodOptional<z.ZodString>;
          transform: z.ZodOptional<z.ZodString>;
          contextTransform: z.ZodOptional<z.ZodString>;
        }, z.core.$strip>>>;
        weight: z.ZodOptional<z.ZodNumber>;
        metric: z.ZodOptional<z.ZodString>;
        threshold: z.ZodOptional<z.ZodNumber>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      }, z.core.$strip>, z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>]>>>>;
      assertScoringFunction: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>>;
      options: z.ZodOptional<z.ZodOptional<z.ZodObject<{
        disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
        disableConversationVar: z.ZodOptional<z.ZodBoolean>;
        runSerially: z.ZodOptional<z.ZodBoolean>;
        rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
          role: z.ZodString;
          content: z.ZodString;
        }, z.core.$strip>>]>>;
        provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
        factuality: z.ZodOptional<z.ZodObject<{
          subset: z.ZodOptional<z.ZodNumber>;
          superset: z.ZodOptional<z.ZodNumber>;
          agree: z.ZodOptional<z.ZodNumber>;
          disagree: z.ZodOptional<z.ZodNumber>;
          differButFactual: z.ZodOptional<z.ZodNumber>;
        }, z.core.$strip>>;
        postprocess: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        transformVars: z.ZodOptional<z.ZodString>;
        storeOutputAs: z.ZodOptional<z.ZodString>;
        prefix: z.ZodOptional<z.ZodString>;
        suffix: z.ZodOptional<z.ZodString>;
      }, z.core.$catchall<z.ZodAny>>>>;
      threshold: z.ZodOptional<z.ZodOptional<z.ZodNumber>>;
      metadata: z.ZodOptional<z.ZodOptional<z.ZodObject<{
        pluginConfig: z.ZodOptional<z.ZodCustom<{
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        }, {
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        }>>;
        strategyConfig: z.ZodOptional<z.ZodCustom<{
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        }, {
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        }>>;
      }, z.core.$catchall<z.ZodAny>>>>;
    }, z.core.$strip>>;
    tests: z.ZodArray<z.ZodObject<{
      description: z.ZodOptional<z.ZodString>;
      vars: z.ZodOptional<z.ZodCustom<Vars, Vars>>;
      provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
        id: z.ZodOptional<z.ZodCustom<string, string>>;
        label: z.ZodOptional<z.ZodCustom<string, string>>;
        config: z.ZodOptional<z.ZodAny>;
        prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
        transform: z.ZodOptional<z.ZodString>;
        delay: z.ZodOptional<z.ZodNumber>;
        env: z.ZodOptional<z.ZodObject<{
          AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AI21_API_KEY: z.ZodOptional<z.ZodString>;
          AIML_API_KEY: z.ZodOptional<z.ZodString>;
          ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
          ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
          AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
          AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_API_HOST: z.ZodOptional<z.ZodString>;
          AZURE_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
          AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
          AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
          AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
          AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
          CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
          CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
          CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
          COMETAPI_KEY: z.ZodOptional<z.ZodString>;
          COHERE_API_KEY: z.ZodOptional<z.ZodString>;
          COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
          DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
          DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
          DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
          DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
          ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
          FAL_KEY: z.ZodOptional<z.ZodString>;
          GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
          GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
          GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
          GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
          GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
          GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
          GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
          GROQ_API_KEY: z.ZodOptional<z.ZodString>;
          HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
          HF_API_TOKEN: z.ZodOptional<z.ZodString>;
          HF_TOKEN: z.ZodOptional<z.ZodString>;
          HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
          HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
          JFROG_API_KEY: z.ZodOptional<z.ZodString>;
          LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
          LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
          LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
          LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
          LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
          LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
          MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
          MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
          MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
          NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
          NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
          OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
          OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
          OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
          OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
          CODEX_API_KEY: z.ZodOptional<z.ZodString>;
          PALM_API_HOST: z.ZodOptional<z.ZodString>;
          PALM_API_KEY: z.ZodOptional<z.ZodString>;
          PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
          PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
          PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
          QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
          REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
          REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
          SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
          SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
          SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
          SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
          VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
          VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
          VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
          VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
          VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
          VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
          VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
          VERTEX_REGION: z.ZodOptional<z.ZodString>;
          VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
          WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
          WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
          WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
          WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
          XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          XAI_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
          AWS_REGION: z.ZodOptional<z.ZodString>;
          AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
          PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
        }, z.core.$strip>>;
        inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
      }, z.core.$strip>, z.ZodObject<{
        id: z.ZodCustom<() => string, () => string>;
        callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
        callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
        callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
        label: z.ZodOptional<z.ZodCustom<string, string>>;
        transform: z.ZodOptional<z.ZodString>;
        delay: z.ZodOptional<z.ZodNumber>;
        config: z.ZodOptional<z.ZodAny>;
        inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
      }, z.core.$strip>]>>;
      providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
      assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
        type: z.ZodLiteral<"assert-set">;
        assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
          type: z.ZodUnion<readonly [z.ZodEnum<{
            "answer-relevance": "answer-relevance";
            bleu: "bleu";
            classifier: "classifier";
            contains: "contains";
            "contains-all": "contains-all";
            "contains-any": "contains-any";
            "contains-html": "contains-html";
            "contains-json": "contains-json";
            "contains-sql": "contains-sql";
            "contains-xml": "contains-xml";
            "context-faithfulness": "context-faithfulness";
            "context-recall": "context-recall";
            "context-relevance": "context-relevance";
            "conversation-relevance": "conversation-relevance";
            cost: "cost";
            equals: "equals";
            factuality: "factuality";
            "finish-reason": "finish-reason";
            "g-eval": "g-eval";
            gleu: "gleu";
            guardrails: "guardrails";
            icontains: "icontains";
            "icontains-all": "icontains-all";
            "icontains-any": "icontains-any";
            "is-html": "is-html";
            "is-json": "is-json";
            "is-refusal": "is-refusal";
            "is-sql": "is-sql";
            "is-valid-function-call": "is-valid-function-call";
            "is-valid-openai-function-call": "is-valid-openai-function-call";
            "is-valid-openai-tools-call": "is-valid-openai-tools-call";
            "is-xml": "is-xml";
            javascript: "javascript";
            latency: "latency";
            levenshtein: "levenshtein";
            "llm-rubric": "llm-rubric";
            pi: "pi";
            meteor: "meteor";
            "model-graded-closedqa": "model-graded-closedqa";
            "model-graded-factuality": "model-graded-factuality";
            moderation: "moderation";
            perplexity: "perplexity";
            "perplexity-score": "perplexity-score";
            python: "python";
            regex: "regex";
            "rouge-n": "rouge-n";
            ruby: "ruby";
            similar: "similar";
            "similar:cosine": "similar:cosine";
            "similar:dot": "similar:dot";
            "similar:euclidean": "similar:euclidean";
            "starts-with": "starts-with";
            "tool-call-f1": "tool-call-f1";
            "trace-error-spans": "trace-error-spans";
            "trace-span-count": "trace-span-count";
            "trace-span-duration": "trace-span-duration";
            "search-rubric": "search-rubric";
            webhook: "webhook";
            "word-count": "word-count";
          }>, z.ZodPipe<z.ZodEnum<{
            "answer-relevance": "answer-relevance";
            bleu: "bleu";
            classifier: "classifier";
            contains: "contains";
            "contains-all": "contains-all";
            "contains-any": "contains-any";
            "contains-html": "contains-html";
            "contains-json": "contains-json";
            "contains-sql": "contains-sql";
            "contains-xml": "contains-xml";
            "context-faithfulness": "context-faithfulness";
            "context-recall": "context-recall";
            "context-relevance": "context-relevance";
            "conversation-relevance": "conversation-relevance";
            cost: "cost";
            equals: "equals";
            factuality: "factuality";
            "finish-reason": "finish-reason";
            "g-eval": "g-eval";
            gleu: "gleu";
            guardrails: "guardrails";
            icontains: "icontains";
            "icontains-all": "icontains-all";
            "icontains-any": "icontains-any";
            "is-html": "is-html";
            "is-json": "is-json";
            "is-refusal": "is-refusal";
            "is-sql": "is-sql";
            "is-valid-function-call": "is-valid-function-call";
            "is-valid-openai-function-call": "is-valid-openai-function-call";
            "is-valid-openai-tools-call": "is-valid-openai-tools-call";
            "is-xml": "is-xml";
            javascript: "javascript";
            latency: "latency";
            levenshtein: "levenshtein";
            "llm-rubric": "llm-rubric";
            pi: "pi";
            meteor: "meteor";
            "model-graded-closedqa": "model-graded-closedqa";
            "model-graded-factuality": "model-graded-factuality";
            moderation: "moderation";
            perplexity: "perplexity";
            "perplexity-score": "perplexity-score";
            python: "python";
            regex: "regex";
            "rouge-n": "rouge-n";
            ruby: "ruby";
            similar: "similar";
            "similar:cosine": "similar:cosine";
            "similar:dot": "similar:dot";
            "similar:euclidean": "similar:euclidean";
            "starts-with": "starts-with";
            "tool-call-f1": "tool-call-f1";
            "trace-error-spans": "trace-error-spans";
            "trace-span-count": "trace-span-count";
            "trace-span-duration": "trace-span-duration";
            "search-rubric": "search-rubric";
            webhook: "webhook";
            "word-count": "word-count";
          }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
            "select-best": "select-best";
            human: "human";
            "max-score": "max-score";
          }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
          value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
          config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
          threshold: z.ZodOptional<z.ZodNumber>;
          weight: z.ZodOptional<z.ZodNumber>;
          provider: z.ZodOptional<z.ZodCustom<any, any>>;
          rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
            role: string;
            content: string;
          }[] | undefined, string | string[] | {
            role: string;
            content: string;
          }[] | undefined>>;
          metric: z.ZodOptional<z.ZodString>;
          transform: z.ZodOptional<z.ZodString>;
          contextTransform: z.ZodOptional<z.ZodString>;
        }, z.core.$strip>>>;
        weight: z.ZodOptional<z.ZodNumber>;
        metric: z.ZodOptional<z.ZodString>;
        threshold: z.ZodOptional<z.ZodNumber>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      }, z.core.$strip>, z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>]>>>;
      assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
      options: z.ZodOptional<z.ZodObject<{
        disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
        disableConversationVar: z.ZodOptional<z.ZodBoolean>;
        runSerially: z.ZodOptional<z.ZodBoolean>;
        rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
          role: z.ZodString;
          content: z.ZodString;
        }, z.core.$strip>>]>>;
        provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
        factuality: z.ZodOptional<z.ZodObject<{
          subset: z.ZodOptional<z.ZodNumber>;
          superset: z.ZodOptional<z.ZodNumber>;
          agree: z.ZodOptional<z.ZodNumber>;
          disagree: z.ZodOptional<z.ZodNumber>;
          differButFactual: z.ZodOptional<z.ZodNumber>;
        }, z.core.$strip>>;
        postprocess: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        transformVars: z.ZodOptional<z.ZodString>;
        storeOutputAs: z.ZodOptional<z.ZodString>;
        prefix: z.ZodOptional<z.ZodString>;
        suffix: z.ZodOptional<z.ZodString>;
      }, z.core.$catchall<z.ZodAny>>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      metadata: z.ZodOptional<z.ZodObject<{
        pluginConfig: z.ZodOptional<z.ZodCustom<{
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        }, {
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        }>>;
        strategyConfig: z.ZodOptional<z.ZodCustom<{
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        }, {
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        }>>;
      }, z.core.$catchall<z.ZodAny>>>;
    }, z.core.$strip>>;
  }, z.core.$strip>>>;
  defaultTest: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    vars: z.ZodOptional<z.ZodCustom<Vars, Vars>>;
    provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
      id: z.ZodOptional<z.ZodCustom<string, string>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      config: z.ZodOptional<z.ZodAny>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      env: z.ZodOptional<z.ZodObject<{
        AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AI21_API_KEY: z.ZodOptional<z.ZodString>;
        AIML_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
        AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
        AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
        AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
        AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
        CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
        COMETAPI_KEY: z.ZodOptional<z.ZodString>;
        COHERE_API_KEY: z.ZodOptional<z.ZodString>;
        COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
        DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
        DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
        ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
        FAL_KEY: z.ZodOptional<z.ZodString>;
        GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
        GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
        GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
        GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
        GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
        GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
        GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
        GROQ_API_KEY: z.ZodOptional<z.ZodString>;
        HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
        HF_API_TOKEN: z.ZodOptional<z.ZodString>;
        HF_TOKEN: z.ZodOptional<z.ZodString>;
        HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
        HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
        JFROG_API_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
        LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
        LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
        LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
        MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
        NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
        NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
        CODEX_API_KEY: z.ZodOptional<z.ZodString>;
        PALM_API_HOST: z.ZodOptional<z.ZodString>;
        PALM_API_KEY: z.ZodOptional<z.ZodString>;
        PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
        PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
        PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
        QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
        SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
        SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
        VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
        VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
        VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
        VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
        VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
        VERTEX_REGION: z.ZodOptional<z.ZodString>;
        VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
        WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
        WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
        XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        XAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
        AWS_REGION: z.ZodOptional<z.ZodString>;
        AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
        PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>, z.ZodObject<{
      id: z.ZodCustom<() => string, () => string>;
      callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
      callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
      callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodAny>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>]>>;
    providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
    assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
      type: z.ZodLiteral<"assert-set">;
      assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>>;
      weight: z.ZodOptional<z.ZodNumber>;
      metric: z.ZodOptional<z.ZodString>;
      threshold: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    }, z.core.$strip>, z.ZodObject<{
      type: z.ZodUnion<readonly [z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodPipe<z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
        "select-best": "select-best";
        human: "human";
        "max-score": "max-score";
      }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
      value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      weight: z.ZodOptional<z.ZodNumber>;
      provider: z.ZodOptional<z.ZodCustom<any, any>>;
      rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
        role: string;
        content: string;
      }[] | undefined, string | string[] | {
        role: string;
        content: string;
      }[] | undefined>>;
      metric: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      contextTransform: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>]>>>;
    threshold: z.ZodOptional<z.ZodNumber>;
    assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
    options: z.ZodOptional<z.ZodObject<{
      disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
      disableConversationVar: z.ZodOptional<z.ZodBoolean>;
      runSerially: z.ZodOptional<z.ZodBoolean>;
      rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
        role: z.ZodString;
        content: z.ZodString;
      }, z.core.$strip>>]>>;
      provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
      factuality: z.ZodOptional<z.ZodObject<{
        subset: z.ZodOptional<z.ZodNumber>;
        superset: z.ZodOptional<z.ZodNumber>;
        agree: z.ZodOptional<z.ZodNumber>;
        disagree: z.ZodOptional<z.ZodNumber>;
        differButFactual: z.ZodOptional<z.ZodNumber>;
      }, z.core.$strip>>;
      postprocess: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      transformVars: z.ZodOptional<z.ZodString>;
      storeOutputAs: z.ZodOptional<z.ZodString>;
      prefix: z.ZodOptional<z.ZodString>;
      suffix: z.ZodOptional<z.ZodString>;
    }, z.core.$catchall<z.ZodAny>>>;
    metadata: z.ZodOptional<z.ZodObject<{
      pluginConfig: z.ZodOptional<z.ZodCustom<{
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }, {
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }>>;
      strategyConfig: z.ZodOptional<z.ZodCustom<{
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }, {
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }>>;
    }, z.core.$catchall<z.ZodAny>>>;
  }, z.core.$strip>]>>;
  nunjucksFilters: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodCustom<(...args: unknown[]) => string, (...args: unknown[]) => string>>>;
  env: z.ZodOptional<z.ZodObject<{
    AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AI21_API_KEY: z.ZodOptional<z.ZodString>;
    AIML_API_KEY: z.ZodOptional<z.ZodString>;
    ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
    ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
    AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
    AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_API_HOST: z.ZodOptional<z.ZodString>;
    AZURE_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
    AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
    AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
    AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
    AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
    CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
    CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
    CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
    COMETAPI_KEY: z.ZodOptional<z.ZodString>;
    COHERE_API_KEY: z.ZodOptional<z.ZodString>;
    COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
    DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
    DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
    DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
    DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
    ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
    FAL_KEY: z.ZodOptional<z.ZodString>;
    GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
    GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
    GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
    GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
    GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
    GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
    GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
    GROQ_API_KEY: z.ZodOptional<z.ZodString>;
    HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
    HF_API_TOKEN: z.ZodOptional<z.ZodString>;
    HF_TOKEN: z.ZodOptional<z.ZodString>;
    HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
    HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
    JFROG_API_KEY: z.ZodOptional<z.ZodString>;
    LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
    LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
    LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
    LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
    LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
    LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
    MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
    MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
    MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
    NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
    NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
    OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
    OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
    OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
    OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
    CODEX_API_KEY: z.ZodOptional<z.ZodString>;
    PALM_API_HOST: z.ZodOptional<z.ZodString>;
    PALM_API_KEY: z.ZodOptional<z.ZodString>;
    PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
    PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
    PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
    QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
    REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
    REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
    SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
    SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
    SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
    SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
    VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
    VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
    VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
    VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
    VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
    VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
    VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
    VERTEX_REGION: z.ZodOptional<z.ZodString>;
    VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
    WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
    WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
    WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
    WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
    XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    XAI_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
    AWS_REGION: z.ZodOptional<z.ZodString>;
    AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
    PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>>;
  derivedMetrics: z.ZodOptional<z.ZodArray<z.ZodObject<{
    name: z.ZodString;
    value: z.ZodUnion<readonly [z.ZodString, z.ZodFunction<z.ZodTuple<readonly [z.ZodRecord<z.ZodString, z.ZodNumber>, z.ZodCustom<RunEvalOptions, RunEvalOptions>], null>, z.ZodNumber>]>;
  }, z.core.$strip>>>;
  extensions: z.ZodOptional<z.ZodNullable<z.ZodArray<z.ZodString>>>;
  redteam: z.ZodOptional<z.ZodCustom<RedteamFileConfig, RedteamFileConfig>>;
  tracing: z.ZodOptional<z.ZodObject<{
    enabled: z.ZodBoolean;
    otlp: z.ZodOptional<z.ZodObject<{
      http: z.ZodOptional<z.ZodObject<{
        enabled: z.ZodBoolean;
        port: z.ZodNumber;
        host: z.ZodOptional<z.ZodString>;
        acceptFormats: z.ZodArray<z.ZodString>;
      }, z.core.$strip>>;
      grpc: z.ZodOptional<z.ZodObject<{
        enabled: z.ZodBoolean;
        port: z.ZodNumber;
      }, z.core.$strip>>;
    }, z.core.$strip>>;
    storage: z.ZodOptional<z.ZodObject<{
      type: z.ZodString;
      retentionDays: z.ZodNumber;
    }, z.core.$strip>>;
    forwarding: z.ZodOptional<z.ZodObject<{
      enabled: z.ZodBoolean;
      endpoint: z.ZodString;
      headers: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>>;
  }, z.core.$strip>>;
}, z.core.$strip>;
type TestSuite = z.infer<typeof TestSuiteSchema>;
declare const TestSuiteConfigSchema: z.ZodObject<{
  tags: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  description: z.ZodOptional<z.ZodString>;
  providers: z.ZodUnion<readonly [z.ZodString, z.ZodCustom<CallApiFunction & {
    label?: string;
  }, CallApiFunction & {
    label?: string;
  }>, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<CallApiFunction & {
    label?: string;
  }, CallApiFunction & {
    label?: string;
  }>, z.ZodRecord<z.ZodString, z.ZodObject<{
    id: z.ZodOptional<z.ZodCustom<string, string>>;
    label: z.ZodOptional<z.ZodCustom<string, string>>;
    config: z.ZodOptional<z.ZodAny>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    transform: z.ZodOptional<z.ZodString>;
    delay: z.ZodOptional<z.ZodNumber>;
    env: z.ZodOptional<z.ZodObject<{
      AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AI21_API_KEY: z.ZodOptional<z.ZodString>;
      AIML_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
      AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
      AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
      AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
      AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
      CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
      COMETAPI_KEY: z.ZodOptional<z.ZodString>;
      COHERE_API_KEY: z.ZodOptional<z.ZodString>;
      COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
      DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
      DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
      ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
      FAL_KEY: z.ZodOptional<z.ZodString>;
      GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
      GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
      GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
      GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
      GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
      GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
      GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
      GROQ_API_KEY: z.ZodOptional<z.ZodString>;
      HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
      HF_API_TOKEN: z.ZodOptional<z.ZodString>;
      HF_TOKEN: z.ZodOptional<z.ZodString>;
      HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
      HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
      JFROG_API_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
      LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
      LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
      LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
      MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
      NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
      NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
      CODEX_API_KEY: z.ZodOptional<z.ZodString>;
      PALM_API_HOST: z.ZodOptional<z.ZodString>;
      PALM_API_KEY: z.ZodOptional<z.ZodString>;
      PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
      PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
      PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
      QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
      SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
      SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
      VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
      VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
      VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
      VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
      VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
      VERTEX_REGION: z.ZodOptional<z.ZodString>;
      VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
      WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
      WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
      XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      XAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
      AWS_REGION: z.ZodOptional<z.ZodString>;
      AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
      PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>>;
    inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  }, z.core.$strip>>, z.ZodObject<{
    id: z.ZodOptional<z.ZodCustom<string, string>>;
    label: z.ZodOptional<z.ZodCustom<string, string>>;
    config: z.ZodOptional<z.ZodAny>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    transform: z.ZodOptional<z.ZodString>;
    delay: z.ZodOptional<z.ZodNumber>;
    env: z.ZodOptional<z.ZodObject<{
      AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AI21_API_KEY: z.ZodOptional<z.ZodString>;
      AIML_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
      AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
      AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
      AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
      AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
      CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
      COMETAPI_KEY: z.ZodOptional<z.ZodString>;
      COHERE_API_KEY: z.ZodOptional<z.ZodString>;
      COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
      DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
      DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
      ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
      FAL_KEY: z.ZodOptional<z.ZodString>;
      GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
      GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
      GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
      GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
      GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
      GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
      GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
      GROQ_API_KEY: z.ZodOptional<z.ZodString>;
      HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
      HF_API_TOKEN: z.ZodOptional<z.ZodString>;
      HF_TOKEN: z.ZodOptional<z.ZodString>;
      HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
      HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
      JFROG_API_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
      LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
      LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
      LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
      MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
      NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
      NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
      CODEX_API_KEY: z.ZodOptional<z.ZodString>;
      PALM_API_HOST: z.ZodOptional<z.ZodString>;
      PALM_API_KEY: z.ZodOptional<z.ZodString>;
      PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
      PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
      PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
      QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
      SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
      SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
      VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
      VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
      VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
      VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
      VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
      VERTEX_REGION: z.ZodOptional<z.ZodString>;
      VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
      WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
      WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
      XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      XAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
      AWS_REGION: z.ZodOptional<z.ZodString>;
      AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
      PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>>;
    inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  }, z.core.$strip>]>>]>;
  prompts: z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    id: z.ZodString;
    label: z.ZodOptional<z.ZodString>;
    raw: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>, z.ZodObject<{
    id: z.ZodOptional<z.ZodString>;
    raw: z.ZodString;
    display: z.ZodOptional<z.ZodString>;
    label: z.ZodString;
    function: z.ZodOptional<z.ZodCustom<PromptFunction, PromptFunction>>;
    config: z.ZodOptional<z.ZodAny>;
  }, z.core.$strip>]>>, z.ZodRecord<z.ZodString, z.ZodString>]>;
  tests: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    description: z.ZodOptional<z.ZodString>;
    vars: z.ZodOptional<z.ZodCustom<Vars, Vars>>;
    provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
      id: z.ZodOptional<z.ZodCustom<string, string>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      config: z.ZodOptional<z.ZodAny>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      env: z.ZodOptional<z.ZodObject<{
        AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AI21_API_KEY: z.ZodOptional<z.ZodString>;
        AIML_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
        AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
        AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
        AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
        AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
        CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
        COMETAPI_KEY: z.ZodOptional<z.ZodString>;
        COHERE_API_KEY: z.ZodOptional<z.ZodString>;
        COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
        DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
        DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
        ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
        FAL_KEY: z.ZodOptional<z.ZodString>;
        GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
        GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
        GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
        GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
        GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
        GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
        GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
        GROQ_API_KEY: z.ZodOptional<z.ZodString>;
        HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
        HF_API_TOKEN: z.ZodOptional<z.ZodString>;
        HF_TOKEN: z.ZodOptional<z.ZodString>;
        HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
        HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
        JFROG_API_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
        LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
        LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
        LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
        MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
        NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
        NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
        CODEX_API_KEY: z.ZodOptional<z.ZodString>;
        PALM_API_HOST: z.ZodOptional<z.ZodString>;
        PALM_API_KEY: z.ZodOptional<z.ZodString>;
        PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
        PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
        PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
        QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
        SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
        SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
        VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
        VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
        VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
        VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
        VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
        VERTEX_REGION: z.ZodOptional<z.ZodString>;
        VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
        WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
        WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
        XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        XAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
        AWS_REGION: z.ZodOptional<z.ZodString>;
        AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
        PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>, z.ZodObject<{
      id: z.ZodCustom<() => string, () => string>;
      callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
      callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
      callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodAny>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>]>>;
    providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
    assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
      type: z.ZodLiteral<"assert-set">;
      assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>>;
      weight: z.ZodOptional<z.ZodNumber>;
      metric: z.ZodOptional<z.ZodString>;
      threshold: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    }, z.core.$strip>, z.ZodObject<{
      type: z.ZodUnion<readonly [z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodPipe<z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
        "select-best": "select-best";
        human: "human";
        "max-score": "max-score";
      }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
      value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      weight: z.ZodOptional<z.ZodNumber>;
      provider: z.ZodOptional<z.ZodCustom<any, any>>;
      rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
        role: string;
        content: string;
      }[] | undefined, string | string[] | {
        role: string;
        content: string;
      }[] | undefined>>;
      metric: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      contextTransform: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>]>>>;
    assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
    options: z.ZodOptional<z.ZodObject<{
      disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
      disableConversationVar: z.ZodOptional<z.ZodBoolean>;
      runSerially: z.ZodOptional<z.ZodBoolean>;
      rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
        role: z.ZodString;
        content: z.ZodString;
      }, z.core.$strip>>]>>;
      provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
      factuality: z.ZodOptional<z.ZodObject<{
        subset: z.ZodOptional<z.ZodNumber>;
        superset: z.ZodOptional<z.ZodNumber>;
        agree: z.ZodOptional<z.ZodNumber>;
        disagree: z.ZodOptional<z.ZodNumber>;
        differButFactual: z.ZodOptional<z.ZodNumber>;
      }, z.core.$strip>>;
      postprocess: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      transformVars: z.ZodOptional<z.ZodString>;
      storeOutputAs: z.ZodOptional<z.ZodString>;
      prefix: z.ZodOptional<z.ZodString>;
      suffix: z.ZodOptional<z.ZodString>;
    }, z.core.$catchall<z.ZodAny>>>;
    threshold: z.ZodOptional<z.ZodNumber>;
    metadata: z.ZodOptional<z.ZodObject<{
      pluginConfig: z.ZodOptional<z.ZodCustom<{
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }, {
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }>>;
      strategyConfig: z.ZodOptional<z.ZodCustom<{
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }, {
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }>>;
    }, z.core.$catchall<z.ZodAny>>>;
  }, z.core.$strip>, z.ZodObject<{
    path: z.ZodString;
    config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodNumber, z.ZodBoolean, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodNumber, z.ZodBoolean]>>, z.ZodRecord<z.ZodString, z.ZodAny>, z.ZodAny]>>>;
  }, z.core.$strip>]>>, z.ZodObject<{
    path: z.ZodString;
    config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodNumber, z.ZodBoolean, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodNumber, z.ZodBoolean]>>, z.ZodRecord<z.ZodString, z.ZodAny>, z.ZodAny]>>>;
  }, z.core.$strip>]>>;
  scenarios: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    description: z.ZodOptional<z.ZodString>;
    config: z.ZodArray<z.ZodObject<{
      description: z.ZodOptional<z.ZodOptional<z.ZodString>>;
      vars: z.ZodOptional<z.ZodOptional<z.ZodCustom<Vars, Vars>>>;
      provider: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
        id: z.ZodOptional<z.ZodCustom<string, string>>;
        label: z.ZodOptional<z.ZodCustom<string, string>>;
        config: z.ZodOptional<z.ZodAny>;
        prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
        transform: z.ZodOptional<z.ZodString>;
        delay: z.ZodOptional<z.ZodNumber>;
        env: z.ZodOptional<z.ZodObject<{
          AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AI21_API_KEY: z.ZodOptional<z.ZodString>;
          AIML_API_KEY: z.ZodOptional<z.ZodString>;
          ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
          ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
          AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
          AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_API_HOST: z.ZodOptional<z.ZodString>;
          AZURE_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
          AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
          AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
          AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
          AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
          CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
          CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
          CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
          COMETAPI_KEY: z.ZodOptional<z.ZodString>;
          COHERE_API_KEY: z.ZodOptional<z.ZodString>;
          COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
          DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
          DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
          DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
          DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
          ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
          FAL_KEY: z.ZodOptional<z.ZodString>;
          GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
          GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
          GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
          GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
          GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
          GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
          GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
          GROQ_API_KEY: z.ZodOptional<z.ZodString>;
          HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
          HF_API_TOKEN: z.ZodOptional<z.ZodString>;
          HF_TOKEN: z.ZodOptional<z.ZodString>;
          HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
          HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
          JFROG_API_KEY: z.ZodOptional<z.ZodString>;
          LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
          LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
          LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
          LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
          LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
          LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
          MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
          MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
          MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
          NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
          NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
          OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
          OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
          OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
          OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
          CODEX_API_KEY: z.ZodOptional<z.ZodString>;
          PALM_API_HOST: z.ZodOptional<z.ZodString>;
          PALM_API_KEY: z.ZodOptional<z.ZodString>;
          PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
          PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
          PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
          QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
          REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
          REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
          SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
          SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
          SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
          SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
          VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
          VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
          VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
          VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
          VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
          VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
          VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
          VERTEX_REGION: z.ZodOptional<z.ZodString>;
          VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
          WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
          WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
          WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
          WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
          XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          XAI_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
          AWS_REGION: z.ZodOptional<z.ZodString>;
          AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
          PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
        }, z.core.$strip>>;
        inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
      }, z.core.$strip>, z.ZodObject<{
        id: z.ZodCustom<() => string, () => string>;
        callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
        callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
        callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
        label: z.ZodOptional<z.ZodCustom<string, string>>;
        transform: z.ZodOptional<z.ZodString>;
        delay: z.ZodOptional<z.ZodNumber>;
        config: z.ZodOptional<z.ZodAny>;
        inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
      }, z.core.$strip>]>>>;
      providers: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodString>>>;
      prompts: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodString>>>;
      providerOutput: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>>;
      assert: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
        type: z.ZodLiteral<"assert-set">;
        assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
          type: z.ZodUnion<readonly [z.ZodEnum<{
            "answer-relevance": "answer-relevance";
            bleu: "bleu";
            classifier: "classifier";
            contains: "contains";
            "contains-all": "contains-all";
            "contains-any": "contains-any";
            "contains-html": "contains-html";
            "contains-json": "contains-json";
            "contains-sql": "contains-sql";
            "contains-xml": "contains-xml";
            "context-faithfulness": "context-faithfulness";
            "context-recall": "context-recall";
            "context-relevance": "context-relevance";
            "conversation-relevance": "conversation-relevance";
            cost: "cost";
            equals: "equals";
            factuality: "factuality";
            "finish-reason": "finish-reason";
            "g-eval": "g-eval";
            gleu: "gleu";
            guardrails: "guardrails";
            icontains: "icontains";
            "icontains-all": "icontains-all";
            "icontains-any": "icontains-any";
            "is-html": "is-html";
            "is-json": "is-json";
            "is-refusal": "is-refusal";
            "is-sql": "is-sql";
            "is-valid-function-call": "is-valid-function-call";
            "is-valid-openai-function-call": "is-valid-openai-function-call";
            "is-valid-openai-tools-call": "is-valid-openai-tools-call";
            "is-xml": "is-xml";
            javascript: "javascript";
            latency: "latency";
            levenshtein: "levenshtein";
            "llm-rubric": "llm-rubric";
            pi: "pi";
            meteor: "meteor";
            "model-graded-closedqa": "model-graded-closedqa";
            "model-graded-factuality": "model-graded-factuality";
            moderation: "moderation";
            perplexity: "perplexity";
            "perplexity-score": "perplexity-score";
            python: "python";
            regex: "regex";
            "rouge-n": "rouge-n";
            ruby: "ruby";
            similar: "similar";
            "similar:cosine": "similar:cosine";
            "similar:dot": "similar:dot";
            "similar:euclidean": "similar:euclidean";
            "starts-with": "starts-with";
            "tool-call-f1": "tool-call-f1";
            "trace-error-spans": "trace-error-spans";
            "trace-span-count": "trace-span-count";
            "trace-span-duration": "trace-span-duration";
            "search-rubric": "search-rubric";
            webhook: "webhook";
            "word-count": "word-count";
          }>, z.ZodPipe<z.ZodEnum<{
            "answer-relevance": "answer-relevance";
            bleu: "bleu";
            classifier: "classifier";
            contains: "contains";
            "contains-all": "contains-all";
            "contains-any": "contains-any";
            "contains-html": "contains-html";
            "contains-json": "contains-json";
            "contains-sql": "contains-sql";
            "contains-xml": "contains-xml";
            "context-faithfulness": "context-faithfulness";
            "context-recall": "context-recall";
            "context-relevance": "context-relevance";
            "conversation-relevance": "conversation-relevance";
            cost: "cost";
            equals: "equals";
            factuality: "factuality";
            "finish-reason": "finish-reason";
            "g-eval": "g-eval";
            gleu: "gleu";
            guardrails: "guardrails";
            icontains: "icontains";
            "icontains-all": "icontains-all";
            "icontains-any": "icontains-any";
            "is-html": "is-html";
            "is-json": "is-json";
            "is-refusal": "is-refusal";
            "is-sql": "is-sql";
            "is-valid-function-call": "is-valid-function-call";
            "is-valid-openai-function-call": "is-valid-openai-function-call";
            "is-valid-openai-tools-call": "is-valid-openai-tools-call";
            "is-xml": "is-xml";
            javascript: "javascript";
            latency: "latency";
            levenshtein: "levenshtein";
            "llm-rubric": "llm-rubric";
            pi: "pi";
            meteor: "meteor";
            "model-graded-closedqa": "model-graded-closedqa";
            "model-graded-factuality": "model-graded-factuality";
            moderation: "moderation";
            perplexity: "perplexity";
            "perplexity-score": "perplexity-score";
            python: "python";
            regex: "regex";
            "rouge-n": "rouge-n";
            ruby: "ruby";
            similar: "similar";
            "similar:cosine": "similar:cosine";
            "similar:dot": "similar:dot";
            "similar:euclidean": "similar:euclidean";
            "starts-with": "starts-with";
            "tool-call-f1": "tool-call-f1";
            "trace-error-spans": "trace-error-spans";
            "trace-span-count": "trace-span-count";
            "trace-span-duration": "trace-span-duration";
            "search-rubric": "search-rubric";
            webhook: "webhook";
            "word-count": "word-count";
          }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
            "select-best": "select-best";
            human: "human";
            "max-score": "max-score";
          }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
          value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
          config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
          threshold: z.ZodOptional<z.ZodNumber>;
          weight: z.ZodOptional<z.ZodNumber>;
          provider: z.ZodOptional<z.ZodCustom<any, any>>;
          rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
            role: string;
            content: string;
          }[] | undefined, string | string[] | {
            role: string;
            content: string;
          }[] | undefined>>;
          metric: z.ZodOptional<z.ZodString>;
          transform: z.ZodOptional<z.ZodString>;
          contextTransform: z.ZodOptional<z.ZodString>;
        }, z.core.$strip>>>;
        weight: z.ZodOptional<z.ZodNumber>;
        metric: z.ZodOptional<z.ZodString>;
        threshold: z.ZodOptional<z.ZodNumber>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      }, z.core.$strip>, z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>]>>>>;
      assertScoringFunction: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>>;
      options: z.ZodOptional<z.ZodOptional<z.ZodObject<{
        disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
        disableConversationVar: z.ZodOptional<z.ZodBoolean>;
        runSerially: z.ZodOptional<z.ZodBoolean>;
        rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
          role: z.ZodString;
          content: z.ZodString;
        }, z.core.$strip>>]>>;
        provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
        factuality: z.ZodOptional<z.ZodObject<{
          subset: z.ZodOptional<z.ZodNumber>;
          superset: z.ZodOptional<z.ZodNumber>;
          agree: z.ZodOptional<z.ZodNumber>;
          disagree: z.ZodOptional<z.ZodNumber>;
          differButFactual: z.ZodOptional<z.ZodNumber>;
        }, z.core.$strip>>;
        postprocess: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        transformVars: z.ZodOptional<z.ZodString>;
        storeOutputAs: z.ZodOptional<z.ZodString>;
        prefix: z.ZodOptional<z.ZodString>;
        suffix: z.ZodOptional<z.ZodString>;
      }, z.core.$catchall<z.ZodAny>>>>;
      threshold: z.ZodOptional<z.ZodOptional<z.ZodNumber>>;
      metadata: z.ZodOptional<z.ZodOptional<z.ZodObject<{
        pluginConfig: z.ZodOptional<z.ZodCustom<{
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        }, {
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        }>>;
        strategyConfig: z.ZodOptional<z.ZodCustom<{
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        }, {
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        }>>;
      }, z.core.$catchall<z.ZodAny>>>>;
    }, z.core.$strip>>;
    tests: z.ZodArray<z.ZodObject<{
      description: z.ZodOptional<z.ZodString>;
      vars: z.ZodOptional<z.ZodCustom<Vars, Vars>>;
      provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
        id: z.ZodOptional<z.ZodCustom<string, string>>;
        label: z.ZodOptional<z.ZodCustom<string, string>>;
        config: z.ZodOptional<z.ZodAny>;
        prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
        transform: z.ZodOptional<z.ZodString>;
        delay: z.ZodOptional<z.ZodNumber>;
        env: z.ZodOptional<z.ZodObject<{
          AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AI21_API_KEY: z.ZodOptional<z.ZodString>;
          AIML_API_KEY: z.ZodOptional<z.ZodString>;
          ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
          ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
          AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
          AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_API_HOST: z.ZodOptional<z.ZodString>;
          AZURE_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
          AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
          AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
          AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
          AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
          CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
          CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
          CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
          COMETAPI_KEY: z.ZodOptional<z.ZodString>;
          COHERE_API_KEY: z.ZodOptional<z.ZodString>;
          COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
          DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
          DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
          DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
          DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
          ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
          FAL_KEY: z.ZodOptional<z.ZodString>;
          GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
          GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
          GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
          GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
          GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
          GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
          GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
          GROQ_API_KEY: z.ZodOptional<z.ZodString>;
          HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
          HF_API_TOKEN: z.ZodOptional<z.ZodString>;
          HF_TOKEN: z.ZodOptional<z.ZodString>;
          HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
          HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
          JFROG_API_KEY: z.ZodOptional<z.ZodString>;
          LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
          LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
          LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
          LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
          LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
          LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
          MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
          MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
          MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
          NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
          NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
          OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
          OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
          OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
          OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
          CODEX_API_KEY: z.ZodOptional<z.ZodString>;
          PALM_API_HOST: z.ZodOptional<z.ZodString>;
          PALM_API_KEY: z.ZodOptional<z.ZodString>;
          PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
          PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
          PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
          QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
          REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
          REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
          SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
          SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
          SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
          SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
          VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
          VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
          VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
          VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
          VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
          VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
          VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
          VERTEX_REGION: z.ZodOptional<z.ZodString>;
          VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
          WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
          WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
          WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
          WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
          XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          XAI_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
          AWS_REGION: z.ZodOptional<z.ZodString>;
          AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
          PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
        }, z.core.$strip>>;
        inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
      }, z.core.$strip>, z.ZodObject<{
        id: z.ZodCustom<() => string, () => string>;
        callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
        callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
        callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
        label: z.ZodOptional<z.ZodCustom<string, string>>;
        transform: z.ZodOptional<z.ZodString>;
        delay: z.ZodOptional<z.ZodNumber>;
        config: z.ZodOptional<z.ZodAny>;
        inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
      }, z.core.$strip>]>>;
      providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
      assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
        type: z.ZodLiteral<"assert-set">;
        assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
          type: z.ZodUnion<readonly [z.ZodEnum<{
            "answer-relevance": "answer-relevance";
            bleu: "bleu";
            classifier: "classifier";
            contains: "contains";
            "contains-all": "contains-all";
            "contains-any": "contains-any";
            "contains-html": "contains-html";
            "contains-json": "contains-json";
            "contains-sql": "contains-sql";
            "contains-xml": "contains-xml";
            "context-faithfulness": "context-faithfulness";
            "context-recall": "context-recall";
            "context-relevance": "context-relevance";
            "conversation-relevance": "conversation-relevance";
            cost: "cost";
            equals: "equals";
            factuality: "factuality";
            "finish-reason": "finish-reason";
            "g-eval": "g-eval";
            gleu: "gleu";
            guardrails: "guardrails";
            icontains: "icontains";
            "icontains-all": "icontains-all";
            "icontains-any": "icontains-any";
            "is-html": "is-html";
            "is-json": "is-json";
            "is-refusal": "is-refusal";
            "is-sql": "is-sql";
            "is-valid-function-call": "is-valid-function-call";
            "is-valid-openai-function-call": "is-valid-openai-function-call";
            "is-valid-openai-tools-call": "is-valid-openai-tools-call";
            "is-xml": "is-xml";
            javascript: "javascript";
            latency: "latency";
            levenshtein: "levenshtein";
            "llm-rubric": "llm-rubric";
            pi: "pi";
            meteor: "meteor";
            "model-graded-closedqa": "model-graded-closedqa";
            "model-graded-factuality": "model-graded-factuality";
            moderation: "moderation";
            perplexity: "perplexity";
            "perplexity-score": "perplexity-score";
            python: "python";
            regex: "regex";
            "rouge-n": "rouge-n";
            ruby: "ruby";
            similar: "similar";
            "similar:cosine": "similar:cosine";
            "similar:dot": "similar:dot";
            "similar:euclidean": "similar:euclidean";
            "starts-with": "starts-with";
            "tool-call-f1": "tool-call-f1";
            "trace-error-spans": "trace-error-spans";
            "trace-span-count": "trace-span-count";
            "trace-span-duration": "trace-span-duration";
            "search-rubric": "search-rubric";
            webhook: "webhook";
            "word-count": "word-count";
          }>, z.ZodPipe<z.ZodEnum<{
            "answer-relevance": "answer-relevance";
            bleu: "bleu";
            classifier: "classifier";
            contains: "contains";
            "contains-all": "contains-all";
            "contains-any": "contains-any";
            "contains-html": "contains-html";
            "contains-json": "contains-json";
            "contains-sql": "contains-sql";
            "contains-xml": "contains-xml";
            "context-faithfulness": "context-faithfulness";
            "context-recall": "context-recall";
            "context-relevance": "context-relevance";
            "conversation-relevance": "conversation-relevance";
            cost: "cost";
            equals: "equals";
            factuality: "factuality";
            "finish-reason": "finish-reason";
            "g-eval": "g-eval";
            gleu: "gleu";
            guardrails: "guardrails";
            icontains: "icontains";
            "icontains-all": "icontains-all";
            "icontains-any": "icontains-any";
            "is-html": "is-html";
            "is-json": "is-json";
            "is-refusal": "is-refusal";
            "is-sql": "is-sql";
            "is-valid-function-call": "is-valid-function-call";
            "is-valid-openai-function-call": "is-valid-openai-function-call";
            "is-valid-openai-tools-call": "is-valid-openai-tools-call";
            "is-xml": "is-xml";
            javascript: "javascript";
            latency: "latency";
            levenshtein: "levenshtein";
            "llm-rubric": "llm-rubric";
            pi: "pi";
            meteor: "meteor";
            "model-graded-closedqa": "model-graded-closedqa";
            "model-graded-factuality": "model-graded-factuality";
            moderation: "moderation";
            perplexity: "perplexity";
            "perplexity-score": "perplexity-score";
            python: "python";
            regex: "regex";
            "rouge-n": "rouge-n";
            ruby: "ruby";
            similar: "similar";
            "similar:cosine": "similar:cosine";
            "similar:dot": "similar:dot";
            "similar:euclidean": "similar:euclidean";
            "starts-with": "starts-with";
            "tool-call-f1": "tool-call-f1";
            "trace-error-spans": "trace-error-spans";
            "trace-span-count": "trace-span-count";
            "trace-span-duration": "trace-span-duration";
            "search-rubric": "search-rubric";
            webhook: "webhook";
            "word-count": "word-count";
          }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
            "select-best": "select-best";
            human: "human";
            "max-score": "max-score";
          }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
          value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
          config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
          threshold: z.ZodOptional<z.ZodNumber>;
          weight: z.ZodOptional<z.ZodNumber>;
          provider: z.ZodOptional<z.ZodCustom<any, any>>;
          rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
            role: string;
            content: string;
          }[] | undefined, string | string[] | {
            role: string;
            content: string;
          }[] | undefined>>;
          metric: z.ZodOptional<z.ZodString>;
          transform: z.ZodOptional<z.ZodString>;
          contextTransform: z.ZodOptional<z.ZodString>;
        }, z.core.$strip>>>;
        weight: z.ZodOptional<z.ZodNumber>;
        metric: z.ZodOptional<z.ZodString>;
        threshold: z.ZodOptional<z.ZodNumber>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      }, z.core.$strip>, z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>]>>>;
      assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
      options: z.ZodOptional<z.ZodObject<{
        disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
        disableConversationVar: z.ZodOptional<z.ZodBoolean>;
        runSerially: z.ZodOptional<z.ZodBoolean>;
        rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
          role: z.ZodString;
          content: z.ZodString;
        }, z.core.$strip>>]>>;
        provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
        factuality: z.ZodOptional<z.ZodObject<{
          subset: z.ZodOptional<z.ZodNumber>;
          superset: z.ZodOptional<z.ZodNumber>;
          agree: z.ZodOptional<z.ZodNumber>;
          disagree: z.ZodOptional<z.ZodNumber>;
          differButFactual: z.ZodOptional<z.ZodNumber>;
        }, z.core.$strip>>;
        postprocess: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        transformVars: z.ZodOptional<z.ZodString>;
        storeOutputAs: z.ZodOptional<z.ZodString>;
        prefix: z.ZodOptional<z.ZodString>;
        suffix: z.ZodOptional<z.ZodString>;
      }, z.core.$catchall<z.ZodAny>>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      metadata: z.ZodOptional<z.ZodObject<{
        pluginConfig: z.ZodOptional<z.ZodCustom<{
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        }, {
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        }>>;
        strategyConfig: z.ZodOptional<z.ZodCustom<{
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        }, {
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        }>>;
      }, z.core.$catchall<z.ZodAny>>>;
    }, z.core.$strip>>;
  }, z.core.$strip>]>>>;
  defaultTest: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    vars: z.ZodOptional<z.ZodCustom<Vars, Vars>>;
    provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
      id: z.ZodOptional<z.ZodCustom<string, string>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      config: z.ZodOptional<z.ZodAny>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      env: z.ZodOptional<z.ZodObject<{
        AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AI21_API_KEY: z.ZodOptional<z.ZodString>;
        AIML_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
        AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
        AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
        AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
        AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
        CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
        COMETAPI_KEY: z.ZodOptional<z.ZodString>;
        COHERE_API_KEY: z.ZodOptional<z.ZodString>;
        COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
        DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
        DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
        ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
        FAL_KEY: z.ZodOptional<z.ZodString>;
        GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
        GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
        GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
        GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
        GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
        GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
        GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
        GROQ_API_KEY: z.ZodOptional<z.ZodString>;
        HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
        HF_API_TOKEN: z.ZodOptional<z.ZodString>;
        HF_TOKEN: z.ZodOptional<z.ZodString>;
        HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
        HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
        JFROG_API_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
        LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
        LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
        LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
        MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
        NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
        NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
        CODEX_API_KEY: z.ZodOptional<z.ZodString>;
        PALM_API_HOST: z.ZodOptional<z.ZodString>;
        PALM_API_KEY: z.ZodOptional<z.ZodString>;
        PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
        PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
        PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
        QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
        SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
        SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
        VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
        VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
        VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
        VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
        VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
        VERTEX_REGION: z.ZodOptional<z.ZodString>;
        VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
        WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
        WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
        XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        XAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
        AWS_REGION: z.ZodOptional<z.ZodString>;
        AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
        PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>, z.ZodObject<{
      id: z.ZodCustom<() => string, () => string>;
      callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
      callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
      callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodAny>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>]>>;
    providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
    assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
      type: z.ZodLiteral<"assert-set">;
      assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>>;
      weight: z.ZodOptional<z.ZodNumber>;
      metric: z.ZodOptional<z.ZodString>;
      threshold: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    }, z.core.$strip>, z.ZodObject<{
      type: z.ZodUnion<readonly [z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodPipe<z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
        "select-best": "select-best";
        human: "human";
        "max-score": "max-score";
      }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
      value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      weight: z.ZodOptional<z.ZodNumber>;
      provider: z.ZodOptional<z.ZodCustom<any, any>>;
      rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
        role: string;
        content: string;
      }[] | undefined, string | string[] | {
        role: string;
        content: string;
      }[] | undefined>>;
      metric: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      contextTransform: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>]>>>;
    threshold: z.ZodOptional<z.ZodNumber>;
    assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
    options: z.ZodOptional<z.ZodObject<{
      disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
      disableConversationVar: z.ZodOptional<z.ZodBoolean>;
      runSerially: z.ZodOptional<z.ZodBoolean>;
      rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
        role: z.ZodString;
        content: z.ZodString;
      }, z.core.$strip>>]>>;
      provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
      factuality: z.ZodOptional<z.ZodObject<{
        subset: z.ZodOptional<z.ZodNumber>;
        superset: z.ZodOptional<z.ZodNumber>;
        agree: z.ZodOptional<z.ZodNumber>;
        disagree: z.ZodOptional<z.ZodNumber>;
        differButFactual: z.ZodOptional<z.ZodNumber>;
      }, z.core.$strip>>;
      postprocess: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      transformVars: z.ZodOptional<z.ZodString>;
      storeOutputAs: z.ZodOptional<z.ZodString>;
      prefix: z.ZodOptional<z.ZodString>;
      suffix: z.ZodOptional<z.ZodString>;
    }, z.core.$catchall<z.ZodAny>>>;
    metadata: z.ZodOptional<z.ZodObject<{
      pluginConfig: z.ZodOptional<z.ZodCustom<{
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }, {
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }>>;
      strategyConfig: z.ZodOptional<z.ZodCustom<{
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }, {
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }>>;
    }, z.core.$catchall<z.ZodAny>>>;
  }, z.core.$strip>]>>;
  outputPath: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>]>>;
  sharing: z.ZodOptional<z.ZodUnion<readonly [z.ZodBoolean, z.ZodObject<{
    apiBaseUrl: z.ZodOptional<z.ZodString>;
    appBaseUrl: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>]>>;
  nunjucksFilters: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  env: z.ZodOptional<z.ZodUnion<readonly [z.ZodObject<{
    AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AI21_API_KEY: z.ZodOptional<z.ZodString>;
    AIML_API_KEY: z.ZodOptional<z.ZodString>;
    ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
    ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
    AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
    AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_API_HOST: z.ZodOptional<z.ZodString>;
    AZURE_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
    AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
    AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
    AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
    AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
    CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
    CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
    CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
    COMETAPI_KEY: z.ZodOptional<z.ZodString>;
    COHERE_API_KEY: z.ZodOptional<z.ZodString>;
    COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
    DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
    DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
    DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
    DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
    ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
    FAL_KEY: z.ZodOptional<z.ZodString>;
    GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
    GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
    GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
    GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
    GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
    GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
    GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
    GROQ_API_KEY: z.ZodOptional<z.ZodString>;
    HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
    HF_API_TOKEN: z.ZodOptional<z.ZodString>;
    HF_TOKEN: z.ZodOptional<z.ZodString>;
    HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
    HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
    JFROG_API_KEY: z.ZodOptional<z.ZodString>;
    LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
    LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
    LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
    LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
    LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
    LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
    MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
    MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
    MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
    NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
    NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
    OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
    OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
    OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
    OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
    CODEX_API_KEY: z.ZodOptional<z.ZodString>;
    PALM_API_HOST: z.ZodOptional<z.ZodString>;
    PALM_API_KEY: z.ZodOptional<z.ZodString>;
    PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
    PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
    PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
    QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
    REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
    REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
    SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
    SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
    SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
    SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
    VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
    VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
    VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
    VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
    VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
    VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
    VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
    VERTEX_REGION: z.ZodOptional<z.ZodString>;
    VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
    WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
    WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
    WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
    WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
    XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    XAI_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
    AWS_REGION: z.ZodOptional<z.ZodString>;
    AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
    PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>, z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodPipe<z.ZodNumber, z.ZodTransform<string, number>>, z.ZodPipe<z.ZodBoolean, z.ZodTransform<string, boolean>>]>>]>>;
  derivedMetrics: z.ZodOptional<z.ZodArray<z.ZodObject<{
    name: z.ZodString;
    value: z.ZodUnion<readonly [z.ZodString, z.ZodFunction<z.ZodTuple<readonly [z.ZodRecord<z.ZodString, z.ZodNumber>, z.ZodCustom<RunEvalOptions, RunEvalOptions>], null>, z.ZodNumber>]>;
  }, z.core.$strip>>>;
  extensions: z.ZodOptional<z.ZodNullable<z.ZodArray<z.ZodString>>>;
  metadata: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
  redteam: z.ZodOptional<z.ZodPipe<z.ZodObject<{
    injectVar: z.ZodOptional<z.ZodString>;
    purpose: z.ZodOptional<z.ZodString>;
    testGenerationInstructions: z.ZodOptional<z.ZodString>;
    provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
      id: z.ZodCustom<() => string, () => string>;
      callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
      callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
      callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodAny>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>, z.ZodObject<{
      id: z.ZodOptional<z.ZodCustom<string, string>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      config: z.ZodOptional<z.ZodAny>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      env: z.ZodOptional<z.ZodObject<{
        AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AI21_API_KEY: z.ZodOptional<z.ZodString>;
        AIML_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
        AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
        AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
        AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
        AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
        CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
        COMETAPI_KEY: z.ZodOptional<z.ZodString>;
        COHERE_API_KEY: z.ZodOptional<z.ZodString>;
        COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
        DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
        DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
        ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
        FAL_KEY: z.ZodOptional<z.ZodString>;
        GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
        GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
        GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
        GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
        GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
        GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
        GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
        GROQ_API_KEY: z.ZodOptional<z.ZodString>;
        HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
        HF_API_TOKEN: z.ZodOptional<z.ZodString>;
        HF_TOKEN: z.ZodOptional<z.ZodString>;
        HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
        HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
        JFROG_API_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
        LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
        LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
        LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
        MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
        NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
        NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
        CODEX_API_KEY: z.ZodOptional<z.ZodString>;
        PALM_API_HOST: z.ZodOptional<z.ZodString>;
        PALM_API_KEY: z.ZodOptional<z.ZodString>;
        PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
        PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
        PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
        QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
        SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
        SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
        VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
        VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
        VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
        VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
        VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
        VERTEX_REGION: z.ZodOptional<z.ZodString>;
        VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
        WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
        WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
        XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        XAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
        AWS_REGION: z.ZodOptional<z.ZodString>;
        AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
        PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>]>>;
    numTests: z.ZodOptional<z.ZodInt>;
    language: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>]>>;
    frameworks: z.ZodOptional<z.ZodArray<z.ZodEnum<{
      "mitre:atlas": "mitre:atlas";
      "nist:ai:measure": "nist:ai:measure";
      "owasp:api": "owasp:api";
      "owasp:llm": "owasp:llm";
      "owasp:agentic": "owasp:agentic";
      "eu:ai-act": "eu:ai-act";
      "iso:42001": "iso:42001";
      gdpr: "gdpr";
    }>>>;
    entities: z.ZodOptional<z.ZodArray<z.ZodString>>;
    contexts: z.ZodOptional<z.ZodArray<z.ZodObject<{
      id: z.ZodString;
      purpose: z.ZodString;
      vars: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>>>;
    plugins: z.ZodPrefault<z.ZodArray<z.ZodUnion<readonly [z.ZodUnion<readonly [z.ZodEnum<{
      [x: string]: string;
    }>, z.ZodString]>, z.ZodObject<{
      id: z.ZodUnion<readonly [z.ZodEnum<{
        [x: string]: string;
      }>, z.ZodString]>;
      numTests: z.ZodPrefault<z.ZodInt>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;
      severity: z.ZodOptional<z.ZodEnum<{
        critical: "critical";
        high: "high";
        medium: "medium";
        low: "low";
        informational: "informational";
      }>>;
    }, z.core.$strip>]>>>;
    strategies: z.ZodPrefault<z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodUnion<readonly [z.ZodEnum<{
      [x: string]: string;
    }>, z.ZodString, z.ZodString]>, z.ZodObject<{
      id: z.ZodUnion<readonly [z.ZodEnum<{
        [x: string]: string;
      }>, z.ZodString, z.ZodString]>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;
    }, z.core.$strip>]>>>>;
    maxConcurrency: z.ZodOptional<z.ZodInt>;
    delay: z.ZodOptional<z.ZodInt>;
    excludeTargetOutputFromAgenticAttackGeneration: z.ZodOptional<z.ZodBoolean>;
    tracing: z.ZodOptional<z.ZodType<TracingConfig, unknown, z.core.$ZodTypeInternals<TracingConfig, unknown>>>;
  }, z.core.$strip>, z.ZodTransform<RedteamFileConfig, {
    plugins: (string | {
      id: string;
      numTests: number;
      config?: Record<string, unknown> | undefined;
      severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
    })[];
    strategies: (string | {
      id: string;
      config?: Record<string, unknown> | undefined;
    })[];
    injectVar?: string | undefined;
    purpose?: string | undefined;
    testGenerationInstructions?: string | undefined;
    provider?: string | {
      id?: string | undefined;
      label?: string | undefined;
      config?: any;
      prompts?: string[] | undefined;
      transform?: string | undefined;
      delay?: number | undefined;
      env?: {
        AI21_API_BASE_URL?: string | undefined;
        AI21_API_KEY?: string | undefined;
        AIML_API_KEY?: string | undefined;
        ANTHROPIC_API_KEY?: string | undefined;
        ANTHROPIC_BASE_URL?: string | undefined;
        AWS_BEDROCK_REGION?: string | undefined;
        AZURE_API_BASE_URL?: string | undefined;
        AZURE_API_HOST?: string | undefined;
        AZURE_API_KEY?: string | undefined;
        AZURE_AUTHORITY_HOST?: string | undefined;
        AZURE_CLIENT_ID?: string | undefined;
        AZURE_CLIENT_SECRET?: string | undefined;
        AZURE_DEPLOYMENT_NAME?: string | undefined;
        AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
        AZURE_OPENAI_API_BASE_URL?: string | undefined;
        AZURE_OPENAI_API_HOST?: string | undefined;
        AZURE_OPENAI_API_KEY?: string | undefined;
        AZURE_OPENAI_BASE_URL?: string | undefined;
        AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
        AZURE_TENANT_ID?: string | undefined;
        AZURE_TOKEN_SCOPE?: string | undefined;
        CLAUDE_CODE_USE_BEDROCK?: string | undefined;
        CLAUDE_CODE_USE_VERTEX?: string | undefined;
        CLOUDFLARE_ACCOUNT_ID?: string | undefined;
        CLOUDFLARE_API_KEY?: string | undefined;
        CLOUDFLARE_GATEWAY_ID?: string | undefined;
        CF_AIG_TOKEN?: string | undefined;
        COMETAPI_KEY?: string | undefined;
        COHERE_API_KEY?: string | undefined;
        COHERE_CLIENT_NAME?: string | undefined;
        DATABRICKS_TOKEN?: string | undefined;
        DATABRICKS_WORKSPACE_URL?: string | undefined;
        DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
        DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
        ELEVENLABS_API_KEY?: string | undefined;
        FAL_KEY?: string | undefined;
        GITHUB_TOKEN?: string | undefined;
        GOOGLE_API_HOST?: string | undefined;
        GOOGLE_API_BASE_URL?: string | undefined;
        GOOGLE_API_KEY?: string | undefined;
        GOOGLE_PROJECT_ID?: string | undefined;
        GOOGLE_LOCATION?: string | undefined;
        GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
        GEMINI_API_KEY?: string | undefined;
        GROQ_API_KEY?: string | undefined;
        HELICONE_API_KEY?: string | undefined;
        HF_API_TOKEN?: string | undefined;
        HF_TOKEN?: string | undefined;
        HYPERBOLIC_API_KEY?: string | undefined;
        HUGGING_FACE_HUB_TOKEN?: string | undefined;
        JFROG_API_KEY?: string | undefined;
        LANGFUSE_HOST?: string | undefined;
        LANGFUSE_PUBLIC_KEY?: string | undefined;
        LANGFUSE_SECRET_KEY?: string | undefined;
        LITELLM_API_BASE?: string | undefined;
        LLAMA_BASE_URL?: string | undefined;
        LOCALAI_BASE_URL?: string | undefined;
        MISTRAL_API_BASE_URL?: string | undefined;
        MISTRAL_API_HOST?: string | undefined;
        MISTRAL_API_KEY?: string | undefined;
        NSCALE_SERVICE_TOKEN?: string | undefined;
        NSCALE_API_KEY?: string | undefined;
        OLLAMA_API_KEY?: string | undefined;
        OLLAMA_BASE_URL?: string | undefined;
        OPENAI_API_BASE_URL?: string | undefined;
        OPENAI_API_HOST?: string | undefined;
        OPENAI_API_KEY?: string | undefined;
        OPENAI_BASE_URL?: string | undefined;
        OPENAI_ORGANIZATION?: string | undefined;
        CODEX_API_KEY?: string | undefined;
        PALM_API_HOST?: string | undefined;
        PALM_API_KEY?: string | undefined;
        PORTKEY_API_KEY?: string | undefined;
        PROMPTFOO_CA_CERT_PATH?: string | undefined;
        PROMPTFOO_PFX_CERT_PATH?: string | undefined;
        PROMPTFOO_PFX_PASSWORD?: string | undefined;
        PROMPTFOO_JKS_CERT_PATH?: string | undefined;
        PROMPTFOO_JKS_PASSWORD?: string | undefined;
        PROMPTFOO_JKS_ALIAS?: string | undefined;
        PROMPTFOO_INSECURE_SSL?: string | undefined;
        QUIVERAI_API_KEY?: string | undefined;
        REPLICATE_API_KEY?: string | undefined;
        REPLICATE_API_TOKEN?: string | undefined;
        SHAREPOINT_BASE_URL?: string | undefined;
        SHAREPOINT_CERT_PATH?: string | undefined;
        SHAREPOINT_CLIENT_ID?: string | undefined;
        SHAREPOINT_TENANT_ID?: string | undefined;
        VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
        VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
        VERTEX_API_HOST?: string | undefined;
        VERTEX_API_KEY?: string | undefined;
        VERTEX_API_VERSION?: string | undefined;
        VERTEX_PROJECT_ID?: string | undefined;
        VERTEX_PUBLISHER?: string | undefined;
        VERTEX_REGION?: string | undefined;
        VOYAGE_API_BASE_URL?: string | undefined;
        VOYAGE_API_KEY?: string | undefined;
        WATSONX_AI_APIKEY?: string | undefined;
        WATSONX_AI_AUTH_TYPE?: string | undefined;
        WATSONX_AI_BEARER_TOKEN?: string | undefined;
        WATSONX_AI_PROJECT_ID?: string | undefined;
        XAI_API_BASE_URL?: string | undefined;
        XAI_API_KEY?: string | undefined;
        AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
        AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
        AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
        AWS_REGION?: string | undefined;
        AWS_DEFAULT_REGION?: string | undefined;
        AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
        AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
        AWS_SAGEMAKER_TOP_P?: string | undefined;
        AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
        PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
      } | undefined;
      inputs?: Record<string, string> | undefined;
    } | {
      id: () => string;
      callApi: CallApiFunction;
      callEmbeddingApi?: ((prompt: string) => Promise<ProviderEmbeddingResponse>) | undefined;
      callClassificationApi?: ((prompt: string) => Promise<ProviderClassificationResponse>) | undefined;
      label?: string | undefined;
      transform?: string | undefined;
      delay?: number | undefined;
      config?: any;
      inputs?: Record<string, string> | undefined;
    } | undefined;
    numTests?: number | undefined;
    language?: string | string[] | undefined;
    frameworks?: ("mitre:atlas" | "nist:ai:measure" | "owasp:api" | "owasp:llm" | "owasp:agentic" | "eu:ai-act" | "iso:42001" | "gdpr")[] | undefined;
    entities?: string[] | undefined;
    contexts?: {
      id: string;
      purpose: string;
      vars?: Record<string, string> | undefined;
    }[] | undefined;
    maxConcurrency?: number | undefined;
    delay?: number | undefined;
    excludeTargetOutputFromAgenticAttackGeneration?: boolean | undefined;
    tracing?: TracingConfig | undefined;
  }>>>;
  writeLatestResults: z.ZodOptional<z.ZodBoolean>;
  tracing: z.ZodOptional<z.ZodObject<{
    enabled: z.ZodPrefault<z.ZodBoolean>;
    otlp: z.ZodOptional<z.ZodObject<{
      http: z.ZodOptional<z.ZodObject<{
        enabled: z.ZodPrefault<z.ZodBoolean>;
        port: z.ZodPrefault<z.ZodNumber>;
        host: z.ZodPrefault<z.ZodString>;
        acceptFormats: z.ZodPrefault<z.ZodArray<z.ZodEnum<{
          json: "json";
          protobuf: "protobuf";
        }>>>;
      }, z.core.$strip>>;
      grpc: z.ZodOptional<z.ZodObject<{
        enabled: z.ZodPrefault<z.ZodBoolean>;
        port: z.ZodPrefault<z.ZodNumber>;
      }, z.core.$strip>>;
    }, z.core.$strip>>;
    storage: z.ZodOptional<z.ZodObject<{
      type: z.ZodPrefault<z.ZodEnum<{
        sqlite: "sqlite";
      }>>;
      retentionDays: z.ZodPrefault<z.ZodNumber>;
    }, z.core.$strip>>;
    forwarding: z.ZodOptional<z.ZodObject<{
      enabled: z.ZodPrefault<z.ZodBoolean>;
      endpoint: z.ZodString;
      headers: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>>;
  }, z.core.$strip>>;
}, z.core.$strip>;
type TestSuiteConfig = z.infer<typeof TestSuiteConfigSchema>;
declare const UnifiedConfigSchema: z.ZodPipe<z.ZodObject<{
  tags: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  description: z.ZodOptional<z.ZodString>;
  prompts: z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    id: z.ZodString;
    label: z.ZodOptional<z.ZodString>;
    raw: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>, z.ZodObject<{
    id: z.ZodOptional<z.ZodString>;
    raw: z.ZodString;
    display: z.ZodOptional<z.ZodString>;
    label: z.ZodString;
    function: z.ZodOptional<z.ZodCustom<PromptFunction, PromptFunction>>;
    config: z.ZodOptional<z.ZodAny>;
  }, z.core.$strip>]>>, z.ZodRecord<z.ZodString, z.ZodString>]>;
  tests: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    description: z.ZodOptional<z.ZodString>;
    vars: z.ZodOptional<z.ZodCustom<Vars, Vars>>;
    provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
      id: z.ZodOptional<z.ZodCustom<string, string>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      config: z.ZodOptional<z.ZodAny>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      env: z.ZodOptional<z.ZodObject<{
        AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AI21_API_KEY: z.ZodOptional<z.ZodString>;
        AIML_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
        AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
        AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
        AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
        AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
        CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
        COMETAPI_KEY: z.ZodOptional<z.ZodString>;
        COHERE_API_KEY: z.ZodOptional<z.ZodString>;
        COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
        DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
        DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
        ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
        FAL_KEY: z.ZodOptional<z.ZodString>;
        GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
        GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
        GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
        GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
        GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
        GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
        GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
        GROQ_API_KEY: z.ZodOptional<z.ZodString>;
        HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
        HF_API_TOKEN: z.ZodOptional<z.ZodString>;
        HF_TOKEN: z.ZodOptional<z.ZodString>;
        HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
        HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
        JFROG_API_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
        LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
        LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
        LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
        MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
        NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
        NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
        CODEX_API_KEY: z.ZodOptional<z.ZodString>;
        PALM_API_HOST: z.ZodOptional<z.ZodString>;
        PALM_API_KEY: z.ZodOptional<z.ZodString>;
        PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
        PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
        PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
        QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
        SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
        SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
        VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
        VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
        VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
        VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
        VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
        VERTEX_REGION: z.ZodOptional<z.ZodString>;
        VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
        WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
        WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
        XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        XAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
        AWS_REGION: z.ZodOptional<z.ZodString>;
        AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
        PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>, z.ZodObject<{
      id: z.ZodCustom<() => string, () => string>;
      callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
      callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
      callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodAny>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>]>>;
    providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
    assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
      type: z.ZodLiteral<"assert-set">;
      assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>>;
      weight: z.ZodOptional<z.ZodNumber>;
      metric: z.ZodOptional<z.ZodString>;
      threshold: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    }, z.core.$strip>, z.ZodObject<{
      type: z.ZodUnion<readonly [z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodPipe<z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
        "select-best": "select-best";
        human: "human";
        "max-score": "max-score";
      }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
      value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      weight: z.ZodOptional<z.ZodNumber>;
      provider: z.ZodOptional<z.ZodCustom<any, any>>;
      rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
        role: string;
        content: string;
      }[] | undefined, string | string[] | {
        role: string;
        content: string;
      }[] | undefined>>;
      metric: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      contextTransform: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>]>>>;
    assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
    options: z.ZodOptional<z.ZodObject<{
      disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
      disableConversationVar: z.ZodOptional<z.ZodBoolean>;
      runSerially: z.ZodOptional<z.ZodBoolean>;
      rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
        role: z.ZodString;
        content: z.ZodString;
      }, z.core.$strip>>]>>;
      provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
      factuality: z.ZodOptional<z.ZodObject<{
        subset: z.ZodOptional<z.ZodNumber>;
        superset: z.ZodOptional<z.ZodNumber>;
        agree: z.ZodOptional<z.ZodNumber>;
        disagree: z.ZodOptional<z.ZodNumber>;
        differButFactual: z.ZodOptional<z.ZodNumber>;
      }, z.core.$strip>>;
      postprocess: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      transformVars: z.ZodOptional<z.ZodString>;
      storeOutputAs: z.ZodOptional<z.ZodString>;
      prefix: z.ZodOptional<z.ZodString>;
      suffix: z.ZodOptional<z.ZodString>;
    }, z.core.$catchall<z.ZodAny>>>;
    threshold: z.ZodOptional<z.ZodNumber>;
    metadata: z.ZodOptional<z.ZodObject<{
      pluginConfig: z.ZodOptional<z.ZodCustom<{
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }, {
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }>>;
      strategyConfig: z.ZodOptional<z.ZodCustom<{
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }, {
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }>>;
    }, z.core.$catchall<z.ZodAny>>>;
  }, z.core.$strip>, z.ZodObject<{
    path: z.ZodString;
    config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodNumber, z.ZodBoolean, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodNumber, z.ZodBoolean]>>, z.ZodRecord<z.ZodString, z.ZodAny>, z.ZodAny]>>>;
  }, z.core.$strip>]>>, z.ZodObject<{
    path: z.ZodString;
    config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodNumber, z.ZodBoolean, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodNumber, z.ZodBoolean]>>, z.ZodRecord<z.ZodString, z.ZodAny>, z.ZodAny]>>>;
  }, z.core.$strip>]>>;
  scenarios: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    description: z.ZodOptional<z.ZodString>;
    config: z.ZodArray<z.ZodObject<{
      description: z.ZodOptional<z.ZodOptional<z.ZodString>>;
      vars: z.ZodOptional<z.ZodOptional<z.ZodCustom<Vars, Vars>>>;
      provider: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
        id: z.ZodOptional<z.ZodCustom<string, string>>;
        label: z.ZodOptional<z.ZodCustom<string, string>>;
        config: z.ZodOptional<z.ZodAny>;
        prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
        transform: z.ZodOptional<z.ZodString>;
        delay: z.ZodOptional<z.ZodNumber>;
        env: z.ZodOptional<z.ZodObject<{
          AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AI21_API_KEY: z.ZodOptional<z.ZodString>;
          AIML_API_KEY: z.ZodOptional<z.ZodString>;
          ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
          ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
          AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
          AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_API_HOST: z.ZodOptional<z.ZodString>;
          AZURE_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
          AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
          AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
          AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
          AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
          CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
          CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
          CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
          COMETAPI_KEY: z.ZodOptional<z.ZodString>;
          COHERE_API_KEY: z.ZodOptional<z.ZodString>;
          COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
          DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
          DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
          DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
          DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
          ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
          FAL_KEY: z.ZodOptional<z.ZodString>;
          GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
          GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
          GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
          GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
          GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
          GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
          GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
          GROQ_API_KEY: z.ZodOptional<z.ZodString>;
          HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
          HF_API_TOKEN: z.ZodOptional<z.ZodString>;
          HF_TOKEN: z.ZodOptional<z.ZodString>;
          HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
          HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
          JFROG_API_KEY: z.ZodOptional<z.ZodString>;
          LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
          LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
          LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
          LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
          LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
          LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
          MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
          MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
          MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
          NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
          NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
          OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
          OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
          OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
          OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
          CODEX_API_KEY: z.ZodOptional<z.ZodString>;
          PALM_API_HOST: z.ZodOptional<z.ZodString>;
          PALM_API_KEY: z.ZodOptional<z.ZodString>;
          PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
          PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
          PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
          QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
          REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
          REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
          SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
          SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
          SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
          SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
          VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
          VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
          VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
          VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
          VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
          VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
          VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
          VERTEX_REGION: z.ZodOptional<z.ZodString>;
          VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
          WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
          WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
          WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
          WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
          XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          XAI_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
          AWS_REGION: z.ZodOptional<z.ZodString>;
          AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
          PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
        }, z.core.$strip>>;
        inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
      }, z.core.$strip>, z.ZodObject<{
        id: z.ZodCustom<() => string, () => string>;
        callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
        callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
        callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
        label: z.ZodOptional<z.ZodCustom<string, string>>;
        transform: z.ZodOptional<z.ZodString>;
        delay: z.ZodOptional<z.ZodNumber>;
        config: z.ZodOptional<z.ZodAny>;
        inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
      }, z.core.$strip>]>>>;
      providers: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodString>>>;
      prompts: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodString>>>;
      providerOutput: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>>;
      assert: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
        type: z.ZodLiteral<"assert-set">;
        assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
          type: z.ZodUnion<readonly [z.ZodEnum<{
            "answer-relevance": "answer-relevance";
            bleu: "bleu";
            classifier: "classifier";
            contains: "contains";
            "contains-all": "contains-all";
            "contains-any": "contains-any";
            "contains-html": "contains-html";
            "contains-json": "contains-json";
            "contains-sql": "contains-sql";
            "contains-xml": "contains-xml";
            "context-faithfulness": "context-faithfulness";
            "context-recall": "context-recall";
            "context-relevance": "context-relevance";
            "conversation-relevance": "conversation-relevance";
            cost: "cost";
            equals: "equals";
            factuality: "factuality";
            "finish-reason": "finish-reason";
            "g-eval": "g-eval";
            gleu: "gleu";
            guardrails: "guardrails";
            icontains: "icontains";
            "icontains-all": "icontains-all";
            "icontains-any": "icontains-any";
            "is-html": "is-html";
            "is-json": "is-json";
            "is-refusal": "is-refusal";
            "is-sql": "is-sql";
            "is-valid-function-call": "is-valid-function-call";
            "is-valid-openai-function-call": "is-valid-openai-function-call";
            "is-valid-openai-tools-call": "is-valid-openai-tools-call";
            "is-xml": "is-xml";
            javascript: "javascript";
            latency: "latency";
            levenshtein: "levenshtein";
            "llm-rubric": "llm-rubric";
            pi: "pi";
            meteor: "meteor";
            "model-graded-closedqa": "model-graded-closedqa";
            "model-graded-factuality": "model-graded-factuality";
            moderation: "moderation";
            perplexity: "perplexity";
            "perplexity-score": "perplexity-score";
            python: "python";
            regex: "regex";
            "rouge-n": "rouge-n";
            ruby: "ruby";
            similar: "similar";
            "similar:cosine": "similar:cosine";
            "similar:dot": "similar:dot";
            "similar:euclidean": "similar:euclidean";
            "starts-with": "starts-with";
            "tool-call-f1": "tool-call-f1";
            "trace-error-spans": "trace-error-spans";
            "trace-span-count": "trace-span-count";
            "trace-span-duration": "trace-span-duration";
            "search-rubric": "search-rubric";
            webhook: "webhook";
            "word-count": "word-count";
          }>, z.ZodPipe<z.ZodEnum<{
            "answer-relevance": "answer-relevance";
            bleu: "bleu";
            classifier: "classifier";
            contains: "contains";
            "contains-all": "contains-all";
            "contains-any": "contains-any";
            "contains-html": "contains-html";
            "contains-json": "contains-json";
            "contains-sql": "contains-sql";
            "contains-xml": "contains-xml";
            "context-faithfulness": "context-faithfulness";
            "context-recall": "context-recall";
            "context-relevance": "context-relevance";
            "conversation-relevance": "conversation-relevance";
            cost: "cost";
            equals: "equals";
            factuality: "factuality";
            "finish-reason": "finish-reason";
            "g-eval": "g-eval";
            gleu: "gleu";
            guardrails: "guardrails";
            icontains: "icontains";
            "icontains-all": "icontains-all";
            "icontains-any": "icontains-any";
            "is-html": "is-html";
            "is-json": "is-json";
            "is-refusal": "is-refusal";
            "is-sql": "is-sql";
            "is-valid-function-call": "is-valid-function-call";
            "is-valid-openai-function-call": "is-valid-openai-function-call";
            "is-valid-openai-tools-call": "is-valid-openai-tools-call";
            "is-xml": "is-xml";
            javascript: "javascript";
            latency: "latency";
            levenshtein: "levenshtein";
            "llm-rubric": "llm-rubric";
            pi: "pi";
            meteor: "meteor";
            "model-graded-closedqa": "model-graded-closedqa";
            "model-graded-factuality": "model-graded-factuality";
            moderation: "moderation";
            perplexity: "perplexity";
            "perplexity-score": "perplexity-score";
            python: "python";
            regex: "regex";
            "rouge-n": "rouge-n";
            ruby: "ruby";
            similar: "similar";
            "similar:cosine": "similar:cosine";
            "similar:dot": "similar:dot";
            "similar:euclidean": "similar:euclidean";
            "starts-with": "starts-with";
            "tool-call-f1": "tool-call-f1";
            "trace-error-spans": "trace-error-spans";
            "trace-span-count": "trace-span-count";
            "trace-span-duration": "trace-span-duration";
            "search-rubric": "search-rubric";
            webhook: "webhook";
            "word-count": "word-count";
          }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
            "select-best": "select-best";
            human: "human";
            "max-score": "max-score";
          }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
          value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
          config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
          threshold: z.ZodOptional<z.ZodNumber>;
          weight: z.ZodOptional<z.ZodNumber>;
          provider: z.ZodOptional<z.ZodCustom<any, any>>;
          rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
            role: string;
            content: string;
          }[] | undefined, string | string[] | {
            role: string;
            content: string;
          }[] | undefined>>;
          metric: z.ZodOptional<z.ZodString>;
          transform: z.ZodOptional<z.ZodString>;
          contextTransform: z.ZodOptional<z.ZodString>;
        }, z.core.$strip>>>;
        weight: z.ZodOptional<z.ZodNumber>;
        metric: z.ZodOptional<z.ZodString>;
        threshold: z.ZodOptional<z.ZodNumber>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      }, z.core.$strip>, z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>]>>>>;
      assertScoringFunction: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>>;
      options: z.ZodOptional<z.ZodOptional<z.ZodObject<{
        disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
        disableConversationVar: z.ZodOptional<z.ZodBoolean>;
        runSerially: z.ZodOptional<z.ZodBoolean>;
        rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
          role: z.ZodString;
          content: z.ZodString;
        }, z.core.$strip>>]>>;
        provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
        factuality: z.ZodOptional<z.ZodObject<{
          subset: z.ZodOptional<z.ZodNumber>;
          superset: z.ZodOptional<z.ZodNumber>;
          agree: z.ZodOptional<z.ZodNumber>;
          disagree: z.ZodOptional<z.ZodNumber>;
          differButFactual: z.ZodOptional<z.ZodNumber>;
        }, z.core.$strip>>;
        postprocess: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        transformVars: z.ZodOptional<z.ZodString>;
        storeOutputAs: z.ZodOptional<z.ZodString>;
        prefix: z.ZodOptional<z.ZodString>;
        suffix: z.ZodOptional<z.ZodString>;
      }, z.core.$catchall<z.ZodAny>>>>;
      threshold: z.ZodOptional<z.ZodOptional<z.ZodNumber>>;
      metadata: z.ZodOptional<z.ZodOptional<z.ZodObject<{
        pluginConfig: z.ZodOptional<z.ZodCustom<{
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        }, {
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        }>>;
        strategyConfig: z.ZodOptional<z.ZodCustom<{
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        }, {
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        }>>;
      }, z.core.$catchall<z.ZodAny>>>>;
    }, z.core.$strip>>;
    tests: z.ZodArray<z.ZodObject<{
      description: z.ZodOptional<z.ZodString>;
      vars: z.ZodOptional<z.ZodCustom<Vars, Vars>>;
      provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
        id: z.ZodOptional<z.ZodCustom<string, string>>;
        label: z.ZodOptional<z.ZodCustom<string, string>>;
        config: z.ZodOptional<z.ZodAny>;
        prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
        transform: z.ZodOptional<z.ZodString>;
        delay: z.ZodOptional<z.ZodNumber>;
        env: z.ZodOptional<z.ZodObject<{
          AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AI21_API_KEY: z.ZodOptional<z.ZodString>;
          AIML_API_KEY: z.ZodOptional<z.ZodString>;
          ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
          ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
          AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
          AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_API_HOST: z.ZodOptional<z.ZodString>;
          AZURE_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
          AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
          AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
          AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
          AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
          AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
          CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
          CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
          CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
          CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
          COMETAPI_KEY: z.ZodOptional<z.ZodString>;
          COHERE_API_KEY: z.ZodOptional<z.ZodString>;
          COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
          DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
          DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
          DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
          DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
          ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
          FAL_KEY: z.ZodOptional<z.ZodString>;
          GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
          GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
          GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
          GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
          GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
          GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
          GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
          GROQ_API_KEY: z.ZodOptional<z.ZodString>;
          HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
          HF_API_TOKEN: z.ZodOptional<z.ZodString>;
          HF_TOKEN: z.ZodOptional<z.ZodString>;
          HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
          HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
          JFROG_API_KEY: z.ZodOptional<z.ZodString>;
          LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
          LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
          LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
          LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
          LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
          LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
          MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
          MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
          MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
          NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
          NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
          OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
          OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
          OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
          OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
          OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
          CODEX_API_KEY: z.ZodOptional<z.ZodString>;
          PALM_API_HOST: z.ZodOptional<z.ZodString>;
          PALM_API_KEY: z.ZodOptional<z.ZodString>;
          PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
          PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
          PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
          PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
          QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
          REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
          REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
          SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
          SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
          SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
          SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
          VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
          VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
          VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
          VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
          VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
          VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
          VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
          VERTEX_REGION: z.ZodOptional<z.ZodString>;
          VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
          VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
          WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
          WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
          WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
          WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
          XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
          XAI_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
          AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
          AWS_REGION: z.ZodOptional<z.ZodString>;
          AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
          AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
          PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
        }, z.core.$strip>>;
        inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
      }, z.core.$strip>, z.ZodObject<{
        id: z.ZodCustom<() => string, () => string>;
        callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
        callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
        callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
        label: z.ZodOptional<z.ZodCustom<string, string>>;
        transform: z.ZodOptional<z.ZodString>;
        delay: z.ZodOptional<z.ZodNumber>;
        config: z.ZodOptional<z.ZodAny>;
        inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
      }, z.core.$strip>]>>;
      providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
      assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
        type: z.ZodLiteral<"assert-set">;
        assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
          type: z.ZodUnion<readonly [z.ZodEnum<{
            "answer-relevance": "answer-relevance";
            bleu: "bleu";
            classifier: "classifier";
            contains: "contains";
            "contains-all": "contains-all";
            "contains-any": "contains-any";
            "contains-html": "contains-html";
            "contains-json": "contains-json";
            "contains-sql": "contains-sql";
            "contains-xml": "contains-xml";
            "context-faithfulness": "context-faithfulness";
            "context-recall": "context-recall";
            "context-relevance": "context-relevance";
            "conversation-relevance": "conversation-relevance";
            cost: "cost";
            equals: "equals";
            factuality: "factuality";
            "finish-reason": "finish-reason";
            "g-eval": "g-eval";
            gleu: "gleu";
            guardrails: "guardrails";
            icontains: "icontains";
            "icontains-all": "icontains-all";
            "icontains-any": "icontains-any";
            "is-html": "is-html";
            "is-json": "is-json";
            "is-refusal": "is-refusal";
            "is-sql": "is-sql";
            "is-valid-function-call": "is-valid-function-call";
            "is-valid-openai-function-call": "is-valid-openai-function-call";
            "is-valid-openai-tools-call": "is-valid-openai-tools-call";
            "is-xml": "is-xml";
            javascript: "javascript";
            latency: "latency";
            levenshtein: "levenshtein";
            "llm-rubric": "llm-rubric";
            pi: "pi";
            meteor: "meteor";
            "model-graded-closedqa": "model-graded-closedqa";
            "model-graded-factuality": "model-graded-factuality";
            moderation: "moderation";
            perplexity: "perplexity";
            "perplexity-score": "perplexity-score";
            python: "python";
            regex: "regex";
            "rouge-n": "rouge-n";
            ruby: "ruby";
            similar: "similar";
            "similar:cosine": "similar:cosine";
            "similar:dot": "similar:dot";
            "similar:euclidean": "similar:euclidean";
            "starts-with": "starts-with";
            "tool-call-f1": "tool-call-f1";
            "trace-error-spans": "trace-error-spans";
            "trace-span-count": "trace-span-count";
            "trace-span-duration": "trace-span-duration";
            "search-rubric": "search-rubric";
            webhook: "webhook";
            "word-count": "word-count";
          }>, z.ZodPipe<z.ZodEnum<{
            "answer-relevance": "answer-relevance";
            bleu: "bleu";
            classifier: "classifier";
            contains: "contains";
            "contains-all": "contains-all";
            "contains-any": "contains-any";
            "contains-html": "contains-html";
            "contains-json": "contains-json";
            "contains-sql": "contains-sql";
            "contains-xml": "contains-xml";
            "context-faithfulness": "context-faithfulness";
            "context-recall": "context-recall";
            "context-relevance": "context-relevance";
            "conversation-relevance": "conversation-relevance";
            cost: "cost";
            equals: "equals";
            factuality: "factuality";
            "finish-reason": "finish-reason";
            "g-eval": "g-eval";
            gleu: "gleu";
            guardrails: "guardrails";
            icontains: "icontains";
            "icontains-all": "icontains-all";
            "icontains-any": "icontains-any";
            "is-html": "is-html";
            "is-json": "is-json";
            "is-refusal": "is-refusal";
            "is-sql": "is-sql";
            "is-valid-function-call": "is-valid-function-call";
            "is-valid-openai-function-call": "is-valid-openai-function-call";
            "is-valid-openai-tools-call": "is-valid-openai-tools-call";
            "is-xml": "is-xml";
            javascript: "javascript";
            latency: "latency";
            levenshtein: "levenshtein";
            "llm-rubric": "llm-rubric";
            pi: "pi";
            meteor: "meteor";
            "model-graded-closedqa": "model-graded-closedqa";
            "model-graded-factuality": "model-graded-factuality";
            moderation: "moderation";
            perplexity: "perplexity";
            "perplexity-score": "perplexity-score";
            python: "python";
            regex: "regex";
            "rouge-n": "rouge-n";
            ruby: "ruby";
            similar: "similar";
            "similar:cosine": "similar:cosine";
            "similar:dot": "similar:dot";
            "similar:euclidean": "similar:euclidean";
            "starts-with": "starts-with";
            "tool-call-f1": "tool-call-f1";
            "trace-error-spans": "trace-error-spans";
            "trace-span-count": "trace-span-count";
            "trace-span-duration": "trace-span-duration";
            "search-rubric": "search-rubric";
            webhook: "webhook";
            "word-count": "word-count";
          }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
            "select-best": "select-best";
            human: "human";
            "max-score": "max-score";
          }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
          value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
          config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
          threshold: z.ZodOptional<z.ZodNumber>;
          weight: z.ZodOptional<z.ZodNumber>;
          provider: z.ZodOptional<z.ZodCustom<any, any>>;
          rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
            role: string;
            content: string;
          }[] | undefined, string | string[] | {
            role: string;
            content: string;
          }[] | undefined>>;
          metric: z.ZodOptional<z.ZodString>;
          transform: z.ZodOptional<z.ZodString>;
          contextTransform: z.ZodOptional<z.ZodString>;
        }, z.core.$strip>>>;
        weight: z.ZodOptional<z.ZodNumber>;
        metric: z.ZodOptional<z.ZodString>;
        threshold: z.ZodOptional<z.ZodNumber>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      }, z.core.$strip>, z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>]>>>;
      assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
      options: z.ZodOptional<z.ZodObject<{
        disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
        disableConversationVar: z.ZodOptional<z.ZodBoolean>;
        runSerially: z.ZodOptional<z.ZodBoolean>;
        rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
          role: z.ZodString;
          content: z.ZodString;
        }, z.core.$strip>>]>>;
        provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
        factuality: z.ZodOptional<z.ZodObject<{
          subset: z.ZodOptional<z.ZodNumber>;
          superset: z.ZodOptional<z.ZodNumber>;
          agree: z.ZodOptional<z.ZodNumber>;
          disagree: z.ZodOptional<z.ZodNumber>;
          differButFactual: z.ZodOptional<z.ZodNumber>;
        }, z.core.$strip>>;
        postprocess: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        transformVars: z.ZodOptional<z.ZodString>;
        storeOutputAs: z.ZodOptional<z.ZodString>;
        prefix: z.ZodOptional<z.ZodString>;
        suffix: z.ZodOptional<z.ZodString>;
      }, z.core.$catchall<z.ZodAny>>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      metadata: z.ZodOptional<z.ZodObject<{
        pluginConfig: z.ZodOptional<z.ZodCustom<{
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        }, {
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        }>>;
        strategyConfig: z.ZodOptional<z.ZodCustom<{
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        }, {
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        }>>;
      }, z.core.$catchall<z.ZodAny>>>;
    }, z.core.$strip>>;
  }, z.core.$strip>]>>>;
  defaultTest: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
    providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    vars: z.ZodOptional<z.ZodCustom<Vars, Vars>>;
    provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
      id: z.ZodOptional<z.ZodCustom<string, string>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      config: z.ZodOptional<z.ZodAny>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      env: z.ZodOptional<z.ZodObject<{
        AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AI21_API_KEY: z.ZodOptional<z.ZodString>;
        AIML_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
        AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
        AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
        AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
        AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
        CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
        COMETAPI_KEY: z.ZodOptional<z.ZodString>;
        COHERE_API_KEY: z.ZodOptional<z.ZodString>;
        COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
        DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
        DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
        ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
        FAL_KEY: z.ZodOptional<z.ZodString>;
        GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
        GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
        GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
        GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
        GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
        GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
        GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
        GROQ_API_KEY: z.ZodOptional<z.ZodString>;
        HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
        HF_API_TOKEN: z.ZodOptional<z.ZodString>;
        HF_TOKEN: z.ZodOptional<z.ZodString>;
        HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
        HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
        JFROG_API_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
        LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
        LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
        LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
        MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
        NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
        NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
        CODEX_API_KEY: z.ZodOptional<z.ZodString>;
        PALM_API_HOST: z.ZodOptional<z.ZodString>;
        PALM_API_KEY: z.ZodOptional<z.ZodString>;
        PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
        PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
        PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
        QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
        SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
        SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
        VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
        VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
        VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
        VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
        VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
        VERTEX_REGION: z.ZodOptional<z.ZodString>;
        VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
        WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
        WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
        XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        XAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
        AWS_REGION: z.ZodOptional<z.ZodString>;
        AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
        PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>, z.ZodObject<{
      id: z.ZodCustom<() => string, () => string>;
      callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
      callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
      callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodAny>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>]>>;
    providerOutput: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodRecord<z.ZodString, z.ZodUnknown>]>>;
    assert: z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodObject<{
      type: z.ZodLiteral<"assert-set">;
      assert: z.ZodArray<z.ZodLazy<z.ZodObject<{
        type: z.ZodUnion<readonly [z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodPipe<z.ZodEnum<{
          "answer-relevance": "answer-relevance";
          bleu: "bleu";
          classifier: "classifier";
          contains: "contains";
          "contains-all": "contains-all";
          "contains-any": "contains-any";
          "contains-html": "contains-html";
          "contains-json": "contains-json";
          "contains-sql": "contains-sql";
          "contains-xml": "contains-xml";
          "context-faithfulness": "context-faithfulness";
          "context-recall": "context-recall";
          "context-relevance": "context-relevance";
          "conversation-relevance": "conversation-relevance";
          cost: "cost";
          equals: "equals";
          factuality: "factuality";
          "finish-reason": "finish-reason";
          "g-eval": "g-eval";
          gleu: "gleu";
          guardrails: "guardrails";
          icontains: "icontains";
          "icontains-all": "icontains-all";
          "icontains-any": "icontains-any";
          "is-html": "is-html";
          "is-json": "is-json";
          "is-refusal": "is-refusal";
          "is-sql": "is-sql";
          "is-valid-function-call": "is-valid-function-call";
          "is-valid-openai-function-call": "is-valid-openai-function-call";
          "is-valid-openai-tools-call": "is-valid-openai-tools-call";
          "is-xml": "is-xml";
          javascript: "javascript";
          latency: "latency";
          levenshtein: "levenshtein";
          "llm-rubric": "llm-rubric";
          pi: "pi";
          meteor: "meteor";
          "model-graded-closedqa": "model-graded-closedqa";
          "model-graded-factuality": "model-graded-factuality";
          moderation: "moderation";
          perplexity: "perplexity";
          "perplexity-score": "perplexity-score";
          python: "python";
          regex: "regex";
          "rouge-n": "rouge-n";
          ruby: "ruby";
          similar: "similar";
          "similar:cosine": "similar:cosine";
          "similar:dot": "similar:dot";
          "similar:euclidean": "similar:euclidean";
          "starts-with": "starts-with";
          "tool-call-f1": "tool-call-f1";
          "trace-error-spans": "trace-error-spans";
          "trace-span-count": "trace-span-count";
          "trace-span-duration": "trace-span-duration";
          "search-rubric": "search-rubric";
          webhook: "webhook";
          "word-count": "word-count";
        }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
          "select-best": "select-best";
          human: "human";
          "max-score": "max-score";
        }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
        value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
        config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
        threshold: z.ZodOptional<z.ZodNumber>;
        weight: z.ZodOptional<z.ZodNumber>;
        provider: z.ZodOptional<z.ZodCustom<any, any>>;
        rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
          role: string;
          content: string;
        }[] | undefined, string | string[] | {
          role: string;
          content: string;
        }[] | undefined>>;
        metric: z.ZodOptional<z.ZodString>;
        transform: z.ZodOptional<z.ZodString>;
        contextTransform: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>>;
      weight: z.ZodOptional<z.ZodNumber>;
      metric: z.ZodOptional<z.ZodString>;
      threshold: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
    }, z.core.$strip>, z.ZodObject<{
      type: z.ZodUnion<readonly [z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodPipe<z.ZodEnum<{
        "answer-relevance": "answer-relevance";
        bleu: "bleu";
        classifier: "classifier";
        contains: "contains";
        "contains-all": "contains-all";
        "contains-any": "contains-any";
        "contains-html": "contains-html";
        "contains-json": "contains-json";
        "contains-sql": "contains-sql";
        "contains-xml": "contains-xml";
        "context-faithfulness": "context-faithfulness";
        "context-recall": "context-recall";
        "context-relevance": "context-relevance";
        "conversation-relevance": "conversation-relevance";
        cost: "cost";
        equals: "equals";
        factuality: "factuality";
        "finish-reason": "finish-reason";
        "g-eval": "g-eval";
        gleu: "gleu";
        guardrails: "guardrails";
        icontains: "icontains";
        "icontains-all": "icontains-all";
        "icontains-any": "icontains-any";
        "is-html": "is-html";
        "is-json": "is-json";
        "is-refusal": "is-refusal";
        "is-sql": "is-sql";
        "is-valid-function-call": "is-valid-function-call";
        "is-valid-openai-function-call": "is-valid-openai-function-call";
        "is-valid-openai-tools-call": "is-valid-openai-tools-call";
        "is-xml": "is-xml";
        javascript: "javascript";
        latency: "latency";
        levenshtein: "levenshtein";
        "llm-rubric": "llm-rubric";
        pi: "pi";
        meteor: "meteor";
        "model-graded-closedqa": "model-graded-closedqa";
        "model-graded-factuality": "model-graded-factuality";
        moderation: "moderation";
        perplexity: "perplexity";
        "perplexity-score": "perplexity-score";
        python: "python";
        regex: "regex";
        "rouge-n": "rouge-n";
        ruby: "ruby";
        similar: "similar";
        "similar:cosine": "similar:cosine";
        "similar:dot": "similar:dot";
        "similar:euclidean": "similar:euclidean";
        "starts-with": "starts-with";
        "tool-call-f1": "tool-call-f1";
        "trace-error-spans": "trace-error-spans";
        "trace-span-count": "trace-span-count";
        "trace-span-duration": "trace-span-duration";
        "search-rubric": "search-rubric";
        webhook: "webhook";
        "word-count": "word-count";
      }>, z.ZodTransform<"not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count", "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count">>, z.ZodEnum<{
        "select-best": "select-best";
        human: "human";
        "max-score": "max-score";
      }>, z.ZodCustom<`promptfoo:redteam:${string}`, `promptfoo:redteam:${string}`>]>;
      value: z.ZodOptional<z.ZodCustom<AssertionValue, AssertionValue>>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
      threshold: z.ZodOptional<z.ZodNumber>;
      weight: z.ZodOptional<z.ZodNumber>;
      provider: z.ZodOptional<z.ZodCustom<any, any>>;
      rubricPrompt: z.ZodOptional<z.ZodCustom<string | string[] | {
        role: string;
        content: string;
      }[] | undefined, string | string[] | {
        role: string;
        content: string;
      }[] | undefined>>;
      metric: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      contextTransform: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>]>>>;
    threshold: z.ZodOptional<z.ZodNumber>;
    assertScoringFunction: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<ScoringFunction, ScoringFunction>]>>;
    options: z.ZodOptional<z.ZodObject<{
      disableVarExpansion: z.ZodOptional<z.ZodBoolean>;
      disableConversationVar: z.ZodOptional<z.ZodBoolean>;
      runSerially: z.ZodOptional<z.ZodBoolean>;
      rubricPrompt: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>, z.ZodArray<z.ZodObject<{
        role: z.ZodString;
        content: z.ZodString;
      }, z.core.$strip>>]>>;
      provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodAny, z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodAny]>>>]>>;
      factuality: z.ZodOptional<z.ZodObject<{
        subset: z.ZodOptional<z.ZodNumber>;
        superset: z.ZodOptional<z.ZodNumber>;
        agree: z.ZodOptional<z.ZodNumber>;
        disagree: z.ZodOptional<z.ZodNumber>;
        differButFactual: z.ZodOptional<z.ZodNumber>;
      }, z.core.$strip>>;
      postprocess: z.ZodOptional<z.ZodString>;
      transform: z.ZodOptional<z.ZodString>;
      transformVars: z.ZodOptional<z.ZodString>;
      storeOutputAs: z.ZodOptional<z.ZodString>;
      prefix: z.ZodOptional<z.ZodString>;
      suffix: z.ZodOptional<z.ZodString>;
    }, z.core.$catchall<z.ZodAny>>>;
    metadata: z.ZodOptional<z.ZodObject<{
      pluginConfig: z.ZodOptional<z.ZodCustom<{
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }, {
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      }>>;
      strategyConfig: z.ZodOptional<z.ZodCustom<{
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }, {
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      }>>;
    }, z.core.$catchall<z.ZodAny>>>;
  }, z.core.$strip>]>>;
  outputPath: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>]>>;
  sharing: z.ZodOptional<z.ZodUnion<readonly [z.ZodBoolean, z.ZodObject<{
    apiBaseUrl: z.ZodOptional<z.ZodString>;
    appBaseUrl: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>]>>;
  nunjucksFilters: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  env: z.ZodOptional<z.ZodUnion<readonly [z.ZodObject<{
    AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AI21_API_KEY: z.ZodOptional<z.ZodString>;
    AIML_API_KEY: z.ZodOptional<z.ZodString>;
    ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
    ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
    AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
    AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_API_HOST: z.ZodOptional<z.ZodString>;
    AZURE_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
    AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
    AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
    AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
    AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
    AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
    CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
    CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
    CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
    CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
    COMETAPI_KEY: z.ZodOptional<z.ZodString>;
    COHERE_API_KEY: z.ZodOptional<z.ZodString>;
    COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
    DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
    DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
    DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
    DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
    ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
    FAL_KEY: z.ZodOptional<z.ZodString>;
    GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
    GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
    GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
    GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
    GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
    GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
    GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
    GROQ_API_KEY: z.ZodOptional<z.ZodString>;
    HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
    HF_API_TOKEN: z.ZodOptional<z.ZodString>;
    HF_TOKEN: z.ZodOptional<z.ZodString>;
    HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
    HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
    JFROG_API_KEY: z.ZodOptional<z.ZodString>;
    LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
    LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
    LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
    LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
    LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
    LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
    MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
    MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
    MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
    NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
    NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
    OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
    OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
    OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
    OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
    OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
    CODEX_API_KEY: z.ZodOptional<z.ZodString>;
    PALM_API_HOST: z.ZodOptional<z.ZodString>;
    PALM_API_KEY: z.ZodOptional<z.ZodString>;
    PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
    PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
    PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
    PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
    QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
    REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
    REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
    SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
    SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
    SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
    SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
    VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
    VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
    VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
    VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
    VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
    VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
    VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
    VERTEX_REGION: z.ZodOptional<z.ZodString>;
    VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
    VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
    WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
    WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
    WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
    WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
    XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
    XAI_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
    AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
    AWS_REGION: z.ZodOptional<z.ZodString>;
    AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
    AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
    PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
  }, z.core.$strip>, z.ZodRecord<z.ZodString, z.ZodUnion<readonly [z.ZodString, z.ZodPipe<z.ZodNumber, z.ZodTransform<string, number>>, z.ZodPipe<z.ZodBoolean, z.ZodTransform<string, boolean>>]>>]>>;
  derivedMetrics: z.ZodOptional<z.ZodArray<z.ZodObject<{
    name: z.ZodString;
    value: z.ZodUnion<readonly [z.ZodString, z.ZodFunction<z.ZodTuple<readonly [z.ZodRecord<z.ZodString, z.ZodNumber>, z.ZodCustom<RunEvalOptions, RunEvalOptions>], null>, z.ZodNumber>]>;
  }, z.core.$strip>>>;
  extensions: z.ZodOptional<z.ZodNullable<z.ZodArray<z.ZodString>>>;
  metadata: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodAny>>;
  redteam: z.ZodOptional<z.ZodPipe<z.ZodObject<{
    injectVar: z.ZodOptional<z.ZodString>;
    purpose: z.ZodOptional<z.ZodString>;
    testGenerationInstructions: z.ZodOptional<z.ZodString>;
    provider: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodObject<{
      id: z.ZodCustom<() => string, () => string>;
      callApi: z.ZodCustom<CallApiFunction, CallApiFunction>;
      callEmbeddingApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderEmbeddingResponse>, (prompt: string) => Promise<ProviderEmbeddingResponse>>>;
      callClassificationApi: z.ZodOptional<z.ZodCustom<(prompt: string) => Promise<ProviderClassificationResponse>, (prompt: string) => Promise<ProviderClassificationResponse>>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      config: z.ZodOptional<z.ZodAny>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>, z.ZodObject<{
      id: z.ZodOptional<z.ZodCustom<string, string>>;
      label: z.ZodOptional<z.ZodCustom<string, string>>;
      config: z.ZodOptional<z.ZodAny>;
      prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
      transform: z.ZodOptional<z.ZodString>;
      delay: z.ZodOptional<z.ZodNumber>;
      env: z.ZodOptional<z.ZodObject<{
        AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AI21_API_KEY: z.ZodOptional<z.ZodString>;
        AIML_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
        ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
        AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
        AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
        AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
        AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
        AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
        AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
        CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
        CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
        CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
        COMETAPI_KEY: z.ZodOptional<z.ZodString>;
        COHERE_API_KEY: z.ZodOptional<z.ZodString>;
        COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
        DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
        DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
        DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
        ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
        FAL_KEY: z.ZodOptional<z.ZodString>;
        GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
        GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
        GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
        GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
        GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
        GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
        GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
        GROQ_API_KEY: z.ZodOptional<z.ZodString>;
        HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
        HF_API_TOKEN: z.ZodOptional<z.ZodString>;
        HF_TOKEN: z.ZodOptional<z.ZodString>;
        HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
        HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
        JFROG_API_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
        LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
        LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
        LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
        LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
        MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
        MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
        NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
        NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
        OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
        OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
        OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
        OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
        CODEX_API_KEY: z.ZodOptional<z.ZodString>;
        PALM_API_HOST: z.ZodOptional<z.ZodString>;
        PALM_API_KEY: z.ZodOptional<z.ZodString>;
        PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
        PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
        PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
        PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
        QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
        REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
        SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
        SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
        SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
        VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
        VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
        VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
        VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
        VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
        VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
        VERTEX_REGION: z.ZodOptional<z.ZodString>;
        VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
        VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
        WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
        WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
        WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
        XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
        XAI_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
        AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
        AWS_REGION: z.ZodOptional<z.ZodString>;
        AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
        AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
        PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
      }, z.core.$strip>>;
      inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>]>>;
    numTests: z.ZodOptional<z.ZodInt>;
    language: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>]>>;
    frameworks: z.ZodOptional<z.ZodArray<z.ZodEnum<{
      "mitre:atlas": "mitre:atlas";
      "nist:ai:measure": "nist:ai:measure";
      "owasp:api": "owasp:api";
      "owasp:llm": "owasp:llm";
      "owasp:agentic": "owasp:agentic";
      "eu:ai-act": "eu:ai-act";
      "iso:42001": "iso:42001";
      gdpr: "gdpr";
    }>>>;
    entities: z.ZodOptional<z.ZodArray<z.ZodString>>;
    contexts: z.ZodOptional<z.ZodArray<z.ZodObject<{
      id: z.ZodString;
      purpose: z.ZodString;
      vars: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>>>;
    plugins: z.ZodPrefault<z.ZodArray<z.ZodUnion<readonly [z.ZodUnion<readonly [z.ZodEnum<{
      [x: string]: string;
    }>, z.ZodString]>, z.ZodObject<{
      id: z.ZodUnion<readonly [z.ZodEnum<{
        [x: string]: string;
      }>, z.ZodString]>;
      numTests: z.ZodPrefault<z.ZodInt>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;
      severity: z.ZodOptional<z.ZodEnum<{
        critical: "critical";
        high: "high";
        medium: "medium";
        low: "low";
        informational: "informational";
      }>>;
    }, z.core.$strip>]>>>;
    strategies: z.ZodPrefault<z.ZodOptional<z.ZodArray<z.ZodUnion<readonly [z.ZodUnion<readonly [z.ZodEnum<{
      [x: string]: string;
    }>, z.ZodString, z.ZodString]>, z.ZodObject<{
      id: z.ZodUnion<readonly [z.ZodEnum<{
        [x: string]: string;
      }>, z.ZodString, z.ZodString]>;
      config: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodUnknown>>;
    }, z.core.$strip>]>>>>;
    maxConcurrency: z.ZodOptional<z.ZodInt>;
    delay: z.ZodOptional<z.ZodInt>;
    excludeTargetOutputFromAgenticAttackGeneration: z.ZodOptional<z.ZodBoolean>;
    tracing: z.ZodOptional<z.ZodType<TracingConfig, unknown, z.core.$ZodTypeInternals<TracingConfig, unknown>>>;
  }, z.core.$strip>, z.ZodTransform<RedteamFileConfig, {
    plugins: (string | {
      id: string;
      numTests: number;
      config?: Record<string, unknown> | undefined;
      severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
    })[];
    strategies: (string | {
      id: string;
      config?: Record<string, unknown> | undefined;
    })[];
    injectVar?: string | undefined;
    purpose?: string | undefined;
    testGenerationInstructions?: string | undefined;
    provider?: string | {
      id?: string | undefined;
      label?: string | undefined;
      config?: any;
      prompts?: string[] | undefined;
      transform?: string | undefined;
      delay?: number | undefined;
      env?: {
        AI21_API_BASE_URL?: string | undefined;
        AI21_API_KEY?: string | undefined;
        AIML_API_KEY?: string | undefined;
        ANTHROPIC_API_KEY?: string | undefined;
        ANTHROPIC_BASE_URL?: string | undefined;
        AWS_BEDROCK_REGION?: string | undefined;
        AZURE_API_BASE_URL?: string | undefined;
        AZURE_API_HOST?: string | undefined;
        AZURE_API_KEY?: string | undefined;
        AZURE_AUTHORITY_HOST?: string | undefined;
        AZURE_CLIENT_ID?: string | undefined;
        AZURE_CLIENT_SECRET?: string | undefined;
        AZURE_DEPLOYMENT_NAME?: string | undefined;
        AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
        AZURE_OPENAI_API_BASE_URL?: string | undefined;
        AZURE_OPENAI_API_HOST?: string | undefined;
        AZURE_OPENAI_API_KEY?: string | undefined;
        AZURE_OPENAI_BASE_URL?: string | undefined;
        AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
        AZURE_TENANT_ID?: string | undefined;
        AZURE_TOKEN_SCOPE?: string | undefined;
        CLAUDE_CODE_USE_BEDROCK?: string | undefined;
        CLAUDE_CODE_USE_VERTEX?: string | undefined;
        CLOUDFLARE_ACCOUNT_ID?: string | undefined;
        CLOUDFLARE_API_KEY?: string | undefined;
        CLOUDFLARE_GATEWAY_ID?: string | undefined;
        CF_AIG_TOKEN?: string | undefined;
        COMETAPI_KEY?: string | undefined;
        COHERE_API_KEY?: string | undefined;
        COHERE_CLIENT_NAME?: string | undefined;
        DATABRICKS_TOKEN?: string | undefined;
        DATABRICKS_WORKSPACE_URL?: string | undefined;
        DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
        DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
        ELEVENLABS_API_KEY?: string | undefined;
        FAL_KEY?: string | undefined;
        GITHUB_TOKEN?: string | undefined;
        GOOGLE_API_HOST?: string | undefined;
        GOOGLE_API_BASE_URL?: string | undefined;
        GOOGLE_API_KEY?: string | undefined;
        GOOGLE_PROJECT_ID?: string | undefined;
        GOOGLE_LOCATION?: string | undefined;
        GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
        GEMINI_API_KEY?: string | undefined;
        GROQ_API_KEY?: string | undefined;
        HELICONE_API_KEY?: string | undefined;
        HF_API_TOKEN?: string | undefined;
        HF_TOKEN?: string | undefined;
        HYPERBOLIC_API_KEY?: string | undefined;
        HUGGING_FACE_HUB_TOKEN?: string | undefined;
        JFROG_API_KEY?: string | undefined;
        LANGFUSE_HOST?: string | undefined;
        LANGFUSE_PUBLIC_KEY?: string | undefined;
        LANGFUSE_SECRET_KEY?: string | undefined;
        LITELLM_API_BASE?: string | undefined;
        LLAMA_BASE_URL?: string | undefined;
        LOCALAI_BASE_URL?: string | undefined;
        MISTRAL_API_BASE_URL?: string | undefined;
        MISTRAL_API_HOST?: string | undefined;
        MISTRAL_API_KEY?: string | undefined;
        NSCALE_SERVICE_TOKEN?: string | undefined;
        NSCALE_API_KEY?: string | undefined;
        OLLAMA_API_KEY?: string | undefined;
        OLLAMA_BASE_URL?: string | undefined;
        OPENAI_API_BASE_URL?: string | undefined;
        OPENAI_API_HOST?: string | undefined;
        OPENAI_API_KEY?: string | undefined;
        OPENAI_BASE_URL?: string | undefined;
        OPENAI_ORGANIZATION?: string | undefined;
        CODEX_API_KEY?: string | undefined;
        PALM_API_HOST?: string | undefined;
        PALM_API_KEY?: string | undefined;
        PORTKEY_API_KEY?: string | undefined;
        PROMPTFOO_CA_CERT_PATH?: string | undefined;
        PROMPTFOO_PFX_CERT_PATH?: string | undefined;
        PROMPTFOO_PFX_PASSWORD?: string | undefined;
        PROMPTFOO_JKS_CERT_PATH?: string | undefined;
        PROMPTFOO_JKS_PASSWORD?: string | undefined;
        PROMPTFOO_JKS_ALIAS?: string | undefined;
        PROMPTFOO_INSECURE_SSL?: string | undefined;
        QUIVERAI_API_KEY?: string | undefined;
        REPLICATE_API_KEY?: string | undefined;
        REPLICATE_API_TOKEN?: string | undefined;
        SHAREPOINT_BASE_URL?: string | undefined;
        SHAREPOINT_CERT_PATH?: string | undefined;
        SHAREPOINT_CLIENT_ID?: string | undefined;
        SHAREPOINT_TENANT_ID?: string | undefined;
        VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
        VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
        VERTEX_API_HOST?: string | undefined;
        VERTEX_API_KEY?: string | undefined;
        VERTEX_API_VERSION?: string | undefined;
        VERTEX_PROJECT_ID?: string | undefined;
        VERTEX_PUBLISHER?: string | undefined;
        VERTEX_REGION?: string | undefined;
        VOYAGE_API_BASE_URL?: string | undefined;
        VOYAGE_API_KEY?: string | undefined;
        WATSONX_AI_APIKEY?: string | undefined;
        WATSONX_AI_AUTH_TYPE?: string | undefined;
        WATSONX_AI_BEARER_TOKEN?: string | undefined;
        WATSONX_AI_PROJECT_ID?: string | undefined;
        XAI_API_BASE_URL?: string | undefined;
        XAI_API_KEY?: string | undefined;
        AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
        AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
        AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
        AWS_REGION?: string | undefined;
        AWS_DEFAULT_REGION?: string | undefined;
        AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
        AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
        AWS_SAGEMAKER_TOP_P?: string | undefined;
        AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
        PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
      } | undefined;
      inputs?: Record<string, string> | undefined;
    } | {
      id: () => string;
      callApi: CallApiFunction;
      callEmbeddingApi?: ((prompt: string) => Promise<ProviderEmbeddingResponse>) | undefined;
      callClassificationApi?: ((prompt: string) => Promise<ProviderClassificationResponse>) | undefined;
      label?: string | undefined;
      transform?: string | undefined;
      delay?: number | undefined;
      config?: any;
      inputs?: Record<string, string> | undefined;
    } | undefined;
    numTests?: number | undefined;
    language?: string | string[] | undefined;
    frameworks?: ("mitre:atlas" | "nist:ai:measure" | "owasp:api" | "owasp:llm" | "owasp:agentic" | "eu:ai-act" | "iso:42001" | "gdpr")[] | undefined;
    entities?: string[] | undefined;
    contexts?: {
      id: string;
      purpose: string;
      vars?: Record<string, string> | undefined;
    }[] | undefined;
    maxConcurrency?: number | undefined;
    delay?: number | undefined;
    excludeTargetOutputFromAgenticAttackGeneration?: boolean | undefined;
    tracing?: TracingConfig | undefined;
  }>>>;
  writeLatestResults: z.ZodOptional<z.ZodBoolean>;
  tracing: z.ZodOptional<z.ZodObject<{
    enabled: z.ZodPrefault<z.ZodBoolean>;
    otlp: z.ZodOptional<z.ZodObject<{
      http: z.ZodOptional<z.ZodObject<{
        enabled: z.ZodPrefault<z.ZodBoolean>;
        port: z.ZodPrefault<z.ZodNumber>;
        host: z.ZodPrefault<z.ZodString>;
        acceptFormats: z.ZodPrefault<z.ZodArray<z.ZodEnum<{
          json: "json";
          protobuf: "protobuf";
        }>>>;
      }, z.core.$strip>>;
      grpc: z.ZodOptional<z.ZodObject<{
        enabled: z.ZodPrefault<z.ZodBoolean>;
        port: z.ZodPrefault<z.ZodNumber>;
      }, z.core.$strip>>;
    }, z.core.$strip>>;
    storage: z.ZodOptional<z.ZodObject<{
      type: z.ZodPrefault<z.ZodEnum<{
        sqlite: "sqlite";
      }>>;
      retentionDays: z.ZodPrefault<z.ZodNumber>;
    }, z.core.$strip>>;
    forwarding: z.ZodOptional<z.ZodObject<{
      enabled: z.ZodPrefault<z.ZodBoolean>;
      endpoint: z.ZodString;
      headers: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
    }, z.core.$strip>>;
  }, z.core.$strip>>;
  evaluateOptions: z.ZodOptional<z.ZodObject<{
    cache: z.ZodOptional<z.ZodBoolean>;
    delay: z.ZodOptional<z.ZodNumber>;
    eventSource: z.ZodOptional<z.ZodString>;
    generateSuggestions: z.ZodOptional<z.ZodBoolean>;
    interactiveProviders: z.ZodOptional<z.ZodBoolean>;
    maxConcurrency: z.ZodOptional<z.ZodNumber>;
    progressCallback: z.ZodOptional<z.ZodCustom<(completed: number, total: number, index: number, evalStep: RunEvalOptions, metrics: PromptMetrics) => void, (completed: number, total: number, index: number, evalStep: RunEvalOptions, metrics: PromptMetrics) => void>>;
    repeat: z.ZodOptional<z.ZodNumber>;
    showProgressBar: z.ZodOptional<z.ZodBoolean>;
    timeoutMs: z.ZodOptional<z.ZodNumber>;
    maxEvalTimeMs: z.ZodOptional<z.ZodNumber>;
    isRedteam: z.ZodOptional<z.ZodBoolean>;
    silent: z.ZodOptional<z.ZodBoolean>;
  }, z.core.$strip>>;
  commandLineOptions: z.ZodOptional<z.ZodObject<{
    description: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    prompts: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodString>>>;
    providers: z.ZodOptional<z.ZodArray<z.ZodString>>;
    output: z.ZodOptional<z.ZodArray<z.ZodString>>;
    maxConcurrency: z.ZodOptional<z.ZodOptional<z.ZodCoercedNumber<unknown>>>;
    repeat: z.ZodOptional<z.ZodOptional<z.ZodCoercedNumber<unknown>>>;
    delay: z.ZodOptional<z.ZodPrefault<z.ZodCoercedNumber<unknown>>>;
    vars: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    tests: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    config: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodString>>>;
    assertions: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    modelOutputs: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    verbose: z.ZodOptional<z.ZodOptional<z.ZodBoolean>>;
    grader: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    tableCellMaxLength: z.ZodOptional<z.ZodOptional<z.ZodCoercedNumber<unknown>>>;
    write: z.ZodOptional<z.ZodOptional<z.ZodBoolean>>;
    cache: z.ZodOptional<z.ZodOptional<z.ZodBoolean>>;
    table: z.ZodOptional<z.ZodOptional<z.ZodBoolean>>;
    share: z.ZodOptional<z.ZodOptional<z.ZodBoolean>>;
    noShare: z.ZodOptional<z.ZodOptional<z.ZodBoolean>>;
    progressBar: z.ZodOptional<z.ZodOptional<z.ZodBoolean>>;
    watch: z.ZodOptional<z.ZodOptional<z.ZodBoolean>>;
    filterErrorsOnly: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    filterFailing: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    filterFailingOnly: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    filterFirstN: z.ZodOptional<z.ZodOptional<z.ZodCoercedNumber<unknown>>>;
    filterMetadata: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>]>>>;
    filterPattern: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    filterProviders: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    filterSample: z.ZodOptional<z.ZodOptional<z.ZodCoercedNumber<unknown>>>;
    filterTargets: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    var: z.ZodOptional<z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>>;
    generateSuggestions: z.ZodOptional<z.ZodOptional<z.ZodBoolean>>;
    promptPrefix: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    promptSuffix: z.ZodOptional<z.ZodOptional<z.ZodString>>;
    retryErrors: z.ZodOptional<z.ZodOptional<z.ZodBoolean>>;
    envPath: z.ZodOptional<z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodArray<z.ZodString>]>>>;
    extension: z.ZodOptional<z.ZodOptional<z.ZodArray<z.ZodString>>>;
  }, z.core.$strip>>;
  providers: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<CallApiFunction & {
    label?: string;
  }, CallApiFunction & {
    label?: string;
  }>, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<CallApiFunction & {
    label?: string;
  }, CallApiFunction & {
    label?: string;
  }>, z.ZodRecord<z.ZodString, z.ZodObject<{
    id: z.ZodOptional<z.ZodCustom<string, string>>;
    label: z.ZodOptional<z.ZodCustom<string, string>>;
    config: z.ZodOptional<z.ZodAny>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    transform: z.ZodOptional<z.ZodString>;
    delay: z.ZodOptional<z.ZodNumber>;
    env: z.ZodOptional<z.ZodObject<{
      AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AI21_API_KEY: z.ZodOptional<z.ZodString>;
      AIML_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
      AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
      AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
      AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
      AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
      CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
      COMETAPI_KEY: z.ZodOptional<z.ZodString>;
      COHERE_API_KEY: z.ZodOptional<z.ZodString>;
      COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
      DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
      DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
      ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
      FAL_KEY: z.ZodOptional<z.ZodString>;
      GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
      GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
      GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
      GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
      GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
      GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
      GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
      GROQ_API_KEY: z.ZodOptional<z.ZodString>;
      HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
      HF_API_TOKEN: z.ZodOptional<z.ZodString>;
      HF_TOKEN: z.ZodOptional<z.ZodString>;
      HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
      HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
      JFROG_API_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
      LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
      LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
      LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
      MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
      NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
      NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
      CODEX_API_KEY: z.ZodOptional<z.ZodString>;
      PALM_API_HOST: z.ZodOptional<z.ZodString>;
      PALM_API_KEY: z.ZodOptional<z.ZodString>;
      PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
      PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
      PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
      QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
      SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
      SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
      VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
      VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
      VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
      VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
      VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
      VERTEX_REGION: z.ZodOptional<z.ZodString>;
      VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
      WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
      WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
      XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      XAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
      AWS_REGION: z.ZodOptional<z.ZodString>;
      AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
      PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>>;
    inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  }, z.core.$strip>>, z.ZodObject<{
    id: z.ZodOptional<z.ZodCustom<string, string>>;
    label: z.ZodOptional<z.ZodCustom<string, string>>;
    config: z.ZodOptional<z.ZodAny>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    transform: z.ZodOptional<z.ZodString>;
    delay: z.ZodOptional<z.ZodNumber>;
    env: z.ZodOptional<z.ZodObject<{
      AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AI21_API_KEY: z.ZodOptional<z.ZodString>;
      AIML_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
      AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
      AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
      AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
      AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
      CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
      COMETAPI_KEY: z.ZodOptional<z.ZodString>;
      COHERE_API_KEY: z.ZodOptional<z.ZodString>;
      COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
      DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
      DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
      ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
      FAL_KEY: z.ZodOptional<z.ZodString>;
      GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
      GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
      GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
      GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
      GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
      GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
      GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
      GROQ_API_KEY: z.ZodOptional<z.ZodString>;
      HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
      HF_API_TOKEN: z.ZodOptional<z.ZodString>;
      HF_TOKEN: z.ZodOptional<z.ZodString>;
      HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
      HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
      JFROG_API_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
      LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
      LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
      LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
      MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
      NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
      NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
      CODEX_API_KEY: z.ZodOptional<z.ZodString>;
      PALM_API_HOST: z.ZodOptional<z.ZodString>;
      PALM_API_KEY: z.ZodOptional<z.ZodString>;
      PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
      PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
      PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
      QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
      SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
      SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
      VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
      VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
      VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
      VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
      VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
      VERTEX_REGION: z.ZodOptional<z.ZodString>;
      VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
      WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
      WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
      XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      XAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
      AWS_REGION: z.ZodOptional<z.ZodString>;
      AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
      PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>>;
    inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  }, z.core.$strip>]>>]>>;
  targets: z.ZodOptional<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<CallApiFunction & {
    label?: string;
  }, CallApiFunction & {
    label?: string;
  }>, z.ZodArray<z.ZodUnion<readonly [z.ZodString, z.ZodCustom<CallApiFunction & {
    label?: string;
  }, CallApiFunction & {
    label?: string;
  }>, z.ZodRecord<z.ZodString, z.ZodObject<{
    id: z.ZodOptional<z.ZodCustom<string, string>>;
    label: z.ZodOptional<z.ZodCustom<string, string>>;
    config: z.ZodOptional<z.ZodAny>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    transform: z.ZodOptional<z.ZodString>;
    delay: z.ZodOptional<z.ZodNumber>;
    env: z.ZodOptional<z.ZodObject<{
      AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AI21_API_KEY: z.ZodOptional<z.ZodString>;
      AIML_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
      AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
      AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
      AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
      AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
      CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
      COMETAPI_KEY: z.ZodOptional<z.ZodString>;
      COHERE_API_KEY: z.ZodOptional<z.ZodString>;
      COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
      DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
      DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
      ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
      FAL_KEY: z.ZodOptional<z.ZodString>;
      GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
      GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
      GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
      GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
      GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
      GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
      GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
      GROQ_API_KEY: z.ZodOptional<z.ZodString>;
      HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
      HF_API_TOKEN: z.ZodOptional<z.ZodString>;
      HF_TOKEN: z.ZodOptional<z.ZodString>;
      HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
      HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
      JFROG_API_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
      LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
      LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
      LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
      MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
      NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
      NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
      CODEX_API_KEY: z.ZodOptional<z.ZodString>;
      PALM_API_HOST: z.ZodOptional<z.ZodString>;
      PALM_API_KEY: z.ZodOptional<z.ZodString>;
      PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
      PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
      PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
      QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
      SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
      SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
      VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
      VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
      VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
      VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
      VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
      VERTEX_REGION: z.ZodOptional<z.ZodString>;
      VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
      WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
      WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
      XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      XAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
      AWS_REGION: z.ZodOptional<z.ZodString>;
      AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
      PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>>;
    inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  }, z.core.$strip>>, z.ZodObject<{
    id: z.ZodOptional<z.ZodCustom<string, string>>;
    label: z.ZodOptional<z.ZodCustom<string, string>>;
    config: z.ZodOptional<z.ZodAny>;
    prompts: z.ZodOptional<z.ZodArray<z.ZodString>>;
    transform: z.ZodOptional<z.ZodString>;
    delay: z.ZodOptional<z.ZodNumber>;
    env: z.ZodOptional<z.ZodObject<{
      AI21_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AI21_API_KEY: z.ZodOptional<z.ZodString>;
      AIML_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_API_KEY: z.ZodOptional<z.ZodString>;
      ANTHROPIC_BASE_URL: z.ZodOptional<z.ZodString>;
      AWS_BEDROCK_REGION: z.ZodOptional<z.ZodString>;
      AZURE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_AUTHORITY_HOST: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_ID: z.ZodOptional<z.ZodString>;
      AZURE_CLIENT_SECRET: z.ZodOptional<z.ZodString>;
      AZURE_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME: z.ZodOptional<z.ZodString>;
      AZURE_TENANT_ID: z.ZodOptional<z.ZodString>;
      AZURE_TOKEN_SCOPE: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_BEDROCK: z.ZodOptional<z.ZodString>;
      CLAUDE_CODE_USE_VERTEX: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_ACCOUNT_ID: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_API_KEY: z.ZodOptional<z.ZodString>;
      CLOUDFLARE_GATEWAY_ID: z.ZodOptional<z.ZodString>;
      CF_AIG_TOKEN: z.ZodOptional<z.ZodString>;
      COMETAPI_KEY: z.ZodOptional<z.ZodString>;
      COHERE_API_KEY: z.ZodOptional<z.ZodString>;
      COHERE_CLIENT_NAME: z.ZodOptional<z.ZodString>;
      DATABRICKS_TOKEN: z.ZodOptional<z.ZodString>;
      DATABRICKS_WORKSPACE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_BASE_URL: z.ZodOptional<z.ZodString>;
      DOCKER_MODEL_RUNNER_API_KEY: z.ZodOptional<z.ZodString>;
      ELEVENLABS_API_KEY: z.ZodOptional<z.ZodString>;
      FAL_KEY: z.ZodOptional<z.ZodString>;
      GITHUB_TOKEN: z.ZodOptional<z.ZodString>;
      GOOGLE_API_HOST: z.ZodOptional<z.ZodString>;
      GOOGLE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      GOOGLE_API_KEY: z.ZodOptional<z.ZodString>;
      GOOGLE_PROJECT_ID: z.ZodOptional<z.ZodString>;
      GOOGLE_LOCATION: z.ZodOptional<z.ZodString>;
      GOOGLE_GENERATIVE_AI_API_KEY: z.ZodOptional<z.ZodString>;
      GEMINI_API_KEY: z.ZodOptional<z.ZodString>;
      GROQ_API_KEY: z.ZodOptional<z.ZodString>;
      HELICONE_API_KEY: z.ZodOptional<z.ZodString>;
      HF_API_TOKEN: z.ZodOptional<z.ZodString>;
      HF_TOKEN: z.ZodOptional<z.ZodString>;
      HYPERBOLIC_API_KEY: z.ZodOptional<z.ZodString>;
      HUGGING_FACE_HUB_TOKEN: z.ZodOptional<z.ZodString>;
      JFROG_API_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_HOST: z.ZodOptional<z.ZodString>;
      LANGFUSE_PUBLIC_KEY: z.ZodOptional<z.ZodString>;
      LANGFUSE_SECRET_KEY: z.ZodOptional<z.ZodString>;
      LITELLM_API_BASE: z.ZodOptional<z.ZodString>;
      LLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      LOCALAI_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_BASE_URL: z.ZodOptional<z.ZodString>;
      MISTRAL_API_HOST: z.ZodOptional<z.ZodString>;
      MISTRAL_API_KEY: z.ZodOptional<z.ZodString>;
      NSCALE_SERVICE_TOKEN: z.ZodOptional<z.ZodString>;
      NSCALE_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_API_KEY: z.ZodOptional<z.ZodString>;
      OLLAMA_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_API_HOST: z.ZodOptional<z.ZodString>;
      OPENAI_API_KEY: z.ZodOptional<z.ZodString>;
      OPENAI_BASE_URL: z.ZodOptional<z.ZodString>;
      OPENAI_ORGANIZATION: z.ZodOptional<z.ZodString>;
      CODEX_API_KEY: z.ZodOptional<z.ZodString>;
      PALM_API_HOST: z.ZodOptional<z.ZodString>;
      PALM_API_KEY: z.ZodOptional<z.ZodString>;
      PORTKEY_API_KEY: z.ZodOptional<z.ZodString>;
      PROMPTFOO_CA_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_PFX_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_CERT_PATH: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_PASSWORD: z.ZodOptional<z.ZodString>;
      PROMPTFOO_JKS_ALIAS: z.ZodOptional<z.ZodString>;
      PROMPTFOO_INSECURE_SSL: z.ZodOptional<z.ZodString>;
      QUIVERAI_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_KEY: z.ZodOptional<z.ZodString>;
      REPLICATE_API_TOKEN: z.ZodOptional<z.ZodString>;
      SHAREPOINT_BASE_URL: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CERT_PATH: z.ZodOptional<z.ZodString>;
      SHAREPOINT_CLIENT_ID: z.ZodOptional<z.ZodString>;
      SHAREPOINT_TENANT_ID: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_API_KEY: z.ZodOptional<z.ZodString>;
      VERCEL_AI_GATEWAY_BASE_URL: z.ZodOptional<z.ZodString>;
      VERTEX_API_HOST: z.ZodOptional<z.ZodString>;
      VERTEX_API_KEY: z.ZodOptional<z.ZodString>;
      VERTEX_API_VERSION: z.ZodOptional<z.ZodString>;
      VERTEX_PROJECT_ID: z.ZodOptional<z.ZodString>;
      VERTEX_PUBLISHER: z.ZodOptional<z.ZodString>;
      VERTEX_REGION: z.ZodOptional<z.ZodString>;
      VOYAGE_API_BASE_URL: z.ZodOptional<z.ZodString>;
      VOYAGE_API_KEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_APIKEY: z.ZodOptional<z.ZodString>;
      WATSONX_AI_AUTH_TYPE: z.ZodOptional<z.ZodString>;
      WATSONX_AI_BEARER_TOKEN: z.ZodOptional<z.ZodString>;
      WATSONX_AI_PROJECT_ID: z.ZodOptional<z.ZodString>;
      XAI_API_BASE_URL: z.ZodOptional<z.ZodString>;
      XAI_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_ENDPOINT: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_KEY: z.ZodOptional<z.ZodString>;
      AZURE_CONTENT_SAFETY_API_VERSION: z.ZodOptional<z.ZodString>;
      AWS_REGION: z.ZodOptional<z.ZodString>;
      AWS_DEFAULT_REGION: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_TOKENS: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TEMPERATURE: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_TOP_P: z.ZodOptional<z.ZodString>;
      AWS_SAGEMAKER_MAX_RETRIES: z.ZodOptional<z.ZodString>;
      PROMPTFOO_EVAL_TIMEOUT_MS: z.ZodOptional<z.ZodString>;
    }, z.core.$strip>>;
    inputs: z.ZodOptional<z.ZodRecord<z.ZodString, z.ZodString>>;
  }, z.core.$strip>]>>]>>;
}, z.core.$strip>, z.ZodTransform<{
  prompts: string | Record<string, string> | (string | {
    id: string;
    label?: string | undefined;
    raw?: string | undefined;
  } | {
    raw: string;
    label: string;
    id?: string | undefined;
    display?: string | undefined;
    function?: PromptFunction | undefined;
    config?: any;
  })[];
  tags?: Record<string, string> | undefined;
  description?: string | undefined;
  tests?: string | {
    path: string;
    config?: Record<string, any> | undefined;
  } | (string | {
    path: string;
    config?: Record<string, any> | undefined;
  } | {
    description?: string | undefined;
    vars?: Vars | undefined;
    provider?: string | {
      id?: string | undefined;
      label?: string | undefined;
      config?: any;
      prompts?: string[] | undefined;
      transform?: string | undefined;
      delay?: number | undefined;
      env?: {
        AI21_API_BASE_URL?: string | undefined;
        AI21_API_KEY?: string | undefined;
        AIML_API_KEY?: string | undefined;
        ANTHROPIC_API_KEY?: string | undefined;
        ANTHROPIC_BASE_URL?: string | undefined;
        AWS_BEDROCK_REGION?: string | undefined;
        AZURE_API_BASE_URL?: string | undefined;
        AZURE_API_HOST?: string | undefined;
        AZURE_API_KEY?: string | undefined;
        AZURE_AUTHORITY_HOST?: string | undefined;
        AZURE_CLIENT_ID?: string | undefined;
        AZURE_CLIENT_SECRET?: string | undefined;
        AZURE_DEPLOYMENT_NAME?: string | undefined;
        AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
        AZURE_OPENAI_API_BASE_URL?: string | undefined;
        AZURE_OPENAI_API_HOST?: string | undefined;
        AZURE_OPENAI_API_KEY?: string | undefined;
        AZURE_OPENAI_BASE_URL?: string | undefined;
        AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
        AZURE_TENANT_ID?: string | undefined;
        AZURE_TOKEN_SCOPE?: string | undefined;
        CLAUDE_CODE_USE_BEDROCK?: string | undefined;
        CLAUDE_CODE_USE_VERTEX?: string | undefined;
        CLOUDFLARE_ACCOUNT_ID?: string | undefined;
        CLOUDFLARE_API_KEY?: string | undefined;
        CLOUDFLARE_GATEWAY_ID?: string | undefined;
        CF_AIG_TOKEN?: string | undefined;
        COMETAPI_KEY?: string | undefined;
        COHERE_API_KEY?: string | undefined;
        COHERE_CLIENT_NAME?: string | undefined;
        DATABRICKS_TOKEN?: string | undefined;
        DATABRICKS_WORKSPACE_URL?: string | undefined;
        DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
        DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
        ELEVENLABS_API_KEY?: string | undefined;
        FAL_KEY?: string | undefined;
        GITHUB_TOKEN?: string | undefined;
        GOOGLE_API_HOST?: string | undefined;
        GOOGLE_API_BASE_URL?: string | undefined;
        GOOGLE_API_KEY?: string | undefined;
        GOOGLE_PROJECT_ID?: string | undefined;
        GOOGLE_LOCATION?: string | undefined;
        GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
        GEMINI_API_KEY?: string | undefined;
        GROQ_API_KEY?: string | undefined;
        HELICONE_API_KEY?: string | undefined;
        HF_API_TOKEN?: string | undefined;
        HF_TOKEN?: string | undefined;
        HYPERBOLIC_API_KEY?: string | undefined;
        HUGGING_FACE_HUB_TOKEN?: string | undefined;
        JFROG_API_KEY?: string | undefined;
        LANGFUSE_HOST?: string | undefined;
        LANGFUSE_PUBLIC_KEY?: string | undefined;
        LANGFUSE_SECRET_KEY?: string | undefined;
        LITELLM_API_BASE?: string | undefined;
        LLAMA_BASE_URL?: string | undefined;
        LOCALAI_BASE_URL?: string | undefined;
        MISTRAL_API_BASE_URL?: string | undefined;
        MISTRAL_API_HOST?: string | undefined;
        MISTRAL_API_KEY?: string | undefined;
        NSCALE_SERVICE_TOKEN?: string | undefined;
        NSCALE_API_KEY?: string | undefined;
        OLLAMA_API_KEY?: string | undefined;
        OLLAMA_BASE_URL?: string | undefined;
        OPENAI_API_BASE_URL?: string | undefined;
        OPENAI_API_HOST?: string | undefined;
        OPENAI_API_KEY?: string | undefined;
        OPENAI_BASE_URL?: string | undefined;
        OPENAI_ORGANIZATION?: string | undefined;
        CODEX_API_KEY?: string | undefined;
        PALM_API_HOST?: string | undefined;
        PALM_API_KEY?: string | undefined;
        PORTKEY_API_KEY?: string | undefined;
        PROMPTFOO_CA_CERT_PATH?: string | undefined;
        PROMPTFOO_PFX_CERT_PATH?: string | undefined;
        PROMPTFOO_PFX_PASSWORD?: string | undefined;
        PROMPTFOO_JKS_CERT_PATH?: string | undefined;
        PROMPTFOO_JKS_PASSWORD?: string | undefined;
        PROMPTFOO_JKS_ALIAS?: string | undefined;
        PROMPTFOO_INSECURE_SSL?: string | undefined;
        QUIVERAI_API_KEY?: string | undefined;
        REPLICATE_API_KEY?: string | undefined;
        REPLICATE_API_TOKEN?: string | undefined;
        SHAREPOINT_BASE_URL?: string | undefined;
        SHAREPOINT_CERT_PATH?: string | undefined;
        SHAREPOINT_CLIENT_ID?: string | undefined;
        SHAREPOINT_TENANT_ID?: string | undefined;
        VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
        VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
        VERTEX_API_HOST?: string | undefined;
        VERTEX_API_KEY?: string | undefined;
        VERTEX_API_VERSION?: string | undefined;
        VERTEX_PROJECT_ID?: string | undefined;
        VERTEX_PUBLISHER?: string | undefined;
        VERTEX_REGION?: string | undefined;
        VOYAGE_API_BASE_URL?: string | undefined;
        VOYAGE_API_KEY?: string | undefined;
        WATSONX_AI_APIKEY?: string | undefined;
        WATSONX_AI_AUTH_TYPE?: string | undefined;
        WATSONX_AI_BEARER_TOKEN?: string | undefined;
        WATSONX_AI_PROJECT_ID?: string | undefined;
        XAI_API_BASE_URL?: string | undefined;
        XAI_API_KEY?: string | undefined;
        AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
        AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
        AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
        AWS_REGION?: string | undefined;
        AWS_DEFAULT_REGION?: string | undefined;
        AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
        AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
        AWS_SAGEMAKER_TOP_P?: string | undefined;
        AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
        PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
      } | undefined;
      inputs?: Record<string, string> | undefined;
    } | {
      id: () => string;
      callApi: CallApiFunction;
      callEmbeddingApi?: ((prompt: string) => Promise<ProviderEmbeddingResponse>) | undefined;
      callClassificationApi?: ((prompt: string) => Promise<ProviderClassificationResponse>) | undefined;
      label?: string | undefined;
      transform?: string | undefined;
      delay?: number | undefined;
      config?: any;
      inputs?: Record<string, string> | undefined;
    } | undefined;
    providers?: string[] | undefined;
    prompts?: string[] | undefined;
    providerOutput?: string | Record<string, unknown> | undefined;
    assert?: ({
      type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
      value?: AssertionValue | undefined;
      config?: Record<string, any> | undefined;
      threshold?: number | undefined;
      weight?: number | undefined;
      provider?: any;
      rubricPrompt?: string | string[] | {
        role: string;
        content: string;
      }[] | undefined;
      metric?: string | undefined;
      transform?: string | undefined;
      contextTransform?: string | undefined;
    } | {
      type: "assert-set";
      assert: {
        type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
        value?: AssertionValue | undefined;
        config?: Record<string, any> | undefined;
        threshold?: number | undefined;
        weight?: number | undefined;
        provider?: any;
        rubricPrompt?: string | string[] | {
          role: string;
          content: string;
        }[] | undefined;
        metric?: string | undefined;
        transform?: string | undefined;
        contextTransform?: string | undefined;
      }[];
      weight?: number | undefined;
      metric?: string | undefined;
      threshold?: number | undefined;
      config?: Record<string, any> | undefined;
    })[] | undefined;
    assertScoringFunction?: string | ScoringFunction | undefined;
    options?: {
      [x: string]: any;
      disableVarExpansion?: boolean | undefined;
      disableConversationVar?: boolean | undefined;
      runSerially?: boolean | undefined;
      rubricPrompt?: string | string[] | {
        role: string;
        content: string;
      }[] | undefined;
      provider?: any;
      factuality?: {
        subset?: number | undefined;
        superset?: number | undefined;
        agree?: number | undefined;
        disagree?: number | undefined;
        differButFactual?: number | undefined;
      } | undefined;
      postprocess?: string | undefined;
      transform?: string | undefined;
      transformVars?: string | undefined;
      storeOutputAs?: string | undefined;
      prefix?: string | undefined;
      suffix?: string | undefined;
    } | undefined;
    threshold?: number | undefined;
    metadata?: {
      [x: string]: any;
      pluginConfig?: {
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      } | undefined;
      strategyConfig?: {
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      } | undefined;
    } | undefined;
  })[] | undefined;
  scenarios?: (string | {
    config: {
      description?: string | undefined;
      vars?: Vars | undefined;
      provider?: string | {
        id?: string | undefined;
        label?: string | undefined;
        config?: any;
        prompts?: string[] | undefined;
        transform?: string | undefined;
        delay?: number | undefined;
        env?: {
          AI21_API_BASE_URL?: string | undefined;
          AI21_API_KEY?: string | undefined;
          AIML_API_KEY?: string | undefined;
          ANTHROPIC_API_KEY?: string | undefined;
          ANTHROPIC_BASE_URL?: string | undefined;
          AWS_BEDROCK_REGION?: string | undefined;
          AZURE_API_BASE_URL?: string | undefined;
          AZURE_API_HOST?: string | undefined;
          AZURE_API_KEY?: string | undefined;
          AZURE_AUTHORITY_HOST?: string | undefined;
          AZURE_CLIENT_ID?: string | undefined;
          AZURE_CLIENT_SECRET?: string | undefined;
          AZURE_DEPLOYMENT_NAME?: string | undefined;
          AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
          AZURE_OPENAI_API_BASE_URL?: string | undefined;
          AZURE_OPENAI_API_HOST?: string | undefined;
          AZURE_OPENAI_API_KEY?: string | undefined;
          AZURE_OPENAI_BASE_URL?: string | undefined;
          AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
          AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
          AZURE_TENANT_ID?: string | undefined;
          AZURE_TOKEN_SCOPE?: string | undefined;
          CLAUDE_CODE_USE_BEDROCK?: string | undefined;
          CLAUDE_CODE_USE_VERTEX?: string | undefined;
          CLOUDFLARE_ACCOUNT_ID?: string | undefined;
          CLOUDFLARE_API_KEY?: string | undefined;
          CLOUDFLARE_GATEWAY_ID?: string | undefined;
          CF_AIG_TOKEN?: string | undefined;
          COMETAPI_KEY?: string | undefined;
          COHERE_API_KEY?: string | undefined;
          COHERE_CLIENT_NAME?: string | undefined;
          DATABRICKS_TOKEN?: string | undefined;
          DATABRICKS_WORKSPACE_URL?: string | undefined;
          DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
          DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
          ELEVENLABS_API_KEY?: string | undefined;
          FAL_KEY?: string | undefined;
          GITHUB_TOKEN?: string | undefined;
          GOOGLE_API_HOST?: string | undefined;
          GOOGLE_API_BASE_URL?: string | undefined;
          GOOGLE_API_KEY?: string | undefined;
          GOOGLE_PROJECT_ID?: string | undefined;
          GOOGLE_LOCATION?: string | undefined;
          GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
          GEMINI_API_KEY?: string | undefined;
          GROQ_API_KEY?: string | undefined;
          HELICONE_API_KEY?: string | undefined;
          HF_API_TOKEN?: string | undefined;
          HF_TOKEN?: string | undefined;
          HYPERBOLIC_API_KEY?: string | undefined;
          HUGGING_FACE_HUB_TOKEN?: string | undefined;
          JFROG_API_KEY?: string | undefined;
          LANGFUSE_HOST?: string | undefined;
          LANGFUSE_PUBLIC_KEY?: string | undefined;
          LANGFUSE_SECRET_KEY?: string | undefined;
          LITELLM_API_BASE?: string | undefined;
          LLAMA_BASE_URL?: string | undefined;
          LOCALAI_BASE_URL?: string | undefined;
          MISTRAL_API_BASE_URL?: string | undefined;
          MISTRAL_API_HOST?: string | undefined;
          MISTRAL_API_KEY?: string | undefined;
          NSCALE_SERVICE_TOKEN?: string | undefined;
          NSCALE_API_KEY?: string | undefined;
          OLLAMA_API_KEY?: string | undefined;
          OLLAMA_BASE_URL?: string | undefined;
          OPENAI_API_BASE_URL?: string | undefined;
          OPENAI_API_HOST?: string | undefined;
          OPENAI_API_KEY?: string | undefined;
          OPENAI_BASE_URL?: string | undefined;
          OPENAI_ORGANIZATION?: string | undefined;
          CODEX_API_KEY?: string | undefined;
          PALM_API_HOST?: string | undefined;
          PALM_API_KEY?: string | undefined;
          PORTKEY_API_KEY?: string | undefined;
          PROMPTFOO_CA_CERT_PATH?: string | undefined;
          PROMPTFOO_PFX_CERT_PATH?: string | undefined;
          PROMPTFOO_PFX_PASSWORD?: string | undefined;
          PROMPTFOO_JKS_CERT_PATH?: string | undefined;
          PROMPTFOO_JKS_PASSWORD?: string | undefined;
          PROMPTFOO_JKS_ALIAS?: string | undefined;
          PROMPTFOO_INSECURE_SSL?: string | undefined;
          QUIVERAI_API_KEY?: string | undefined;
          REPLICATE_API_KEY?: string | undefined;
          REPLICATE_API_TOKEN?: string | undefined;
          SHAREPOINT_BASE_URL?: string | undefined;
          SHAREPOINT_CERT_PATH?: string | undefined;
          SHAREPOINT_CLIENT_ID?: string | undefined;
          SHAREPOINT_TENANT_ID?: string | undefined;
          VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
          VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
          VERTEX_API_HOST?: string | undefined;
          VERTEX_API_KEY?: string | undefined;
          VERTEX_API_VERSION?: string | undefined;
          VERTEX_PROJECT_ID?: string | undefined;
          VERTEX_PUBLISHER?: string | undefined;
          VERTEX_REGION?: string | undefined;
          VOYAGE_API_BASE_URL?: string | undefined;
          VOYAGE_API_KEY?: string | undefined;
          WATSONX_AI_APIKEY?: string | undefined;
          WATSONX_AI_AUTH_TYPE?: string | undefined;
          WATSONX_AI_BEARER_TOKEN?: string | undefined;
          WATSONX_AI_PROJECT_ID?: string | undefined;
          XAI_API_BASE_URL?: string | undefined;
          XAI_API_KEY?: string | undefined;
          AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
          AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
          AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
          AWS_REGION?: string | undefined;
          AWS_DEFAULT_REGION?: string | undefined;
          AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
          AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
          AWS_SAGEMAKER_TOP_P?: string | undefined;
          AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
          PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
        } | undefined;
        inputs?: Record<string, string> | undefined;
      } | {
        id: () => string;
        callApi: CallApiFunction;
        callEmbeddingApi?: ((prompt: string) => Promise<ProviderEmbeddingResponse>) | undefined;
        callClassificationApi?: ((prompt: string) => Promise<ProviderClassificationResponse>) | undefined;
        label?: string | undefined;
        transform?: string | undefined;
        delay?: number | undefined;
        config?: any;
        inputs?: Record<string, string> | undefined;
      } | undefined;
      providers?: string[] | undefined;
      prompts?: string[] | undefined;
      providerOutput?: string | Record<string, unknown> | undefined;
      assert?: ({
        type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
        value?: AssertionValue | undefined;
        config?: Record<string, any> | undefined;
        threshold?: number | undefined;
        weight?: number | undefined;
        provider?: any;
        rubricPrompt?: string | string[] | {
          role: string;
          content: string;
        }[] | undefined;
        metric?: string | undefined;
        transform?: string | undefined;
        contextTransform?: string | undefined;
      } | {
        type: "assert-set";
        assert: {
          type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
          value?: AssertionValue | undefined;
          config?: Record<string, any> | undefined;
          threshold?: number | undefined;
          weight?: number | undefined;
          provider?: any;
          rubricPrompt?: string | string[] | {
            role: string;
            content: string;
          }[] | undefined;
          metric?: string | undefined;
          transform?: string | undefined;
          contextTransform?: string | undefined;
        }[];
        weight?: number | undefined;
        metric?: string | undefined;
        threshold?: number | undefined;
        config?: Record<string, any> | undefined;
      })[] | undefined;
      assertScoringFunction?: string | ScoringFunction | undefined;
      options?: {
        [x: string]: any;
        disableVarExpansion?: boolean | undefined;
        disableConversationVar?: boolean | undefined;
        runSerially?: boolean | undefined;
        rubricPrompt?: string | string[] | {
          role: string;
          content: string;
        }[] | undefined;
        provider?: any;
        factuality?: {
          subset?: number | undefined;
          superset?: number | undefined;
          agree?: number | undefined;
          disagree?: number | undefined;
          differButFactual?: number | undefined;
        } | undefined;
        postprocess?: string | undefined;
        transform?: string | undefined;
        transformVars?: string | undefined;
        storeOutputAs?: string | undefined;
        prefix?: string | undefined;
        suffix?: string | undefined;
      } | undefined;
      threshold?: number | undefined;
      metadata?: {
        [x: string]: any;
        pluginConfig?: {
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        } | undefined;
        strategyConfig?: {
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        } | undefined;
      } | undefined;
    }[];
    tests: {
      description?: string | undefined;
      vars?: Vars | undefined;
      provider?: string | {
        id?: string | undefined;
        label?: string | undefined;
        config?: any;
        prompts?: string[] | undefined;
        transform?: string | undefined;
        delay?: number | undefined;
        env?: {
          AI21_API_BASE_URL?: string | undefined;
          AI21_API_KEY?: string | undefined;
          AIML_API_KEY?: string | undefined;
          ANTHROPIC_API_KEY?: string | undefined;
          ANTHROPIC_BASE_URL?: string | undefined;
          AWS_BEDROCK_REGION?: string | undefined;
          AZURE_API_BASE_URL?: string | undefined;
          AZURE_API_HOST?: string | undefined;
          AZURE_API_KEY?: string | undefined;
          AZURE_AUTHORITY_HOST?: string | undefined;
          AZURE_CLIENT_ID?: string | undefined;
          AZURE_CLIENT_SECRET?: string | undefined;
          AZURE_DEPLOYMENT_NAME?: string | undefined;
          AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
          AZURE_OPENAI_API_BASE_URL?: string | undefined;
          AZURE_OPENAI_API_HOST?: string | undefined;
          AZURE_OPENAI_API_KEY?: string | undefined;
          AZURE_OPENAI_BASE_URL?: string | undefined;
          AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
          AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
          AZURE_TENANT_ID?: string | undefined;
          AZURE_TOKEN_SCOPE?: string | undefined;
          CLAUDE_CODE_USE_BEDROCK?: string | undefined;
          CLAUDE_CODE_USE_VERTEX?: string | undefined;
          CLOUDFLARE_ACCOUNT_ID?: string | undefined;
          CLOUDFLARE_API_KEY?: string | undefined;
          CLOUDFLARE_GATEWAY_ID?: string | undefined;
          CF_AIG_TOKEN?: string | undefined;
          COMETAPI_KEY?: string | undefined;
          COHERE_API_KEY?: string | undefined;
          COHERE_CLIENT_NAME?: string | undefined;
          DATABRICKS_TOKEN?: string | undefined;
          DATABRICKS_WORKSPACE_URL?: string | undefined;
          DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
          DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
          ELEVENLABS_API_KEY?: string | undefined;
          FAL_KEY?: string | undefined;
          GITHUB_TOKEN?: string | undefined;
          GOOGLE_API_HOST?: string | undefined;
          GOOGLE_API_BASE_URL?: string | undefined;
          GOOGLE_API_KEY?: string | undefined;
          GOOGLE_PROJECT_ID?: string | undefined;
          GOOGLE_LOCATION?: string | undefined;
          GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
          GEMINI_API_KEY?: string | undefined;
          GROQ_API_KEY?: string | undefined;
          HELICONE_API_KEY?: string | undefined;
          HF_API_TOKEN?: string | undefined;
          HF_TOKEN?: string | undefined;
          HYPERBOLIC_API_KEY?: string | undefined;
          HUGGING_FACE_HUB_TOKEN?: string | undefined;
          JFROG_API_KEY?: string | undefined;
          LANGFUSE_HOST?: string | undefined;
          LANGFUSE_PUBLIC_KEY?: string | undefined;
          LANGFUSE_SECRET_KEY?: string | undefined;
          LITELLM_API_BASE?: string | undefined;
          LLAMA_BASE_URL?: string | undefined;
          LOCALAI_BASE_URL?: string | undefined;
          MISTRAL_API_BASE_URL?: string | undefined;
          MISTRAL_API_HOST?: string | undefined;
          MISTRAL_API_KEY?: string | undefined;
          NSCALE_SERVICE_TOKEN?: string | undefined;
          NSCALE_API_KEY?: string | undefined;
          OLLAMA_API_KEY?: string | undefined;
          OLLAMA_BASE_URL?: string | undefined;
          OPENAI_API_BASE_URL?: string | undefined;
          OPENAI_API_HOST?: string | undefined;
          OPENAI_API_KEY?: string | undefined;
          OPENAI_BASE_URL?: string | undefined;
          OPENAI_ORGANIZATION?: string | undefined;
          CODEX_API_KEY?: string | undefined;
          PALM_API_HOST?: string | undefined;
          PALM_API_KEY?: string | undefined;
          PORTKEY_API_KEY?: string | undefined;
          PROMPTFOO_CA_CERT_PATH?: string | undefined;
          PROMPTFOO_PFX_CERT_PATH?: string | undefined;
          PROMPTFOO_PFX_PASSWORD?: string | undefined;
          PROMPTFOO_JKS_CERT_PATH?: string | undefined;
          PROMPTFOO_JKS_PASSWORD?: string | undefined;
          PROMPTFOO_JKS_ALIAS?: string | undefined;
          PROMPTFOO_INSECURE_SSL?: string | undefined;
          QUIVERAI_API_KEY?: string | undefined;
          REPLICATE_API_KEY?: string | undefined;
          REPLICATE_API_TOKEN?: string | undefined;
          SHAREPOINT_BASE_URL?: string | undefined;
          SHAREPOINT_CERT_PATH?: string | undefined;
          SHAREPOINT_CLIENT_ID?: string | undefined;
          SHAREPOINT_TENANT_ID?: string | undefined;
          VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
          VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
          VERTEX_API_HOST?: string | undefined;
          VERTEX_API_KEY?: string | undefined;
          VERTEX_API_VERSION?: string | undefined;
          VERTEX_PROJECT_ID?: string | undefined;
          VERTEX_PUBLISHER?: string | undefined;
          VERTEX_REGION?: string | undefined;
          VOYAGE_API_BASE_URL?: string | undefined;
          VOYAGE_API_KEY?: string | undefined;
          WATSONX_AI_APIKEY?: string | undefined;
          WATSONX_AI_AUTH_TYPE?: string | undefined;
          WATSONX_AI_BEARER_TOKEN?: string | undefined;
          WATSONX_AI_PROJECT_ID?: string | undefined;
          XAI_API_BASE_URL?: string | undefined;
          XAI_API_KEY?: string | undefined;
          AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
          AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
          AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
          AWS_REGION?: string | undefined;
          AWS_DEFAULT_REGION?: string | undefined;
          AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
          AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
          AWS_SAGEMAKER_TOP_P?: string | undefined;
          AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
          PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
        } | undefined;
        inputs?: Record<string, string> | undefined;
      } | {
        id: () => string;
        callApi: CallApiFunction;
        callEmbeddingApi?: ((prompt: string) => Promise<ProviderEmbeddingResponse>) | undefined;
        callClassificationApi?: ((prompt: string) => Promise<ProviderClassificationResponse>) | undefined;
        label?: string | undefined;
        transform?: string | undefined;
        delay?: number | undefined;
        config?: any;
        inputs?: Record<string, string> | undefined;
      } | undefined;
      providers?: string[] | undefined;
      prompts?: string[] | undefined;
      providerOutput?: string | Record<string, unknown> | undefined;
      assert?: ({
        type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
        value?: AssertionValue | undefined;
        config?: Record<string, any> | undefined;
        threshold?: number | undefined;
        weight?: number | undefined;
        provider?: any;
        rubricPrompt?: string | string[] | {
          role: string;
          content: string;
        }[] | undefined;
        metric?: string | undefined;
        transform?: string | undefined;
        contextTransform?: string | undefined;
      } | {
        type: "assert-set";
        assert: {
          type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
          value?: AssertionValue | undefined;
          config?: Record<string, any> | undefined;
          threshold?: number | undefined;
          weight?: number | undefined;
          provider?: any;
          rubricPrompt?: string | string[] | {
            role: string;
            content: string;
          }[] | undefined;
          metric?: string | undefined;
          transform?: string | undefined;
          contextTransform?: string | undefined;
        }[];
        weight?: number | undefined;
        metric?: string | undefined;
        threshold?: number | undefined;
        config?: Record<string, any> | undefined;
      })[] | undefined;
      assertScoringFunction?: string | ScoringFunction | undefined;
      options?: {
        [x: string]: any;
        disableVarExpansion?: boolean | undefined;
        disableConversationVar?: boolean | undefined;
        runSerially?: boolean | undefined;
        rubricPrompt?: string | string[] | {
          role: string;
          content: string;
        }[] | undefined;
        provider?: any;
        factuality?: {
          subset?: number | undefined;
          superset?: number | undefined;
          agree?: number | undefined;
          disagree?: number | undefined;
          differButFactual?: number | undefined;
        } | undefined;
        postprocess?: string | undefined;
        transform?: string | undefined;
        transformVars?: string | undefined;
        storeOutputAs?: string | undefined;
        prefix?: string | undefined;
        suffix?: string | undefined;
      } | undefined;
      threshold?: number | undefined;
      metadata?: {
        [x: string]: any;
        pluginConfig?: {
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        } | undefined;
        strategyConfig?: {
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        } | undefined;
      } | undefined;
    }[];
    description?: string | undefined;
  })[] | undefined;
  defaultTest?: string | {
    providers?: string[] | undefined;
    prompts?: string[] | undefined;
    vars?: Vars | undefined;
    provider?: string | {
      id?: string | undefined;
      label?: string | undefined;
      config?: any;
      prompts?: string[] | undefined;
      transform?: string | undefined;
      delay?: number | undefined;
      env?: {
        AI21_API_BASE_URL?: string | undefined;
        AI21_API_KEY?: string | undefined;
        AIML_API_KEY?: string | undefined;
        ANTHROPIC_API_KEY?: string | undefined;
        ANTHROPIC_BASE_URL?: string | undefined;
        AWS_BEDROCK_REGION?: string | undefined;
        AZURE_API_BASE_URL?: string | undefined;
        AZURE_API_HOST?: string | undefined;
        AZURE_API_KEY?: string | undefined;
        AZURE_AUTHORITY_HOST?: string | undefined;
        AZURE_CLIENT_ID?: string | undefined;
        AZURE_CLIENT_SECRET?: string | undefined;
        AZURE_DEPLOYMENT_NAME?: string | undefined;
        AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
        AZURE_OPENAI_API_BASE_URL?: string | undefined;
        AZURE_OPENAI_API_HOST?: string | undefined;
        AZURE_OPENAI_API_KEY?: string | undefined;
        AZURE_OPENAI_BASE_URL?: string | undefined;
        AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
        AZURE_TENANT_ID?: string | undefined;
        AZURE_TOKEN_SCOPE?: string | undefined;
        CLAUDE_CODE_USE_BEDROCK?: string | undefined;
        CLAUDE_CODE_USE_VERTEX?: string | undefined;
        CLOUDFLARE_ACCOUNT_ID?: string | undefined;
        CLOUDFLARE_API_KEY?: string | undefined;
        CLOUDFLARE_GATEWAY_ID?: string | undefined;
        CF_AIG_TOKEN?: string | undefined;
        COMETAPI_KEY?: string | undefined;
        COHERE_API_KEY?: string | undefined;
        COHERE_CLIENT_NAME?: string | undefined;
        DATABRICKS_TOKEN?: string | undefined;
        DATABRICKS_WORKSPACE_URL?: string | undefined;
        DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
        DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
        ELEVENLABS_API_KEY?: string | undefined;
        FAL_KEY?: string | undefined;
        GITHUB_TOKEN?: string | undefined;
        GOOGLE_API_HOST?: string | undefined;
        GOOGLE_API_BASE_URL?: string | undefined;
        GOOGLE_API_KEY?: string | undefined;
        GOOGLE_PROJECT_ID?: string | undefined;
        GOOGLE_LOCATION?: string | undefined;
        GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
        GEMINI_API_KEY?: string | undefined;
        GROQ_API_KEY?: string | undefined;
        HELICONE_API_KEY?: string | undefined;
        HF_API_TOKEN?: string | undefined;
        HF_TOKEN?: string | undefined;
        HYPERBOLIC_API_KEY?: string | undefined;
        HUGGING_FACE_HUB_TOKEN?: string | undefined;
        JFROG_API_KEY?: string | undefined;
        LANGFUSE_HOST?: string | undefined;
        LANGFUSE_PUBLIC_KEY?: string | undefined;
        LANGFUSE_SECRET_KEY?: string | undefined;
        LITELLM_API_BASE?: string | undefined;
        LLAMA_BASE_URL?: string | undefined;
        LOCALAI_BASE_URL?: string | undefined;
        MISTRAL_API_BASE_URL?: string | undefined;
        MISTRAL_API_HOST?: string | undefined;
        MISTRAL_API_KEY?: string | undefined;
        NSCALE_SERVICE_TOKEN?: string | undefined;
        NSCALE_API_KEY?: string | undefined;
        OLLAMA_API_KEY?: string | undefined;
        OLLAMA_BASE_URL?: string | undefined;
        OPENAI_API_BASE_URL?: string | undefined;
        OPENAI_API_HOST?: string | undefined;
        OPENAI_API_KEY?: string | undefined;
        OPENAI_BASE_URL?: string | undefined;
        OPENAI_ORGANIZATION?: string | undefined;
        CODEX_API_KEY?: string | undefined;
        PALM_API_HOST?: string | undefined;
        PALM_API_KEY?: string | undefined;
        PORTKEY_API_KEY?: string | undefined;
        PROMPTFOO_CA_CERT_PATH?: string | undefined;
        PROMPTFOO_PFX_CERT_PATH?: string | undefined;
        PROMPTFOO_PFX_PASSWORD?: string | undefined;
        PROMPTFOO_JKS_CERT_PATH?: string | undefined;
        PROMPTFOO_JKS_PASSWORD?: string | undefined;
        PROMPTFOO_JKS_ALIAS?: string | undefined;
        PROMPTFOO_INSECURE_SSL?: string | undefined;
        QUIVERAI_API_KEY?: string | undefined;
        REPLICATE_API_KEY?: string | undefined;
        REPLICATE_API_TOKEN?: string | undefined;
        SHAREPOINT_BASE_URL?: string | undefined;
        SHAREPOINT_CERT_PATH?: string | undefined;
        SHAREPOINT_CLIENT_ID?: string | undefined;
        SHAREPOINT_TENANT_ID?: string | undefined;
        VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
        VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
        VERTEX_API_HOST?: string | undefined;
        VERTEX_API_KEY?: string | undefined;
        VERTEX_API_VERSION?: string | undefined;
        VERTEX_PROJECT_ID?: string | undefined;
        VERTEX_PUBLISHER?: string | undefined;
        VERTEX_REGION?: string | undefined;
        VOYAGE_API_BASE_URL?: string | undefined;
        VOYAGE_API_KEY?: string | undefined;
        WATSONX_AI_APIKEY?: string | undefined;
        WATSONX_AI_AUTH_TYPE?: string | undefined;
        WATSONX_AI_BEARER_TOKEN?: string | undefined;
        WATSONX_AI_PROJECT_ID?: string | undefined;
        XAI_API_BASE_URL?: string | undefined;
        XAI_API_KEY?: string | undefined;
        AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
        AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
        AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
        AWS_REGION?: string | undefined;
        AWS_DEFAULT_REGION?: string | undefined;
        AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
        AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
        AWS_SAGEMAKER_TOP_P?: string | undefined;
        AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
        PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
      } | undefined;
      inputs?: Record<string, string> | undefined;
    } | {
      id: () => string;
      callApi: CallApiFunction;
      callEmbeddingApi?: ((prompt: string) => Promise<ProviderEmbeddingResponse>) | undefined;
      callClassificationApi?: ((prompt: string) => Promise<ProviderClassificationResponse>) | undefined;
      label?: string | undefined;
      transform?: string | undefined;
      delay?: number | undefined;
      config?: any;
      inputs?: Record<string, string> | undefined;
    } | undefined;
    providerOutput?: string | Record<string, unknown> | undefined;
    assert?: ({
      type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
      value?: AssertionValue | undefined;
      config?: Record<string, any> | undefined;
      threshold?: number | undefined;
      weight?: number | undefined;
      provider?: any;
      rubricPrompt?: string | string[] | {
        role: string;
        content: string;
      }[] | undefined;
      metric?: string | undefined;
      transform?: string | undefined;
      contextTransform?: string | undefined;
    } | {
      type: "assert-set";
      assert: {
        type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
        value?: AssertionValue | undefined;
        config?: Record<string, any> | undefined;
        threshold?: number | undefined;
        weight?: number | undefined;
        provider?: any;
        rubricPrompt?: string | string[] | {
          role: string;
          content: string;
        }[] | undefined;
        metric?: string | undefined;
        transform?: string | undefined;
        contextTransform?: string | undefined;
      }[];
      weight?: number | undefined;
      metric?: string | undefined;
      threshold?: number | undefined;
      config?: Record<string, any> | undefined;
    })[] | undefined;
    threshold?: number | undefined;
    assertScoringFunction?: string | ScoringFunction | undefined;
    options?: {
      [x: string]: any;
      disableVarExpansion?: boolean | undefined;
      disableConversationVar?: boolean | undefined;
      runSerially?: boolean | undefined;
      rubricPrompt?: string | string[] | {
        role: string;
        content: string;
      }[] | undefined;
      provider?: any;
      factuality?: {
        subset?: number | undefined;
        superset?: number | undefined;
        agree?: number | undefined;
        disagree?: number | undefined;
        differButFactual?: number | undefined;
      } | undefined;
      postprocess?: string | undefined;
      transform?: string | undefined;
      transformVars?: string | undefined;
      storeOutputAs?: string | undefined;
      prefix?: string | undefined;
      suffix?: string | undefined;
    } | undefined;
    metadata?: {
      [x: string]: any;
      pluginConfig?: {
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      } | undefined;
      strategyConfig?: {
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      } | undefined;
    } | undefined;
  } | undefined;
  outputPath?: string | string[] | undefined;
  sharing?: boolean | {
    apiBaseUrl?: string | undefined;
    appBaseUrl?: string | undefined;
  } | undefined;
  nunjucksFilters?: Record<string, string> | undefined;
  env?: Record<string, string> | {
    AI21_API_BASE_URL?: string | undefined;
    AI21_API_KEY?: string | undefined;
    AIML_API_KEY?: string | undefined;
    ANTHROPIC_API_KEY?: string | undefined;
    ANTHROPIC_BASE_URL?: string | undefined;
    AWS_BEDROCK_REGION?: string | undefined;
    AZURE_API_BASE_URL?: string | undefined;
    AZURE_API_HOST?: string | undefined;
    AZURE_API_KEY?: string | undefined;
    AZURE_AUTHORITY_HOST?: string | undefined;
    AZURE_CLIENT_ID?: string | undefined;
    AZURE_CLIENT_SECRET?: string | undefined;
    AZURE_DEPLOYMENT_NAME?: string | undefined;
    AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
    AZURE_OPENAI_API_BASE_URL?: string | undefined;
    AZURE_OPENAI_API_HOST?: string | undefined;
    AZURE_OPENAI_API_KEY?: string | undefined;
    AZURE_OPENAI_BASE_URL?: string | undefined;
    AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
    AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
    AZURE_TENANT_ID?: string | undefined;
    AZURE_TOKEN_SCOPE?: string | undefined;
    CLAUDE_CODE_USE_BEDROCK?: string | undefined;
    CLAUDE_CODE_USE_VERTEX?: string | undefined;
    CLOUDFLARE_ACCOUNT_ID?: string | undefined;
    CLOUDFLARE_API_KEY?: string | undefined;
    CLOUDFLARE_GATEWAY_ID?: string | undefined;
    CF_AIG_TOKEN?: string | undefined;
    COMETAPI_KEY?: string | undefined;
    COHERE_API_KEY?: string | undefined;
    COHERE_CLIENT_NAME?: string | undefined;
    DATABRICKS_TOKEN?: string | undefined;
    DATABRICKS_WORKSPACE_URL?: string | undefined;
    DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
    DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
    ELEVENLABS_API_KEY?: string | undefined;
    FAL_KEY?: string | undefined;
    GITHUB_TOKEN?: string | undefined;
    GOOGLE_API_HOST?: string | undefined;
    GOOGLE_API_BASE_URL?: string | undefined;
    GOOGLE_API_KEY?: string | undefined;
    GOOGLE_PROJECT_ID?: string | undefined;
    GOOGLE_LOCATION?: string | undefined;
    GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
    GEMINI_API_KEY?: string | undefined;
    GROQ_API_KEY?: string | undefined;
    HELICONE_API_KEY?: string | undefined;
    HF_API_TOKEN?: string | undefined;
    HF_TOKEN?: string | undefined;
    HYPERBOLIC_API_KEY?: string | undefined;
    HUGGING_FACE_HUB_TOKEN?: string | undefined;
    JFROG_API_KEY?: string | undefined;
    LANGFUSE_HOST?: string | undefined;
    LANGFUSE_PUBLIC_KEY?: string | undefined;
    LANGFUSE_SECRET_KEY?: string | undefined;
    LITELLM_API_BASE?: string | undefined;
    LLAMA_BASE_URL?: string | undefined;
    LOCALAI_BASE_URL?: string | undefined;
    MISTRAL_API_BASE_URL?: string | undefined;
    MISTRAL_API_HOST?: string | undefined;
    MISTRAL_API_KEY?: string | undefined;
    NSCALE_SERVICE_TOKEN?: string | undefined;
    NSCALE_API_KEY?: string | undefined;
    OLLAMA_API_KEY?: string | undefined;
    OLLAMA_BASE_URL?: string | undefined;
    OPENAI_API_BASE_URL?: string | undefined;
    OPENAI_API_HOST?: string | undefined;
    OPENAI_API_KEY?: string | undefined;
    OPENAI_BASE_URL?: string | undefined;
    OPENAI_ORGANIZATION?: string | undefined;
    CODEX_API_KEY?: string | undefined;
    PALM_API_HOST?: string | undefined;
    PALM_API_KEY?: string | undefined;
    PORTKEY_API_KEY?: string | undefined;
    PROMPTFOO_CA_CERT_PATH?: string | undefined;
    PROMPTFOO_PFX_CERT_PATH?: string | undefined;
    PROMPTFOO_PFX_PASSWORD?: string | undefined;
    PROMPTFOO_JKS_CERT_PATH?: string | undefined;
    PROMPTFOO_JKS_PASSWORD?: string | undefined;
    PROMPTFOO_JKS_ALIAS?: string | undefined;
    PROMPTFOO_INSECURE_SSL?: string | undefined;
    QUIVERAI_API_KEY?: string | undefined;
    REPLICATE_API_KEY?: string | undefined;
    REPLICATE_API_TOKEN?: string | undefined;
    SHAREPOINT_BASE_URL?: string | undefined;
    SHAREPOINT_CERT_PATH?: string | undefined;
    SHAREPOINT_CLIENT_ID?: string | undefined;
    SHAREPOINT_TENANT_ID?: string | undefined;
    VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
    VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
    VERTEX_API_HOST?: string | undefined;
    VERTEX_API_KEY?: string | undefined;
    VERTEX_API_VERSION?: string | undefined;
    VERTEX_PROJECT_ID?: string | undefined;
    VERTEX_PUBLISHER?: string | undefined;
    VERTEX_REGION?: string | undefined;
    VOYAGE_API_BASE_URL?: string | undefined;
    VOYAGE_API_KEY?: string | undefined;
    WATSONX_AI_APIKEY?: string | undefined;
    WATSONX_AI_AUTH_TYPE?: string | undefined;
    WATSONX_AI_BEARER_TOKEN?: string | undefined;
    WATSONX_AI_PROJECT_ID?: string | undefined;
    XAI_API_BASE_URL?: string | undefined;
    XAI_API_KEY?: string | undefined;
    AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
    AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
    AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
    AWS_REGION?: string | undefined;
    AWS_DEFAULT_REGION?: string | undefined;
    AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
    AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
    AWS_SAGEMAKER_TOP_P?: string | undefined;
    AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
    PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
  } | undefined;
  derivedMetrics?: {
    name: string;
    value: string | z.core.$InferOuterFunctionType<z.ZodTuple<readonly [z.ZodRecord<z.ZodString, z.ZodNumber>, z.ZodCustom<RunEvalOptions, RunEvalOptions>], null>, z.ZodNumber>;
  }[] | undefined;
  extensions?: string[] | null | undefined;
  metadata?: Record<string, any> | undefined;
  redteam?: RedteamFileConfig | undefined;
  writeLatestResults?: boolean | undefined;
  tracing?: {
    enabled: boolean;
    otlp?: {
      http?: {
        enabled: boolean;
        port: number;
        host: string;
        acceptFormats: ("json" | "protobuf")[];
      } | undefined;
      grpc?: {
        enabled: boolean;
        port: number;
      } | undefined;
    } | undefined;
    storage?: {
      type: "sqlite";
      retentionDays: number;
    } | undefined;
    forwarding?: {
      enabled: boolean;
      endpoint: string;
      headers?: Record<string, string> | undefined;
    } | undefined;
  } | undefined;
  evaluateOptions?: {
    cache?: boolean | undefined;
    delay?: number | undefined;
    eventSource?: string | undefined;
    generateSuggestions?: boolean | undefined;
    interactiveProviders?: boolean | undefined;
    maxConcurrency?: number | undefined;
    progressCallback?: ((completed: number, total: number, index: number, evalStep: RunEvalOptions, metrics: PromptMetrics) => void) | undefined;
    repeat?: number | undefined;
    showProgressBar?: boolean | undefined;
    timeoutMs?: number | undefined;
    maxEvalTimeMs?: number | undefined;
    isRedteam?: boolean | undefined;
    silent?: boolean | undefined;
  } | undefined;
  commandLineOptions?: {
    description?: string | undefined;
    prompts?: string[] | undefined;
    providers?: string[] | undefined;
    output?: string[] | undefined;
    maxConcurrency?: number | undefined;
    repeat?: number | undefined;
    delay?: number | undefined;
    vars?: string | undefined;
    tests?: string | undefined;
    config?: string[] | undefined;
    assertions?: string | undefined;
    modelOutputs?: string | undefined;
    verbose?: boolean | undefined;
    grader?: string | undefined;
    tableCellMaxLength?: number | undefined;
    write?: boolean | undefined;
    cache?: boolean | undefined;
    table?: boolean | undefined;
    share?: boolean | undefined;
    noShare?: boolean | undefined;
    progressBar?: boolean | undefined;
    watch?: boolean | undefined;
    filterErrorsOnly?: string | undefined;
    filterFailing?: string | undefined;
    filterFailingOnly?: string | undefined;
    filterFirstN?: number | undefined;
    filterMetadata?: string | string[] | undefined;
    filterPattern?: string | undefined;
    filterProviders?: string | undefined;
    filterSample?: number | undefined;
    filterTargets?: string | undefined;
    var?: Record<string, string> | undefined;
    generateSuggestions?: boolean | undefined;
    promptPrefix?: string | undefined;
    promptSuffix?: string | undefined;
    retryErrors?: boolean | undefined;
    envPath?: string | string[] | undefined;
    extension?: string[] | undefined;
  } | undefined;
  providers?: string | (CallApiFunction & {
    label?: string;
  }) | (string | (CallApiFunction & {
    label?: string;
  }) | {
    id?: string | undefined;
    label?: string | undefined;
    config?: any;
    prompts?: string[] | undefined;
    transform?: string | undefined;
    delay?: number | undefined;
    env?: {
      AI21_API_BASE_URL?: string | undefined;
      AI21_API_KEY?: string | undefined;
      AIML_API_KEY?: string | undefined;
      ANTHROPIC_API_KEY?: string | undefined;
      ANTHROPIC_BASE_URL?: string | undefined;
      AWS_BEDROCK_REGION?: string | undefined;
      AZURE_API_BASE_URL?: string | undefined;
      AZURE_API_HOST?: string | undefined;
      AZURE_API_KEY?: string | undefined;
      AZURE_AUTHORITY_HOST?: string | undefined;
      AZURE_CLIENT_ID?: string | undefined;
      AZURE_CLIENT_SECRET?: string | undefined;
      AZURE_DEPLOYMENT_NAME?: string | undefined;
      AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_API_BASE_URL?: string | undefined;
      AZURE_OPENAI_API_HOST?: string | undefined;
      AZURE_OPENAI_API_KEY?: string | undefined;
      AZURE_OPENAI_BASE_URL?: string | undefined;
      AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_TENANT_ID?: string | undefined;
      AZURE_TOKEN_SCOPE?: string | undefined;
      CLAUDE_CODE_USE_BEDROCK?: string | undefined;
      CLAUDE_CODE_USE_VERTEX?: string | undefined;
      CLOUDFLARE_ACCOUNT_ID?: string | undefined;
      CLOUDFLARE_API_KEY?: string | undefined;
      CLOUDFLARE_GATEWAY_ID?: string | undefined;
      CF_AIG_TOKEN?: string | undefined;
      COMETAPI_KEY?: string | undefined;
      COHERE_API_KEY?: string | undefined;
      COHERE_CLIENT_NAME?: string | undefined;
      DATABRICKS_TOKEN?: string | undefined;
      DATABRICKS_WORKSPACE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
      ELEVENLABS_API_KEY?: string | undefined;
      FAL_KEY?: string | undefined;
      GITHUB_TOKEN?: string | undefined;
      GOOGLE_API_HOST?: string | undefined;
      GOOGLE_API_BASE_URL?: string | undefined;
      GOOGLE_API_KEY?: string | undefined;
      GOOGLE_PROJECT_ID?: string | undefined;
      GOOGLE_LOCATION?: string | undefined;
      GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
      GEMINI_API_KEY?: string | undefined;
      GROQ_API_KEY?: string | undefined;
      HELICONE_API_KEY?: string | undefined;
      HF_API_TOKEN?: string | undefined;
      HF_TOKEN?: string | undefined;
      HYPERBOLIC_API_KEY?: string | undefined;
      HUGGING_FACE_HUB_TOKEN?: string | undefined;
      JFROG_API_KEY?: string | undefined;
      LANGFUSE_HOST?: string | undefined;
      LANGFUSE_PUBLIC_KEY?: string | undefined;
      LANGFUSE_SECRET_KEY?: string | undefined;
      LITELLM_API_BASE?: string | undefined;
      LLAMA_BASE_URL?: string | undefined;
      LOCALAI_BASE_URL?: string | undefined;
      MISTRAL_API_BASE_URL?: string | undefined;
      MISTRAL_API_HOST?: string | undefined;
      MISTRAL_API_KEY?: string | undefined;
      NSCALE_SERVICE_TOKEN?: string | undefined;
      NSCALE_API_KEY?: string | undefined;
      OLLAMA_API_KEY?: string | undefined;
      OLLAMA_BASE_URL?: string | undefined;
      OPENAI_API_BASE_URL?: string | undefined;
      OPENAI_API_HOST?: string | undefined;
      OPENAI_API_KEY?: string | undefined;
      OPENAI_BASE_URL?: string | undefined;
      OPENAI_ORGANIZATION?: string | undefined;
      CODEX_API_KEY?: string | undefined;
      PALM_API_HOST?: string | undefined;
      PALM_API_KEY?: string | undefined;
      PORTKEY_API_KEY?: string | undefined;
      PROMPTFOO_CA_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_CERT_PATH?: string | undefined;
      PROMPTFOO_JKS_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_ALIAS?: string | undefined;
      PROMPTFOO_INSECURE_SSL?: string | undefined;
      QUIVERAI_API_KEY?: string | undefined;
      REPLICATE_API_KEY?: string | undefined;
      REPLICATE_API_TOKEN?: string | undefined;
      SHAREPOINT_BASE_URL?: string | undefined;
      SHAREPOINT_CERT_PATH?: string | undefined;
      SHAREPOINT_CLIENT_ID?: string | undefined;
      SHAREPOINT_TENANT_ID?: string | undefined;
      VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
      VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
      VERTEX_API_HOST?: string | undefined;
      VERTEX_API_KEY?: string | undefined;
      VERTEX_API_VERSION?: string | undefined;
      VERTEX_PROJECT_ID?: string | undefined;
      VERTEX_PUBLISHER?: string | undefined;
      VERTEX_REGION?: string | undefined;
      VOYAGE_API_BASE_URL?: string | undefined;
      VOYAGE_API_KEY?: string | undefined;
      WATSONX_AI_APIKEY?: string | undefined;
      WATSONX_AI_AUTH_TYPE?: string | undefined;
      WATSONX_AI_BEARER_TOKEN?: string | undefined;
      WATSONX_AI_PROJECT_ID?: string | undefined;
      XAI_API_BASE_URL?: string | undefined;
      XAI_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
      AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
      AWS_REGION?: string | undefined;
      AWS_DEFAULT_REGION?: string | undefined;
      AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
      AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
      AWS_SAGEMAKER_TOP_P?: string | undefined;
      AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
      PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
    } | undefined;
    inputs?: Record<string, string> | undefined;
  } | Record<string, {
    id?: string | undefined;
    label?: string | undefined;
    config?: any;
    prompts?: string[] | undefined;
    transform?: string | undefined;
    delay?: number | undefined;
    env?: {
      AI21_API_BASE_URL?: string | undefined;
      AI21_API_KEY?: string | undefined;
      AIML_API_KEY?: string | undefined;
      ANTHROPIC_API_KEY?: string | undefined;
      ANTHROPIC_BASE_URL?: string | undefined;
      AWS_BEDROCK_REGION?: string | undefined;
      AZURE_API_BASE_URL?: string | undefined;
      AZURE_API_HOST?: string | undefined;
      AZURE_API_KEY?: string | undefined;
      AZURE_AUTHORITY_HOST?: string | undefined;
      AZURE_CLIENT_ID?: string | undefined;
      AZURE_CLIENT_SECRET?: string | undefined;
      AZURE_DEPLOYMENT_NAME?: string | undefined;
      AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_API_BASE_URL?: string | undefined;
      AZURE_OPENAI_API_HOST?: string | undefined;
      AZURE_OPENAI_API_KEY?: string | undefined;
      AZURE_OPENAI_BASE_URL?: string | undefined;
      AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_TENANT_ID?: string | undefined;
      AZURE_TOKEN_SCOPE?: string | undefined;
      CLAUDE_CODE_USE_BEDROCK?: string | undefined;
      CLAUDE_CODE_USE_VERTEX?: string | undefined;
      CLOUDFLARE_ACCOUNT_ID?: string | undefined;
      CLOUDFLARE_API_KEY?: string | undefined;
      CLOUDFLARE_GATEWAY_ID?: string | undefined;
      CF_AIG_TOKEN?: string | undefined;
      COMETAPI_KEY?: string | undefined;
      COHERE_API_KEY?: string | undefined;
      COHERE_CLIENT_NAME?: string | undefined;
      DATABRICKS_TOKEN?: string | undefined;
      DATABRICKS_WORKSPACE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
      ELEVENLABS_API_KEY?: string | undefined;
      FAL_KEY?: string | undefined;
      GITHUB_TOKEN?: string | undefined;
      GOOGLE_API_HOST?: string | undefined;
      GOOGLE_API_BASE_URL?: string | undefined;
      GOOGLE_API_KEY?: string | undefined;
      GOOGLE_PROJECT_ID?: string | undefined;
      GOOGLE_LOCATION?: string | undefined;
      GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
      GEMINI_API_KEY?: string | undefined;
      GROQ_API_KEY?: string | undefined;
      HELICONE_API_KEY?: string | undefined;
      HF_API_TOKEN?: string | undefined;
      HF_TOKEN?: string | undefined;
      HYPERBOLIC_API_KEY?: string | undefined;
      HUGGING_FACE_HUB_TOKEN?: string | undefined;
      JFROG_API_KEY?: string | undefined;
      LANGFUSE_HOST?: string | undefined;
      LANGFUSE_PUBLIC_KEY?: string | undefined;
      LANGFUSE_SECRET_KEY?: string | undefined;
      LITELLM_API_BASE?: string | undefined;
      LLAMA_BASE_URL?: string | undefined;
      LOCALAI_BASE_URL?: string | undefined;
      MISTRAL_API_BASE_URL?: string | undefined;
      MISTRAL_API_HOST?: string | undefined;
      MISTRAL_API_KEY?: string | undefined;
      NSCALE_SERVICE_TOKEN?: string | undefined;
      NSCALE_API_KEY?: string | undefined;
      OLLAMA_API_KEY?: string | undefined;
      OLLAMA_BASE_URL?: string | undefined;
      OPENAI_API_BASE_URL?: string | undefined;
      OPENAI_API_HOST?: string | undefined;
      OPENAI_API_KEY?: string | undefined;
      OPENAI_BASE_URL?: string | undefined;
      OPENAI_ORGANIZATION?: string | undefined;
      CODEX_API_KEY?: string | undefined;
      PALM_API_HOST?: string | undefined;
      PALM_API_KEY?: string | undefined;
      PORTKEY_API_KEY?: string | undefined;
      PROMPTFOO_CA_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_CERT_PATH?: string | undefined;
      PROMPTFOO_JKS_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_ALIAS?: string | undefined;
      PROMPTFOO_INSECURE_SSL?: string | undefined;
      QUIVERAI_API_KEY?: string | undefined;
      REPLICATE_API_KEY?: string | undefined;
      REPLICATE_API_TOKEN?: string | undefined;
      SHAREPOINT_BASE_URL?: string | undefined;
      SHAREPOINT_CERT_PATH?: string | undefined;
      SHAREPOINT_CLIENT_ID?: string | undefined;
      SHAREPOINT_TENANT_ID?: string | undefined;
      VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
      VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
      VERTEX_API_HOST?: string | undefined;
      VERTEX_API_KEY?: string | undefined;
      VERTEX_API_VERSION?: string | undefined;
      VERTEX_PROJECT_ID?: string | undefined;
      VERTEX_PUBLISHER?: string | undefined;
      VERTEX_REGION?: string | undefined;
      VOYAGE_API_BASE_URL?: string | undefined;
      VOYAGE_API_KEY?: string | undefined;
      WATSONX_AI_APIKEY?: string | undefined;
      WATSONX_AI_AUTH_TYPE?: string | undefined;
      WATSONX_AI_BEARER_TOKEN?: string | undefined;
      WATSONX_AI_PROJECT_ID?: string | undefined;
      XAI_API_BASE_URL?: string | undefined;
      XAI_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
      AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
      AWS_REGION?: string | undefined;
      AWS_DEFAULT_REGION?: string | undefined;
      AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
      AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
      AWS_SAGEMAKER_TOP_P?: string | undefined;
      AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
      PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
    } | undefined;
    inputs?: Record<string, string> | undefined;
  }>)[] | undefined;
  targets?: string | (CallApiFunction & {
    label?: string;
  }) | (string | (CallApiFunction & {
    label?: string;
  }) | {
    id?: string | undefined;
    label?: string | undefined;
    config?: any;
    prompts?: string[] | undefined;
    transform?: string | undefined;
    delay?: number | undefined;
    env?: {
      AI21_API_BASE_URL?: string | undefined;
      AI21_API_KEY?: string | undefined;
      AIML_API_KEY?: string | undefined;
      ANTHROPIC_API_KEY?: string | undefined;
      ANTHROPIC_BASE_URL?: string | undefined;
      AWS_BEDROCK_REGION?: string | undefined;
      AZURE_API_BASE_URL?: string | undefined;
      AZURE_API_HOST?: string | undefined;
      AZURE_API_KEY?: string | undefined;
      AZURE_AUTHORITY_HOST?: string | undefined;
      AZURE_CLIENT_ID?: string | undefined;
      AZURE_CLIENT_SECRET?: string | undefined;
      AZURE_DEPLOYMENT_NAME?: string | undefined;
      AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_API_BASE_URL?: string | undefined;
      AZURE_OPENAI_API_HOST?: string | undefined;
      AZURE_OPENAI_API_KEY?: string | undefined;
      AZURE_OPENAI_BASE_URL?: string | undefined;
      AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_TENANT_ID?: string | undefined;
      AZURE_TOKEN_SCOPE?: string | undefined;
      CLAUDE_CODE_USE_BEDROCK?: string | undefined;
      CLAUDE_CODE_USE_VERTEX?: string | undefined;
      CLOUDFLARE_ACCOUNT_ID?: string | undefined;
      CLOUDFLARE_API_KEY?: string | undefined;
      CLOUDFLARE_GATEWAY_ID?: string | undefined;
      CF_AIG_TOKEN?: string | undefined;
      COMETAPI_KEY?: string | undefined;
      COHERE_API_KEY?: string | undefined;
      COHERE_CLIENT_NAME?: string | undefined;
      DATABRICKS_TOKEN?: string | undefined;
      DATABRICKS_WORKSPACE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
      ELEVENLABS_API_KEY?: string | undefined;
      FAL_KEY?: string | undefined;
      GITHUB_TOKEN?: string | undefined;
      GOOGLE_API_HOST?: string | undefined;
      GOOGLE_API_BASE_URL?: string | undefined;
      GOOGLE_API_KEY?: string | undefined;
      GOOGLE_PROJECT_ID?: string | undefined;
      GOOGLE_LOCATION?: string | undefined;
      GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
      GEMINI_API_KEY?: string | undefined;
      GROQ_API_KEY?: string | undefined;
      HELICONE_API_KEY?: string | undefined;
      HF_API_TOKEN?: string | undefined;
      HF_TOKEN?: string | undefined;
      HYPERBOLIC_API_KEY?: string | undefined;
      HUGGING_FACE_HUB_TOKEN?: string | undefined;
      JFROG_API_KEY?: string | undefined;
      LANGFUSE_HOST?: string | undefined;
      LANGFUSE_PUBLIC_KEY?: string | undefined;
      LANGFUSE_SECRET_KEY?: string | undefined;
      LITELLM_API_BASE?: string | undefined;
      LLAMA_BASE_URL?: string | undefined;
      LOCALAI_BASE_URL?: string | undefined;
      MISTRAL_API_BASE_URL?: string | undefined;
      MISTRAL_API_HOST?: string | undefined;
      MISTRAL_API_KEY?: string | undefined;
      NSCALE_SERVICE_TOKEN?: string | undefined;
      NSCALE_API_KEY?: string | undefined;
      OLLAMA_API_KEY?: string | undefined;
      OLLAMA_BASE_URL?: string | undefined;
      OPENAI_API_BASE_URL?: string | undefined;
      OPENAI_API_HOST?: string | undefined;
      OPENAI_API_KEY?: string | undefined;
      OPENAI_BASE_URL?: string | undefined;
      OPENAI_ORGANIZATION?: string | undefined;
      CODEX_API_KEY?: string | undefined;
      PALM_API_HOST?: string | undefined;
      PALM_API_KEY?: string | undefined;
      PORTKEY_API_KEY?: string | undefined;
      PROMPTFOO_CA_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_CERT_PATH?: string | undefined;
      PROMPTFOO_JKS_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_ALIAS?: string | undefined;
      PROMPTFOO_INSECURE_SSL?: string | undefined;
      QUIVERAI_API_KEY?: string | undefined;
      REPLICATE_API_KEY?: string | undefined;
      REPLICATE_API_TOKEN?: string | undefined;
      SHAREPOINT_BASE_URL?: string | undefined;
      SHAREPOINT_CERT_PATH?: string | undefined;
      SHAREPOINT_CLIENT_ID?: string | undefined;
      SHAREPOINT_TENANT_ID?: string | undefined;
      VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
      VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
      VERTEX_API_HOST?: string | undefined;
      VERTEX_API_KEY?: string | undefined;
      VERTEX_API_VERSION?: string | undefined;
      VERTEX_PROJECT_ID?: string | undefined;
      VERTEX_PUBLISHER?: string | undefined;
      VERTEX_REGION?: string | undefined;
      VOYAGE_API_BASE_URL?: string | undefined;
      VOYAGE_API_KEY?: string | undefined;
      WATSONX_AI_APIKEY?: string | undefined;
      WATSONX_AI_AUTH_TYPE?: string | undefined;
      WATSONX_AI_BEARER_TOKEN?: string | undefined;
      WATSONX_AI_PROJECT_ID?: string | undefined;
      XAI_API_BASE_URL?: string | undefined;
      XAI_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
      AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
      AWS_REGION?: string | undefined;
      AWS_DEFAULT_REGION?: string | undefined;
      AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
      AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
      AWS_SAGEMAKER_TOP_P?: string | undefined;
      AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
      PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
    } | undefined;
    inputs?: Record<string, string> | undefined;
  } | Record<string, {
    id?: string | undefined;
    label?: string | undefined;
    config?: any;
    prompts?: string[] | undefined;
    transform?: string | undefined;
    delay?: number | undefined;
    env?: {
      AI21_API_BASE_URL?: string | undefined;
      AI21_API_KEY?: string | undefined;
      AIML_API_KEY?: string | undefined;
      ANTHROPIC_API_KEY?: string | undefined;
      ANTHROPIC_BASE_URL?: string | undefined;
      AWS_BEDROCK_REGION?: string | undefined;
      AZURE_API_BASE_URL?: string | undefined;
      AZURE_API_HOST?: string | undefined;
      AZURE_API_KEY?: string | undefined;
      AZURE_AUTHORITY_HOST?: string | undefined;
      AZURE_CLIENT_ID?: string | undefined;
      AZURE_CLIENT_SECRET?: string | undefined;
      AZURE_DEPLOYMENT_NAME?: string | undefined;
      AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_API_BASE_URL?: string | undefined;
      AZURE_OPENAI_API_HOST?: string | undefined;
      AZURE_OPENAI_API_KEY?: string | undefined;
      AZURE_OPENAI_BASE_URL?: string | undefined;
      AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_TENANT_ID?: string | undefined;
      AZURE_TOKEN_SCOPE?: string | undefined;
      CLAUDE_CODE_USE_BEDROCK?: string | undefined;
      CLAUDE_CODE_USE_VERTEX?: string | undefined;
      CLOUDFLARE_ACCOUNT_ID?: string | undefined;
      CLOUDFLARE_API_KEY?: string | undefined;
      CLOUDFLARE_GATEWAY_ID?: string | undefined;
      CF_AIG_TOKEN?: string | undefined;
      COMETAPI_KEY?: string | undefined;
      COHERE_API_KEY?: string | undefined;
      COHERE_CLIENT_NAME?: string | undefined;
      DATABRICKS_TOKEN?: string | undefined;
      DATABRICKS_WORKSPACE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
      ELEVENLABS_API_KEY?: string | undefined;
      FAL_KEY?: string | undefined;
      GITHUB_TOKEN?: string | undefined;
      GOOGLE_API_HOST?: string | undefined;
      GOOGLE_API_BASE_URL?: string | undefined;
      GOOGLE_API_KEY?: string | undefined;
      GOOGLE_PROJECT_ID?: string | undefined;
      GOOGLE_LOCATION?: string | undefined;
      GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
      GEMINI_API_KEY?: string | undefined;
      GROQ_API_KEY?: string | undefined;
      HELICONE_API_KEY?: string | undefined;
      HF_API_TOKEN?: string | undefined;
      HF_TOKEN?: string | undefined;
      HYPERBOLIC_API_KEY?: string | undefined;
      HUGGING_FACE_HUB_TOKEN?: string | undefined;
      JFROG_API_KEY?: string | undefined;
      LANGFUSE_HOST?: string | undefined;
      LANGFUSE_PUBLIC_KEY?: string | undefined;
      LANGFUSE_SECRET_KEY?: string | undefined;
      LITELLM_API_BASE?: string | undefined;
      LLAMA_BASE_URL?: string | undefined;
      LOCALAI_BASE_URL?: string | undefined;
      MISTRAL_API_BASE_URL?: string | undefined;
      MISTRAL_API_HOST?: string | undefined;
      MISTRAL_API_KEY?: string | undefined;
      NSCALE_SERVICE_TOKEN?: string | undefined;
      NSCALE_API_KEY?: string | undefined;
      OLLAMA_API_KEY?: string | undefined;
      OLLAMA_BASE_URL?: string | undefined;
      OPENAI_API_BASE_URL?: string | undefined;
      OPENAI_API_HOST?: string | undefined;
      OPENAI_API_KEY?: string | undefined;
      OPENAI_BASE_URL?: string | undefined;
      OPENAI_ORGANIZATION?: string | undefined;
      CODEX_API_KEY?: string | undefined;
      PALM_API_HOST?: string | undefined;
      PALM_API_KEY?: string | undefined;
      PORTKEY_API_KEY?: string | undefined;
      PROMPTFOO_CA_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_CERT_PATH?: string | undefined;
      PROMPTFOO_JKS_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_ALIAS?: string | undefined;
      PROMPTFOO_INSECURE_SSL?: string | undefined;
      QUIVERAI_API_KEY?: string | undefined;
      REPLICATE_API_KEY?: string | undefined;
      REPLICATE_API_TOKEN?: string | undefined;
      SHAREPOINT_BASE_URL?: string | undefined;
      SHAREPOINT_CERT_PATH?: string | undefined;
      SHAREPOINT_CLIENT_ID?: string | undefined;
      SHAREPOINT_TENANT_ID?: string | undefined;
      VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
      VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
      VERTEX_API_HOST?: string | undefined;
      VERTEX_API_KEY?: string | undefined;
      VERTEX_API_VERSION?: string | undefined;
      VERTEX_PROJECT_ID?: string | undefined;
      VERTEX_PUBLISHER?: string | undefined;
      VERTEX_REGION?: string | undefined;
      VOYAGE_API_BASE_URL?: string | undefined;
      VOYAGE_API_KEY?: string | undefined;
      WATSONX_AI_APIKEY?: string | undefined;
      WATSONX_AI_AUTH_TYPE?: string | undefined;
      WATSONX_AI_BEARER_TOKEN?: string | undefined;
      WATSONX_AI_PROJECT_ID?: string | undefined;
      XAI_API_BASE_URL?: string | undefined;
      XAI_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
      AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
      AWS_REGION?: string | undefined;
      AWS_DEFAULT_REGION?: string | undefined;
      AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
      AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
      AWS_SAGEMAKER_TOP_P?: string | undefined;
      AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
      PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
    } | undefined;
    inputs?: Record<string, string> | undefined;
  }>)[] | undefined;
}, {
  prompts: string | Record<string, string> | (string | {
    id: string;
    label?: string | undefined;
    raw?: string | undefined;
  } | {
    raw: string;
    label: string;
    id?: string | undefined;
    display?: string | undefined;
    function?: PromptFunction | undefined;
    config?: any;
  })[];
  tags?: Record<string, string> | undefined;
  description?: string | undefined;
  tests?: string | {
    path: string;
    config?: Record<string, any> | undefined;
  } | (string | {
    path: string;
    config?: Record<string, any> | undefined;
  } | {
    description?: string | undefined;
    vars?: Vars | undefined;
    provider?: string | {
      id?: string | undefined;
      label?: string | undefined;
      config?: any;
      prompts?: string[] | undefined;
      transform?: string | undefined;
      delay?: number | undefined;
      env?: {
        AI21_API_BASE_URL?: string | undefined;
        AI21_API_KEY?: string | undefined;
        AIML_API_KEY?: string | undefined;
        ANTHROPIC_API_KEY?: string | undefined;
        ANTHROPIC_BASE_URL?: string | undefined;
        AWS_BEDROCK_REGION?: string | undefined;
        AZURE_API_BASE_URL?: string | undefined;
        AZURE_API_HOST?: string | undefined;
        AZURE_API_KEY?: string | undefined;
        AZURE_AUTHORITY_HOST?: string | undefined;
        AZURE_CLIENT_ID?: string | undefined;
        AZURE_CLIENT_SECRET?: string | undefined;
        AZURE_DEPLOYMENT_NAME?: string | undefined;
        AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
        AZURE_OPENAI_API_BASE_URL?: string | undefined;
        AZURE_OPENAI_API_HOST?: string | undefined;
        AZURE_OPENAI_API_KEY?: string | undefined;
        AZURE_OPENAI_BASE_URL?: string | undefined;
        AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
        AZURE_TENANT_ID?: string | undefined;
        AZURE_TOKEN_SCOPE?: string | undefined;
        CLAUDE_CODE_USE_BEDROCK?: string | undefined;
        CLAUDE_CODE_USE_VERTEX?: string | undefined;
        CLOUDFLARE_ACCOUNT_ID?: string | undefined;
        CLOUDFLARE_API_KEY?: string | undefined;
        CLOUDFLARE_GATEWAY_ID?: string | undefined;
        CF_AIG_TOKEN?: string | undefined;
        COMETAPI_KEY?: string | undefined;
        COHERE_API_KEY?: string | undefined;
        COHERE_CLIENT_NAME?: string | undefined;
        DATABRICKS_TOKEN?: string | undefined;
        DATABRICKS_WORKSPACE_URL?: string | undefined;
        DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
        DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
        ELEVENLABS_API_KEY?: string | undefined;
        FAL_KEY?: string | undefined;
        GITHUB_TOKEN?: string | undefined;
        GOOGLE_API_HOST?: string | undefined;
        GOOGLE_API_BASE_URL?: string | undefined;
        GOOGLE_API_KEY?: string | undefined;
        GOOGLE_PROJECT_ID?: string | undefined;
        GOOGLE_LOCATION?: string | undefined;
        GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
        GEMINI_API_KEY?: string | undefined;
        GROQ_API_KEY?: string | undefined;
        HELICONE_API_KEY?: string | undefined;
        HF_API_TOKEN?: string | undefined;
        HF_TOKEN?: string | undefined;
        HYPERBOLIC_API_KEY?: string | undefined;
        HUGGING_FACE_HUB_TOKEN?: string | undefined;
        JFROG_API_KEY?: string | undefined;
        LANGFUSE_HOST?: string | undefined;
        LANGFUSE_PUBLIC_KEY?: string | undefined;
        LANGFUSE_SECRET_KEY?: string | undefined;
        LITELLM_API_BASE?: string | undefined;
        LLAMA_BASE_URL?: string | undefined;
        LOCALAI_BASE_URL?: string | undefined;
        MISTRAL_API_BASE_URL?: string | undefined;
        MISTRAL_API_HOST?: string | undefined;
        MISTRAL_API_KEY?: string | undefined;
        NSCALE_SERVICE_TOKEN?: string | undefined;
        NSCALE_API_KEY?: string | undefined;
        OLLAMA_API_KEY?: string | undefined;
        OLLAMA_BASE_URL?: string | undefined;
        OPENAI_API_BASE_URL?: string | undefined;
        OPENAI_API_HOST?: string | undefined;
        OPENAI_API_KEY?: string | undefined;
        OPENAI_BASE_URL?: string | undefined;
        OPENAI_ORGANIZATION?: string | undefined;
        CODEX_API_KEY?: string | undefined;
        PALM_API_HOST?: string | undefined;
        PALM_API_KEY?: string | undefined;
        PORTKEY_API_KEY?: string | undefined;
        PROMPTFOO_CA_CERT_PATH?: string | undefined;
        PROMPTFOO_PFX_CERT_PATH?: string | undefined;
        PROMPTFOO_PFX_PASSWORD?: string | undefined;
        PROMPTFOO_JKS_CERT_PATH?: string | undefined;
        PROMPTFOO_JKS_PASSWORD?: string | undefined;
        PROMPTFOO_JKS_ALIAS?: string | undefined;
        PROMPTFOO_INSECURE_SSL?: string | undefined;
        QUIVERAI_API_KEY?: string | undefined;
        REPLICATE_API_KEY?: string | undefined;
        REPLICATE_API_TOKEN?: string | undefined;
        SHAREPOINT_BASE_URL?: string | undefined;
        SHAREPOINT_CERT_PATH?: string | undefined;
        SHAREPOINT_CLIENT_ID?: string | undefined;
        SHAREPOINT_TENANT_ID?: string | undefined;
        VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
        VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
        VERTEX_API_HOST?: string | undefined;
        VERTEX_API_KEY?: string | undefined;
        VERTEX_API_VERSION?: string | undefined;
        VERTEX_PROJECT_ID?: string | undefined;
        VERTEX_PUBLISHER?: string | undefined;
        VERTEX_REGION?: string | undefined;
        VOYAGE_API_BASE_URL?: string | undefined;
        VOYAGE_API_KEY?: string | undefined;
        WATSONX_AI_APIKEY?: string | undefined;
        WATSONX_AI_AUTH_TYPE?: string | undefined;
        WATSONX_AI_BEARER_TOKEN?: string | undefined;
        WATSONX_AI_PROJECT_ID?: string | undefined;
        XAI_API_BASE_URL?: string | undefined;
        XAI_API_KEY?: string | undefined;
        AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
        AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
        AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
        AWS_REGION?: string | undefined;
        AWS_DEFAULT_REGION?: string | undefined;
        AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
        AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
        AWS_SAGEMAKER_TOP_P?: string | undefined;
        AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
        PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
      } | undefined;
      inputs?: Record<string, string> | undefined;
    } | {
      id: () => string;
      callApi: CallApiFunction;
      callEmbeddingApi?: ((prompt: string) => Promise<ProviderEmbeddingResponse>) | undefined;
      callClassificationApi?: ((prompt: string) => Promise<ProviderClassificationResponse>) | undefined;
      label?: string | undefined;
      transform?: string | undefined;
      delay?: number | undefined;
      config?: any;
      inputs?: Record<string, string> | undefined;
    } | undefined;
    providers?: string[] | undefined;
    prompts?: string[] | undefined;
    providerOutput?: string | Record<string, unknown> | undefined;
    assert?: ({
      type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
      value?: AssertionValue | undefined;
      config?: Record<string, any> | undefined;
      threshold?: number | undefined;
      weight?: number | undefined;
      provider?: any;
      rubricPrompt?: string | string[] | {
        role: string;
        content: string;
      }[] | undefined;
      metric?: string | undefined;
      transform?: string | undefined;
      contextTransform?: string | undefined;
    } | {
      type: "assert-set";
      assert: {
        type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
        value?: AssertionValue | undefined;
        config?: Record<string, any> | undefined;
        threshold?: number | undefined;
        weight?: number | undefined;
        provider?: any;
        rubricPrompt?: string | string[] | {
          role: string;
          content: string;
        }[] | undefined;
        metric?: string | undefined;
        transform?: string | undefined;
        contextTransform?: string | undefined;
      }[];
      weight?: number | undefined;
      metric?: string | undefined;
      threshold?: number | undefined;
      config?: Record<string, any> | undefined;
    })[] | undefined;
    assertScoringFunction?: string | ScoringFunction | undefined;
    options?: {
      [x: string]: any;
      disableVarExpansion?: boolean | undefined;
      disableConversationVar?: boolean | undefined;
      runSerially?: boolean | undefined;
      rubricPrompt?: string | string[] | {
        role: string;
        content: string;
      }[] | undefined;
      provider?: any;
      factuality?: {
        subset?: number | undefined;
        superset?: number | undefined;
        agree?: number | undefined;
        disagree?: number | undefined;
        differButFactual?: number | undefined;
      } | undefined;
      postprocess?: string | undefined;
      transform?: string | undefined;
      transformVars?: string | undefined;
      storeOutputAs?: string | undefined;
      prefix?: string | undefined;
      suffix?: string | undefined;
    } | undefined;
    threshold?: number | undefined;
    metadata?: {
      [x: string]: any;
      pluginConfig?: {
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      } | undefined;
      strategyConfig?: {
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      } | undefined;
    } | undefined;
  })[] | undefined;
  scenarios?: (string | {
    config: {
      description?: string | undefined;
      vars?: Vars | undefined;
      provider?: string | {
        id?: string | undefined;
        label?: string | undefined;
        config?: any;
        prompts?: string[] | undefined;
        transform?: string | undefined;
        delay?: number | undefined;
        env?: {
          AI21_API_BASE_URL?: string | undefined;
          AI21_API_KEY?: string | undefined;
          AIML_API_KEY?: string | undefined;
          ANTHROPIC_API_KEY?: string | undefined;
          ANTHROPIC_BASE_URL?: string | undefined;
          AWS_BEDROCK_REGION?: string | undefined;
          AZURE_API_BASE_URL?: string | undefined;
          AZURE_API_HOST?: string | undefined;
          AZURE_API_KEY?: string | undefined;
          AZURE_AUTHORITY_HOST?: string | undefined;
          AZURE_CLIENT_ID?: string | undefined;
          AZURE_CLIENT_SECRET?: string | undefined;
          AZURE_DEPLOYMENT_NAME?: string | undefined;
          AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
          AZURE_OPENAI_API_BASE_URL?: string | undefined;
          AZURE_OPENAI_API_HOST?: string | undefined;
          AZURE_OPENAI_API_KEY?: string | undefined;
          AZURE_OPENAI_BASE_URL?: string | undefined;
          AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
          AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
          AZURE_TENANT_ID?: string | undefined;
          AZURE_TOKEN_SCOPE?: string | undefined;
          CLAUDE_CODE_USE_BEDROCK?: string | undefined;
          CLAUDE_CODE_USE_VERTEX?: string | undefined;
          CLOUDFLARE_ACCOUNT_ID?: string | undefined;
          CLOUDFLARE_API_KEY?: string | undefined;
          CLOUDFLARE_GATEWAY_ID?: string | undefined;
          CF_AIG_TOKEN?: string | undefined;
          COMETAPI_KEY?: string | undefined;
          COHERE_API_KEY?: string | undefined;
          COHERE_CLIENT_NAME?: string | undefined;
          DATABRICKS_TOKEN?: string | undefined;
          DATABRICKS_WORKSPACE_URL?: string | undefined;
          DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
          DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
          ELEVENLABS_API_KEY?: string | undefined;
          FAL_KEY?: string | undefined;
          GITHUB_TOKEN?: string | undefined;
          GOOGLE_API_HOST?: string | undefined;
          GOOGLE_API_BASE_URL?: string | undefined;
          GOOGLE_API_KEY?: string | undefined;
          GOOGLE_PROJECT_ID?: string | undefined;
          GOOGLE_LOCATION?: string | undefined;
          GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
          GEMINI_API_KEY?: string | undefined;
          GROQ_API_KEY?: string | undefined;
          HELICONE_API_KEY?: string | undefined;
          HF_API_TOKEN?: string | undefined;
          HF_TOKEN?: string | undefined;
          HYPERBOLIC_API_KEY?: string | undefined;
          HUGGING_FACE_HUB_TOKEN?: string | undefined;
          JFROG_API_KEY?: string | undefined;
          LANGFUSE_HOST?: string | undefined;
          LANGFUSE_PUBLIC_KEY?: string | undefined;
          LANGFUSE_SECRET_KEY?: string | undefined;
          LITELLM_API_BASE?: string | undefined;
          LLAMA_BASE_URL?: string | undefined;
          LOCALAI_BASE_URL?: string | undefined;
          MISTRAL_API_BASE_URL?: string | undefined;
          MISTRAL_API_HOST?: string | undefined;
          MISTRAL_API_KEY?: string | undefined;
          NSCALE_SERVICE_TOKEN?: string | undefined;
          NSCALE_API_KEY?: string | undefined;
          OLLAMA_API_KEY?: string | undefined;
          OLLAMA_BASE_URL?: string | undefined;
          OPENAI_API_BASE_URL?: string | undefined;
          OPENAI_API_HOST?: string | undefined;
          OPENAI_API_KEY?: string | undefined;
          OPENAI_BASE_URL?: string | undefined;
          OPENAI_ORGANIZATION?: string | undefined;
          CODEX_API_KEY?: string | undefined;
          PALM_API_HOST?: string | undefined;
          PALM_API_KEY?: string | undefined;
          PORTKEY_API_KEY?: string | undefined;
          PROMPTFOO_CA_CERT_PATH?: string | undefined;
          PROMPTFOO_PFX_CERT_PATH?: string | undefined;
          PROMPTFOO_PFX_PASSWORD?: string | undefined;
          PROMPTFOO_JKS_CERT_PATH?: string | undefined;
          PROMPTFOO_JKS_PASSWORD?: string | undefined;
          PROMPTFOO_JKS_ALIAS?: string | undefined;
          PROMPTFOO_INSECURE_SSL?: string | undefined;
          QUIVERAI_API_KEY?: string | undefined;
          REPLICATE_API_KEY?: string | undefined;
          REPLICATE_API_TOKEN?: string | undefined;
          SHAREPOINT_BASE_URL?: string | undefined;
          SHAREPOINT_CERT_PATH?: string | undefined;
          SHAREPOINT_CLIENT_ID?: string | undefined;
          SHAREPOINT_TENANT_ID?: string | undefined;
          VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
          VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
          VERTEX_API_HOST?: string | undefined;
          VERTEX_API_KEY?: string | undefined;
          VERTEX_API_VERSION?: string | undefined;
          VERTEX_PROJECT_ID?: string | undefined;
          VERTEX_PUBLISHER?: string | undefined;
          VERTEX_REGION?: string | undefined;
          VOYAGE_API_BASE_URL?: string | undefined;
          VOYAGE_API_KEY?: string | undefined;
          WATSONX_AI_APIKEY?: string | undefined;
          WATSONX_AI_AUTH_TYPE?: string | undefined;
          WATSONX_AI_BEARER_TOKEN?: string | undefined;
          WATSONX_AI_PROJECT_ID?: string | undefined;
          XAI_API_BASE_URL?: string | undefined;
          XAI_API_KEY?: string | undefined;
          AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
          AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
          AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
          AWS_REGION?: string | undefined;
          AWS_DEFAULT_REGION?: string | undefined;
          AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
          AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
          AWS_SAGEMAKER_TOP_P?: string | undefined;
          AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
          PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
        } | undefined;
        inputs?: Record<string, string> | undefined;
      } | {
        id: () => string;
        callApi: CallApiFunction;
        callEmbeddingApi?: ((prompt: string) => Promise<ProviderEmbeddingResponse>) | undefined;
        callClassificationApi?: ((prompt: string) => Promise<ProviderClassificationResponse>) | undefined;
        label?: string | undefined;
        transform?: string | undefined;
        delay?: number | undefined;
        config?: any;
        inputs?: Record<string, string> | undefined;
      } | undefined;
      providers?: string[] | undefined;
      prompts?: string[] | undefined;
      providerOutput?: string | Record<string, unknown> | undefined;
      assert?: ({
        type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
        value?: AssertionValue | undefined;
        config?: Record<string, any> | undefined;
        threshold?: number | undefined;
        weight?: number | undefined;
        provider?: any;
        rubricPrompt?: string | string[] | {
          role: string;
          content: string;
        }[] | undefined;
        metric?: string | undefined;
        transform?: string | undefined;
        contextTransform?: string | undefined;
      } | {
        type: "assert-set";
        assert: {
          type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
          value?: AssertionValue | undefined;
          config?: Record<string, any> | undefined;
          threshold?: number | undefined;
          weight?: number | undefined;
          provider?: any;
          rubricPrompt?: string | string[] | {
            role: string;
            content: string;
          }[] | undefined;
          metric?: string | undefined;
          transform?: string | undefined;
          contextTransform?: string | undefined;
        }[];
        weight?: number | undefined;
        metric?: string | undefined;
        threshold?: number | undefined;
        config?: Record<string, any> | undefined;
      })[] | undefined;
      assertScoringFunction?: string | ScoringFunction | undefined;
      options?: {
        [x: string]: any;
        disableVarExpansion?: boolean | undefined;
        disableConversationVar?: boolean | undefined;
        runSerially?: boolean | undefined;
        rubricPrompt?: string | string[] | {
          role: string;
          content: string;
        }[] | undefined;
        provider?: any;
        factuality?: {
          subset?: number | undefined;
          superset?: number | undefined;
          agree?: number | undefined;
          disagree?: number | undefined;
          differButFactual?: number | undefined;
        } | undefined;
        postprocess?: string | undefined;
        transform?: string | undefined;
        transformVars?: string | undefined;
        storeOutputAs?: string | undefined;
        prefix?: string | undefined;
        suffix?: string | undefined;
      } | undefined;
      threshold?: number | undefined;
      metadata?: {
        [x: string]: any;
        pluginConfig?: {
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        } | undefined;
        strategyConfig?: {
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        } | undefined;
      } | undefined;
    }[];
    tests: {
      description?: string | undefined;
      vars?: Vars | undefined;
      provider?: string | {
        id?: string | undefined;
        label?: string | undefined;
        config?: any;
        prompts?: string[] | undefined;
        transform?: string | undefined;
        delay?: number | undefined;
        env?: {
          AI21_API_BASE_URL?: string | undefined;
          AI21_API_KEY?: string | undefined;
          AIML_API_KEY?: string | undefined;
          ANTHROPIC_API_KEY?: string | undefined;
          ANTHROPIC_BASE_URL?: string | undefined;
          AWS_BEDROCK_REGION?: string | undefined;
          AZURE_API_BASE_URL?: string | undefined;
          AZURE_API_HOST?: string | undefined;
          AZURE_API_KEY?: string | undefined;
          AZURE_AUTHORITY_HOST?: string | undefined;
          AZURE_CLIENT_ID?: string | undefined;
          AZURE_CLIENT_SECRET?: string | undefined;
          AZURE_DEPLOYMENT_NAME?: string | undefined;
          AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
          AZURE_OPENAI_API_BASE_URL?: string | undefined;
          AZURE_OPENAI_API_HOST?: string | undefined;
          AZURE_OPENAI_API_KEY?: string | undefined;
          AZURE_OPENAI_BASE_URL?: string | undefined;
          AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
          AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
          AZURE_TENANT_ID?: string | undefined;
          AZURE_TOKEN_SCOPE?: string | undefined;
          CLAUDE_CODE_USE_BEDROCK?: string | undefined;
          CLAUDE_CODE_USE_VERTEX?: string | undefined;
          CLOUDFLARE_ACCOUNT_ID?: string | undefined;
          CLOUDFLARE_API_KEY?: string | undefined;
          CLOUDFLARE_GATEWAY_ID?: string | undefined;
          CF_AIG_TOKEN?: string | undefined;
          COMETAPI_KEY?: string | undefined;
          COHERE_API_KEY?: string | undefined;
          COHERE_CLIENT_NAME?: string | undefined;
          DATABRICKS_TOKEN?: string | undefined;
          DATABRICKS_WORKSPACE_URL?: string | undefined;
          DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
          DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
          ELEVENLABS_API_KEY?: string | undefined;
          FAL_KEY?: string | undefined;
          GITHUB_TOKEN?: string | undefined;
          GOOGLE_API_HOST?: string | undefined;
          GOOGLE_API_BASE_URL?: string | undefined;
          GOOGLE_API_KEY?: string | undefined;
          GOOGLE_PROJECT_ID?: string | undefined;
          GOOGLE_LOCATION?: string | undefined;
          GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
          GEMINI_API_KEY?: string | undefined;
          GROQ_API_KEY?: string | undefined;
          HELICONE_API_KEY?: string | undefined;
          HF_API_TOKEN?: string | undefined;
          HF_TOKEN?: string | undefined;
          HYPERBOLIC_API_KEY?: string | undefined;
          HUGGING_FACE_HUB_TOKEN?: string | undefined;
          JFROG_API_KEY?: string | undefined;
          LANGFUSE_HOST?: string | undefined;
          LANGFUSE_PUBLIC_KEY?: string | undefined;
          LANGFUSE_SECRET_KEY?: string | undefined;
          LITELLM_API_BASE?: string | undefined;
          LLAMA_BASE_URL?: string | undefined;
          LOCALAI_BASE_URL?: string | undefined;
          MISTRAL_API_BASE_URL?: string | undefined;
          MISTRAL_API_HOST?: string | undefined;
          MISTRAL_API_KEY?: string | undefined;
          NSCALE_SERVICE_TOKEN?: string | undefined;
          NSCALE_API_KEY?: string | undefined;
          OLLAMA_API_KEY?: string | undefined;
          OLLAMA_BASE_URL?: string | undefined;
          OPENAI_API_BASE_URL?: string | undefined;
          OPENAI_API_HOST?: string | undefined;
          OPENAI_API_KEY?: string | undefined;
          OPENAI_BASE_URL?: string | undefined;
          OPENAI_ORGANIZATION?: string | undefined;
          CODEX_API_KEY?: string | undefined;
          PALM_API_HOST?: string | undefined;
          PALM_API_KEY?: string | undefined;
          PORTKEY_API_KEY?: string | undefined;
          PROMPTFOO_CA_CERT_PATH?: string | undefined;
          PROMPTFOO_PFX_CERT_PATH?: string | undefined;
          PROMPTFOO_PFX_PASSWORD?: string | undefined;
          PROMPTFOO_JKS_CERT_PATH?: string | undefined;
          PROMPTFOO_JKS_PASSWORD?: string | undefined;
          PROMPTFOO_JKS_ALIAS?: string | undefined;
          PROMPTFOO_INSECURE_SSL?: string | undefined;
          QUIVERAI_API_KEY?: string | undefined;
          REPLICATE_API_KEY?: string | undefined;
          REPLICATE_API_TOKEN?: string | undefined;
          SHAREPOINT_BASE_URL?: string | undefined;
          SHAREPOINT_CERT_PATH?: string | undefined;
          SHAREPOINT_CLIENT_ID?: string | undefined;
          SHAREPOINT_TENANT_ID?: string | undefined;
          VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
          VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
          VERTEX_API_HOST?: string | undefined;
          VERTEX_API_KEY?: string | undefined;
          VERTEX_API_VERSION?: string | undefined;
          VERTEX_PROJECT_ID?: string | undefined;
          VERTEX_PUBLISHER?: string | undefined;
          VERTEX_REGION?: string | undefined;
          VOYAGE_API_BASE_URL?: string | undefined;
          VOYAGE_API_KEY?: string | undefined;
          WATSONX_AI_APIKEY?: string | undefined;
          WATSONX_AI_AUTH_TYPE?: string | undefined;
          WATSONX_AI_BEARER_TOKEN?: string | undefined;
          WATSONX_AI_PROJECT_ID?: string | undefined;
          XAI_API_BASE_URL?: string | undefined;
          XAI_API_KEY?: string | undefined;
          AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
          AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
          AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
          AWS_REGION?: string | undefined;
          AWS_DEFAULT_REGION?: string | undefined;
          AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
          AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
          AWS_SAGEMAKER_TOP_P?: string | undefined;
          AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
          PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
        } | undefined;
        inputs?: Record<string, string> | undefined;
      } | {
        id: () => string;
        callApi: CallApiFunction;
        callEmbeddingApi?: ((prompt: string) => Promise<ProviderEmbeddingResponse>) | undefined;
        callClassificationApi?: ((prompt: string) => Promise<ProviderClassificationResponse>) | undefined;
        label?: string | undefined;
        transform?: string | undefined;
        delay?: number | undefined;
        config?: any;
        inputs?: Record<string, string> | undefined;
      } | undefined;
      providers?: string[] | undefined;
      prompts?: string[] | undefined;
      providerOutput?: string | Record<string, unknown> | undefined;
      assert?: ({
        type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
        value?: AssertionValue | undefined;
        config?: Record<string, any> | undefined;
        threshold?: number | undefined;
        weight?: number | undefined;
        provider?: any;
        rubricPrompt?: string | string[] | {
          role: string;
          content: string;
        }[] | undefined;
        metric?: string | undefined;
        transform?: string | undefined;
        contextTransform?: string | undefined;
      } | {
        type: "assert-set";
        assert: {
          type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
          value?: AssertionValue | undefined;
          config?: Record<string, any> | undefined;
          threshold?: number | undefined;
          weight?: number | undefined;
          provider?: any;
          rubricPrompt?: string | string[] | {
            role: string;
            content: string;
          }[] | undefined;
          metric?: string | undefined;
          transform?: string | undefined;
          contextTransform?: string | undefined;
        }[];
        weight?: number | undefined;
        metric?: string | undefined;
        threshold?: number | undefined;
        config?: Record<string, any> | undefined;
      })[] | undefined;
      assertScoringFunction?: string | ScoringFunction | undefined;
      options?: {
        [x: string]: any;
        disableVarExpansion?: boolean | undefined;
        disableConversationVar?: boolean | undefined;
        runSerially?: boolean | undefined;
        rubricPrompt?: string | string[] | {
          role: string;
          content: string;
        }[] | undefined;
        provider?: any;
        factuality?: {
          subset?: number | undefined;
          superset?: number | undefined;
          agree?: number | undefined;
          disagree?: number | undefined;
          differButFactual?: number | undefined;
        } | undefined;
        postprocess?: string | undefined;
        transform?: string | undefined;
        transformVars?: string | undefined;
        storeOutputAs?: string | undefined;
        prefix?: string | undefined;
        suffix?: string | undefined;
      } | undefined;
      threshold?: number | undefined;
      metadata?: {
        [x: string]: any;
        pluginConfig?: {
          examples?: string[] | undefined;
          graderExamples?: {
            output: string;
            pass: boolean;
            score: number;
            reason: string;
          }[] | undefined;
          graderGuidance?: string | undefined;
          severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
          language?: string | string[] | undefined;
          prompt?: string | undefined;
          purpose?: string | undefined;
          modifiers?: Record<string, unknown> | undefined;
          targetIdentifiers?: string[] | undefined;
          targetSystems?: string[] | undefined;
          mentions?: boolean | undefined;
          targetUrls?: string[] | undefined;
          ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
          name?: string | undefined;
          multilingual?: boolean | undefined;
          indirectInjectionVar?: string | undefined;
          intent?: string | (string | string[])[] | undefined;
          policy?: string | {
            id: string;
            text?: string | undefined;
            name?: string | undefined;
          } | undefined;
          systemPrompt?: string | undefined;
          excludeStrategies?: string[] | undefined;
          inputs?: Record<string, string> | undefined;
          __nonce?: number | undefined;
        } | undefined;
        strategyConfig?: {
          [x: string]: unknown;
          enabled?: boolean | undefined;
          plugins?: string[] | undefined;
          numTests?: number | undefined;
        } | undefined;
      } | undefined;
    }[];
    description?: string | undefined;
  })[] | undefined;
  defaultTest?: string | {
    providers?: string[] | undefined;
    prompts?: string[] | undefined;
    vars?: Vars | undefined;
    provider?: string | {
      id?: string | undefined;
      label?: string | undefined;
      config?: any;
      prompts?: string[] | undefined;
      transform?: string | undefined;
      delay?: number | undefined;
      env?: {
        AI21_API_BASE_URL?: string | undefined;
        AI21_API_KEY?: string | undefined;
        AIML_API_KEY?: string | undefined;
        ANTHROPIC_API_KEY?: string | undefined;
        ANTHROPIC_BASE_URL?: string | undefined;
        AWS_BEDROCK_REGION?: string | undefined;
        AZURE_API_BASE_URL?: string | undefined;
        AZURE_API_HOST?: string | undefined;
        AZURE_API_KEY?: string | undefined;
        AZURE_AUTHORITY_HOST?: string | undefined;
        AZURE_CLIENT_ID?: string | undefined;
        AZURE_CLIENT_SECRET?: string | undefined;
        AZURE_DEPLOYMENT_NAME?: string | undefined;
        AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
        AZURE_OPENAI_API_BASE_URL?: string | undefined;
        AZURE_OPENAI_API_HOST?: string | undefined;
        AZURE_OPENAI_API_KEY?: string | undefined;
        AZURE_OPENAI_BASE_URL?: string | undefined;
        AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
        AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
        AZURE_TENANT_ID?: string | undefined;
        AZURE_TOKEN_SCOPE?: string | undefined;
        CLAUDE_CODE_USE_BEDROCK?: string | undefined;
        CLAUDE_CODE_USE_VERTEX?: string | undefined;
        CLOUDFLARE_ACCOUNT_ID?: string | undefined;
        CLOUDFLARE_API_KEY?: string | undefined;
        CLOUDFLARE_GATEWAY_ID?: string | undefined;
        CF_AIG_TOKEN?: string | undefined;
        COMETAPI_KEY?: string | undefined;
        COHERE_API_KEY?: string | undefined;
        COHERE_CLIENT_NAME?: string | undefined;
        DATABRICKS_TOKEN?: string | undefined;
        DATABRICKS_WORKSPACE_URL?: string | undefined;
        DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
        DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
        ELEVENLABS_API_KEY?: string | undefined;
        FAL_KEY?: string | undefined;
        GITHUB_TOKEN?: string | undefined;
        GOOGLE_API_HOST?: string | undefined;
        GOOGLE_API_BASE_URL?: string | undefined;
        GOOGLE_API_KEY?: string | undefined;
        GOOGLE_PROJECT_ID?: string | undefined;
        GOOGLE_LOCATION?: string | undefined;
        GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
        GEMINI_API_KEY?: string | undefined;
        GROQ_API_KEY?: string | undefined;
        HELICONE_API_KEY?: string | undefined;
        HF_API_TOKEN?: string | undefined;
        HF_TOKEN?: string | undefined;
        HYPERBOLIC_API_KEY?: string | undefined;
        HUGGING_FACE_HUB_TOKEN?: string | undefined;
        JFROG_API_KEY?: string | undefined;
        LANGFUSE_HOST?: string | undefined;
        LANGFUSE_PUBLIC_KEY?: string | undefined;
        LANGFUSE_SECRET_KEY?: string | undefined;
        LITELLM_API_BASE?: string | undefined;
        LLAMA_BASE_URL?: string | undefined;
        LOCALAI_BASE_URL?: string | undefined;
        MISTRAL_API_BASE_URL?: string | undefined;
        MISTRAL_API_HOST?: string | undefined;
        MISTRAL_API_KEY?: string | undefined;
        NSCALE_SERVICE_TOKEN?: string | undefined;
        NSCALE_API_KEY?: string | undefined;
        OLLAMA_API_KEY?: string | undefined;
        OLLAMA_BASE_URL?: string | undefined;
        OPENAI_API_BASE_URL?: string | undefined;
        OPENAI_API_HOST?: string | undefined;
        OPENAI_API_KEY?: string | undefined;
        OPENAI_BASE_URL?: string | undefined;
        OPENAI_ORGANIZATION?: string | undefined;
        CODEX_API_KEY?: string | undefined;
        PALM_API_HOST?: string | undefined;
        PALM_API_KEY?: string | undefined;
        PORTKEY_API_KEY?: string | undefined;
        PROMPTFOO_CA_CERT_PATH?: string | undefined;
        PROMPTFOO_PFX_CERT_PATH?: string | undefined;
        PROMPTFOO_PFX_PASSWORD?: string | undefined;
        PROMPTFOO_JKS_CERT_PATH?: string | undefined;
        PROMPTFOO_JKS_PASSWORD?: string | undefined;
        PROMPTFOO_JKS_ALIAS?: string | undefined;
        PROMPTFOO_INSECURE_SSL?: string | undefined;
        QUIVERAI_API_KEY?: string | undefined;
        REPLICATE_API_KEY?: string | undefined;
        REPLICATE_API_TOKEN?: string | undefined;
        SHAREPOINT_BASE_URL?: string | undefined;
        SHAREPOINT_CERT_PATH?: string | undefined;
        SHAREPOINT_CLIENT_ID?: string | undefined;
        SHAREPOINT_TENANT_ID?: string | undefined;
        VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
        VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
        VERTEX_API_HOST?: string | undefined;
        VERTEX_API_KEY?: string | undefined;
        VERTEX_API_VERSION?: string | undefined;
        VERTEX_PROJECT_ID?: string | undefined;
        VERTEX_PUBLISHER?: string | undefined;
        VERTEX_REGION?: string | undefined;
        VOYAGE_API_BASE_URL?: string | undefined;
        VOYAGE_API_KEY?: string | undefined;
        WATSONX_AI_APIKEY?: string | undefined;
        WATSONX_AI_AUTH_TYPE?: string | undefined;
        WATSONX_AI_BEARER_TOKEN?: string | undefined;
        WATSONX_AI_PROJECT_ID?: string | undefined;
        XAI_API_BASE_URL?: string | undefined;
        XAI_API_KEY?: string | undefined;
        AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
        AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
        AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
        AWS_REGION?: string | undefined;
        AWS_DEFAULT_REGION?: string | undefined;
        AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
        AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
        AWS_SAGEMAKER_TOP_P?: string | undefined;
        AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
        PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
      } | undefined;
      inputs?: Record<string, string> | undefined;
    } | {
      id: () => string;
      callApi: CallApiFunction;
      callEmbeddingApi?: ((prompt: string) => Promise<ProviderEmbeddingResponse>) | undefined;
      callClassificationApi?: ((prompt: string) => Promise<ProviderClassificationResponse>) | undefined;
      label?: string | undefined;
      transform?: string | undefined;
      delay?: number | undefined;
      config?: any;
      inputs?: Record<string, string> | undefined;
    } | undefined;
    providerOutput?: string | Record<string, unknown> | undefined;
    assert?: ({
      type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
      value?: AssertionValue | undefined;
      config?: Record<string, any> | undefined;
      threshold?: number | undefined;
      weight?: number | undefined;
      provider?: any;
      rubricPrompt?: string | string[] | {
        role: string;
        content: string;
      }[] | undefined;
      metric?: string | undefined;
      transform?: string | undefined;
      contextTransform?: string | undefined;
    } | {
      type: "assert-set";
      assert: {
        type: `promptfoo:redteam:${string}` | "answer-relevance" | "bleu" | "classifier" | "contains" | "contains-all" | "contains-any" | "contains-html" | "contains-json" | "contains-sql" | "contains-xml" | "context-faithfulness" | "context-recall" | "context-relevance" | "conversation-relevance" | "cost" | "equals" | "factuality" | "finish-reason" | "g-eval" | "gleu" | "guardrails" | "icontains" | "icontains-all" | "icontains-any" | "is-html" | "is-json" | "is-refusal" | "is-sql" | "is-valid-function-call" | "is-valid-openai-function-call" | "is-valid-openai-tools-call" | "is-xml" | "javascript" | "latency" | "levenshtein" | "llm-rubric" | "pi" | "meteor" | "model-graded-closedqa" | "model-graded-factuality" | "moderation" | "perplexity" | "perplexity-score" | "python" | "regex" | "rouge-n" | "ruby" | "similar" | "similar:cosine" | "similar:dot" | "similar:euclidean" | "starts-with" | "tool-call-f1" | "trace-error-spans" | "trace-span-count" | "trace-span-duration" | "search-rubric" | "webhook" | "word-count" | "not-answer-relevance" | "not-bleu" | "not-classifier" | "not-contains" | "not-contains-all" | "not-contains-any" | "not-contains-html" | "not-contains-json" | "not-contains-sql" | "not-contains-xml" | "not-context-faithfulness" | "not-context-recall" | "not-context-relevance" | "not-conversation-relevance" | "not-cost" | "not-equals" | "not-factuality" | "not-finish-reason" | "not-g-eval" | "not-gleu" | "not-guardrails" | "not-icontains" | "not-icontains-all" | "not-icontains-any" | "not-is-html" | "not-is-json" | "not-is-refusal" | "not-is-sql" | "not-is-valid-function-call" | "not-is-valid-openai-function-call" | "not-is-valid-openai-tools-call" | "not-is-xml" | "not-javascript" | "not-latency" | "not-levenshtein" | "not-llm-rubric" | "not-pi" | "not-meteor" | "not-model-graded-closedqa" | "not-model-graded-factuality" | "not-moderation" | "not-perplexity" | "not-perplexity-score" | "not-python" | "not-regex" | "not-rouge-n" | "not-ruby" | "not-similar" | "not-similar:cosine" | "not-similar:dot" | "not-similar:euclidean" | "not-starts-with" | "not-tool-call-f1" | "not-trace-error-spans" | "not-trace-span-count" | "not-trace-span-duration" | "not-search-rubric" | "not-webhook" | "not-word-count" | "select-best" | "human" | "max-score";
        value?: AssertionValue | undefined;
        config?: Record<string, any> | undefined;
        threshold?: number | undefined;
        weight?: number | undefined;
        provider?: any;
        rubricPrompt?: string | string[] | {
          role: string;
          content: string;
        }[] | undefined;
        metric?: string | undefined;
        transform?: string | undefined;
        contextTransform?: string | undefined;
      }[];
      weight?: number | undefined;
      metric?: string | undefined;
      threshold?: number | undefined;
      config?: Record<string, any> | undefined;
    })[] | undefined;
    threshold?: number | undefined;
    assertScoringFunction?: string | ScoringFunction | undefined;
    options?: {
      [x: string]: any;
      disableVarExpansion?: boolean | undefined;
      disableConversationVar?: boolean | undefined;
      runSerially?: boolean | undefined;
      rubricPrompt?: string | string[] | {
        role: string;
        content: string;
      }[] | undefined;
      provider?: any;
      factuality?: {
        subset?: number | undefined;
        superset?: number | undefined;
        agree?: number | undefined;
        disagree?: number | undefined;
        differButFactual?: number | undefined;
      } | undefined;
      postprocess?: string | undefined;
      transform?: string | undefined;
      transformVars?: string | undefined;
      storeOutputAs?: string | undefined;
      prefix?: string | undefined;
      suffix?: string | undefined;
    } | undefined;
    metadata?: {
      [x: string]: any;
      pluginConfig?: {
        examples?: string[] | undefined;
        graderExamples?: {
          output: string;
          pass: boolean;
          score: number;
          reason: string;
        }[] | undefined;
        graderGuidance?: string | undefined;
        severity?: "critical" | "high" | "medium" | "low" | "informational" | undefined;
        language?: string | string[] | undefined;
        prompt?: string | undefined;
        purpose?: string | undefined;
        modifiers?: Record<string, unknown> | undefined;
        targetIdentifiers?: string[] | undefined;
        targetSystems?: string[] | undefined;
        mentions?: boolean | undefined;
        targetUrls?: string[] | undefined;
        ssrfFailThreshold?: "critical" | "high" | "medium" | "low" | undefined;
        name?: string | undefined;
        multilingual?: boolean | undefined;
        indirectInjectionVar?: string | undefined;
        intent?: string | (string | string[])[] | undefined;
        policy?: string | {
          id: string;
          text?: string | undefined;
          name?: string | undefined;
        } | undefined;
        systemPrompt?: string | undefined;
        excludeStrategies?: string[] | undefined;
        inputs?: Record<string, string> | undefined;
        __nonce?: number | undefined;
      } | undefined;
      strategyConfig?: {
        [x: string]: unknown;
        enabled?: boolean | undefined;
        plugins?: string[] | undefined;
        numTests?: number | undefined;
      } | undefined;
    } | undefined;
  } | undefined;
  outputPath?: string | string[] | undefined;
  sharing?: boolean | {
    apiBaseUrl?: string | undefined;
    appBaseUrl?: string | undefined;
  } | undefined;
  nunjucksFilters?: Record<string, string> | undefined;
  env?: Record<string, string> | {
    AI21_API_BASE_URL?: string | undefined;
    AI21_API_KEY?: string | undefined;
    AIML_API_KEY?: string | undefined;
    ANTHROPIC_API_KEY?: string | undefined;
    ANTHROPIC_BASE_URL?: string | undefined;
    AWS_BEDROCK_REGION?: string | undefined;
    AZURE_API_BASE_URL?: string | undefined;
    AZURE_API_HOST?: string | undefined;
    AZURE_API_KEY?: string | undefined;
    AZURE_AUTHORITY_HOST?: string | undefined;
    AZURE_CLIENT_ID?: string | undefined;
    AZURE_CLIENT_SECRET?: string | undefined;
    AZURE_DEPLOYMENT_NAME?: string | undefined;
    AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
    AZURE_OPENAI_API_BASE_URL?: string | undefined;
    AZURE_OPENAI_API_HOST?: string | undefined;
    AZURE_OPENAI_API_KEY?: string | undefined;
    AZURE_OPENAI_BASE_URL?: string | undefined;
    AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
    AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
    AZURE_TENANT_ID?: string | undefined;
    AZURE_TOKEN_SCOPE?: string | undefined;
    CLAUDE_CODE_USE_BEDROCK?: string | undefined;
    CLAUDE_CODE_USE_VERTEX?: string | undefined;
    CLOUDFLARE_ACCOUNT_ID?: string | undefined;
    CLOUDFLARE_API_KEY?: string | undefined;
    CLOUDFLARE_GATEWAY_ID?: string | undefined;
    CF_AIG_TOKEN?: string | undefined;
    COMETAPI_KEY?: string | undefined;
    COHERE_API_KEY?: string | undefined;
    COHERE_CLIENT_NAME?: string | undefined;
    DATABRICKS_TOKEN?: string | undefined;
    DATABRICKS_WORKSPACE_URL?: string | undefined;
    DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
    DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
    ELEVENLABS_API_KEY?: string | undefined;
    FAL_KEY?: string | undefined;
    GITHUB_TOKEN?: string | undefined;
    GOOGLE_API_HOST?: string | undefined;
    GOOGLE_API_BASE_URL?: string | undefined;
    GOOGLE_API_KEY?: string | undefined;
    GOOGLE_PROJECT_ID?: string | undefined;
    GOOGLE_LOCATION?: string | undefined;
    GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
    GEMINI_API_KEY?: string | undefined;
    GROQ_API_KEY?: string | undefined;
    HELICONE_API_KEY?: string | undefined;
    HF_API_TOKEN?: string | undefined;
    HF_TOKEN?: string | undefined;
    HYPERBOLIC_API_KEY?: string | undefined;
    HUGGING_FACE_HUB_TOKEN?: string | undefined;
    JFROG_API_KEY?: string | undefined;
    LANGFUSE_HOST?: string | undefined;
    LANGFUSE_PUBLIC_KEY?: string | undefined;
    LANGFUSE_SECRET_KEY?: string | undefined;
    LITELLM_API_BASE?: string | undefined;
    LLAMA_BASE_URL?: string | undefined;
    LOCALAI_BASE_URL?: string | undefined;
    MISTRAL_API_BASE_URL?: string | undefined;
    MISTRAL_API_HOST?: string | undefined;
    MISTRAL_API_KEY?: string | undefined;
    NSCALE_SERVICE_TOKEN?: string | undefined;
    NSCALE_API_KEY?: string | undefined;
    OLLAMA_API_KEY?: string | undefined;
    OLLAMA_BASE_URL?: string | undefined;
    OPENAI_API_BASE_URL?: string | undefined;
    OPENAI_API_HOST?: string | undefined;
    OPENAI_API_KEY?: string | undefined;
    OPENAI_BASE_URL?: string | undefined;
    OPENAI_ORGANIZATION?: string | undefined;
    CODEX_API_KEY?: string | undefined;
    PALM_API_HOST?: string | undefined;
    PALM_API_KEY?: string | undefined;
    PORTKEY_API_KEY?: string | undefined;
    PROMPTFOO_CA_CERT_PATH?: string | undefined;
    PROMPTFOO_PFX_CERT_PATH?: string | undefined;
    PROMPTFOO_PFX_PASSWORD?: string | undefined;
    PROMPTFOO_JKS_CERT_PATH?: string | undefined;
    PROMPTFOO_JKS_PASSWORD?: string | undefined;
    PROMPTFOO_JKS_ALIAS?: string | undefined;
    PROMPTFOO_INSECURE_SSL?: string | undefined;
    QUIVERAI_API_KEY?: string | undefined;
    REPLICATE_API_KEY?: string | undefined;
    REPLICATE_API_TOKEN?: string | undefined;
    SHAREPOINT_BASE_URL?: string | undefined;
    SHAREPOINT_CERT_PATH?: string | undefined;
    SHAREPOINT_CLIENT_ID?: string | undefined;
    SHAREPOINT_TENANT_ID?: string | undefined;
    VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
    VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
    VERTEX_API_HOST?: string | undefined;
    VERTEX_API_KEY?: string | undefined;
    VERTEX_API_VERSION?: string | undefined;
    VERTEX_PROJECT_ID?: string | undefined;
    VERTEX_PUBLISHER?: string | undefined;
    VERTEX_REGION?: string | undefined;
    VOYAGE_API_BASE_URL?: string | undefined;
    VOYAGE_API_KEY?: string | undefined;
    WATSONX_AI_APIKEY?: string | undefined;
    WATSONX_AI_AUTH_TYPE?: string | undefined;
    WATSONX_AI_BEARER_TOKEN?: string | undefined;
    WATSONX_AI_PROJECT_ID?: string | undefined;
    XAI_API_BASE_URL?: string | undefined;
    XAI_API_KEY?: string | undefined;
    AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
    AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
    AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
    AWS_REGION?: string | undefined;
    AWS_DEFAULT_REGION?: string | undefined;
    AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
    AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
    AWS_SAGEMAKER_TOP_P?: string | undefined;
    AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
    PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
  } | undefined;
  derivedMetrics?: {
    name: string;
    value: string | z.core.$InferOuterFunctionType<z.ZodTuple<readonly [z.ZodRecord<z.ZodString, z.ZodNumber>, z.ZodCustom<RunEvalOptions, RunEvalOptions>], null>, z.ZodNumber>;
  }[] | undefined;
  extensions?: string[] | null | undefined;
  metadata?: Record<string, any> | undefined;
  redteam?: RedteamFileConfig | undefined;
  writeLatestResults?: boolean | undefined;
  tracing?: {
    enabled: boolean;
    otlp?: {
      http?: {
        enabled: boolean;
        port: number;
        host: string;
        acceptFormats: ("json" | "protobuf")[];
      } | undefined;
      grpc?: {
        enabled: boolean;
        port: number;
      } | undefined;
    } | undefined;
    storage?: {
      type: "sqlite";
      retentionDays: number;
    } | undefined;
    forwarding?: {
      enabled: boolean;
      endpoint: string;
      headers?: Record<string, string> | undefined;
    } | undefined;
  } | undefined;
  evaluateOptions?: {
    cache?: boolean | undefined;
    delay?: number | undefined;
    eventSource?: string | undefined;
    generateSuggestions?: boolean | undefined;
    interactiveProviders?: boolean | undefined;
    maxConcurrency?: number | undefined;
    progressCallback?: ((completed: number, total: number, index: number, evalStep: RunEvalOptions, metrics: PromptMetrics) => void) | undefined;
    repeat?: number | undefined;
    showProgressBar?: boolean | undefined;
    timeoutMs?: number | undefined;
    maxEvalTimeMs?: number | undefined;
    isRedteam?: boolean | undefined;
    silent?: boolean | undefined;
  } | undefined;
  commandLineOptions?: {
    description?: string | undefined;
    prompts?: string[] | undefined;
    providers?: string[] | undefined;
    output?: string[] | undefined;
    maxConcurrency?: number | undefined;
    repeat?: number | undefined;
    delay?: number | undefined;
    vars?: string | undefined;
    tests?: string | undefined;
    config?: string[] | undefined;
    assertions?: string | undefined;
    modelOutputs?: string | undefined;
    verbose?: boolean | undefined;
    grader?: string | undefined;
    tableCellMaxLength?: number | undefined;
    write?: boolean | undefined;
    cache?: boolean | undefined;
    table?: boolean | undefined;
    share?: boolean | undefined;
    noShare?: boolean | undefined;
    progressBar?: boolean | undefined;
    watch?: boolean | undefined;
    filterErrorsOnly?: string | undefined;
    filterFailing?: string | undefined;
    filterFailingOnly?: string | undefined;
    filterFirstN?: number | undefined;
    filterMetadata?: string | string[] | undefined;
    filterPattern?: string | undefined;
    filterProviders?: string | undefined;
    filterSample?: number | undefined;
    filterTargets?: string | undefined;
    var?: Record<string, string> | undefined;
    generateSuggestions?: boolean | undefined;
    promptPrefix?: string | undefined;
    promptSuffix?: string | undefined;
    retryErrors?: boolean | undefined;
    envPath?: string | string[] | undefined;
    extension?: string[] | undefined;
  } | undefined;
  providers?: string | (CallApiFunction & {
    label?: string;
  }) | (string | (CallApiFunction & {
    label?: string;
  }) | {
    id?: string | undefined;
    label?: string | undefined;
    config?: any;
    prompts?: string[] | undefined;
    transform?: string | undefined;
    delay?: number | undefined;
    env?: {
      AI21_API_BASE_URL?: string | undefined;
      AI21_API_KEY?: string | undefined;
      AIML_API_KEY?: string | undefined;
      ANTHROPIC_API_KEY?: string | undefined;
      ANTHROPIC_BASE_URL?: string | undefined;
      AWS_BEDROCK_REGION?: string | undefined;
      AZURE_API_BASE_URL?: string | undefined;
      AZURE_API_HOST?: string | undefined;
      AZURE_API_KEY?: string | undefined;
      AZURE_AUTHORITY_HOST?: string | undefined;
      AZURE_CLIENT_ID?: string | undefined;
      AZURE_CLIENT_SECRET?: string | undefined;
      AZURE_DEPLOYMENT_NAME?: string | undefined;
      AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_API_BASE_URL?: string | undefined;
      AZURE_OPENAI_API_HOST?: string | undefined;
      AZURE_OPENAI_API_KEY?: string | undefined;
      AZURE_OPENAI_BASE_URL?: string | undefined;
      AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_TENANT_ID?: string | undefined;
      AZURE_TOKEN_SCOPE?: string | undefined;
      CLAUDE_CODE_USE_BEDROCK?: string | undefined;
      CLAUDE_CODE_USE_VERTEX?: string | undefined;
      CLOUDFLARE_ACCOUNT_ID?: string | undefined;
      CLOUDFLARE_API_KEY?: string | undefined;
      CLOUDFLARE_GATEWAY_ID?: string | undefined;
      CF_AIG_TOKEN?: string | undefined;
      COMETAPI_KEY?: string | undefined;
      COHERE_API_KEY?: string | undefined;
      COHERE_CLIENT_NAME?: string | undefined;
      DATABRICKS_TOKEN?: string | undefined;
      DATABRICKS_WORKSPACE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
      ELEVENLABS_API_KEY?: string | undefined;
      FAL_KEY?: string | undefined;
      GITHUB_TOKEN?: string | undefined;
      GOOGLE_API_HOST?: string | undefined;
      GOOGLE_API_BASE_URL?: string | undefined;
      GOOGLE_API_KEY?: string | undefined;
      GOOGLE_PROJECT_ID?: string | undefined;
      GOOGLE_LOCATION?: string | undefined;
      GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
      GEMINI_API_KEY?: string | undefined;
      GROQ_API_KEY?: string | undefined;
      HELICONE_API_KEY?: string | undefined;
      HF_API_TOKEN?: string | undefined;
      HF_TOKEN?: string | undefined;
      HYPERBOLIC_API_KEY?: string | undefined;
      HUGGING_FACE_HUB_TOKEN?: string | undefined;
      JFROG_API_KEY?: string | undefined;
      LANGFUSE_HOST?: string | undefined;
      LANGFUSE_PUBLIC_KEY?: string | undefined;
      LANGFUSE_SECRET_KEY?: string | undefined;
      LITELLM_API_BASE?: string | undefined;
      LLAMA_BASE_URL?: string | undefined;
      LOCALAI_BASE_URL?: string | undefined;
      MISTRAL_API_BASE_URL?: string | undefined;
      MISTRAL_API_HOST?: string | undefined;
      MISTRAL_API_KEY?: string | undefined;
      NSCALE_SERVICE_TOKEN?: string | undefined;
      NSCALE_API_KEY?: string | undefined;
      OLLAMA_API_KEY?: string | undefined;
      OLLAMA_BASE_URL?: string | undefined;
      OPENAI_API_BASE_URL?: string | undefined;
      OPENAI_API_HOST?: string | undefined;
      OPENAI_API_KEY?: string | undefined;
      OPENAI_BASE_URL?: string | undefined;
      OPENAI_ORGANIZATION?: string | undefined;
      CODEX_API_KEY?: string | undefined;
      PALM_API_HOST?: string | undefined;
      PALM_API_KEY?: string | undefined;
      PORTKEY_API_KEY?: string | undefined;
      PROMPTFOO_CA_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_CERT_PATH?: string | undefined;
      PROMPTFOO_JKS_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_ALIAS?: string | undefined;
      PROMPTFOO_INSECURE_SSL?: string | undefined;
      QUIVERAI_API_KEY?: string | undefined;
      REPLICATE_API_KEY?: string | undefined;
      REPLICATE_API_TOKEN?: string | undefined;
      SHAREPOINT_BASE_URL?: string | undefined;
      SHAREPOINT_CERT_PATH?: string | undefined;
      SHAREPOINT_CLIENT_ID?: string | undefined;
      SHAREPOINT_TENANT_ID?: string | undefined;
      VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
      VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
      VERTEX_API_HOST?: string | undefined;
      VERTEX_API_KEY?: string | undefined;
      VERTEX_API_VERSION?: string | undefined;
      VERTEX_PROJECT_ID?: string | undefined;
      VERTEX_PUBLISHER?: string | undefined;
      VERTEX_REGION?: string | undefined;
      VOYAGE_API_BASE_URL?: string | undefined;
      VOYAGE_API_KEY?: string | undefined;
      WATSONX_AI_APIKEY?: string | undefined;
      WATSONX_AI_AUTH_TYPE?: string | undefined;
      WATSONX_AI_BEARER_TOKEN?: string | undefined;
      WATSONX_AI_PROJECT_ID?: string | undefined;
      XAI_API_BASE_URL?: string | undefined;
      XAI_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
      AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
      AWS_REGION?: string | undefined;
      AWS_DEFAULT_REGION?: string | undefined;
      AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
      AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
      AWS_SAGEMAKER_TOP_P?: string | undefined;
      AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
      PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
    } | undefined;
    inputs?: Record<string, string> | undefined;
  } | Record<string, {
    id?: string | undefined;
    label?: string | undefined;
    config?: any;
    prompts?: string[] | undefined;
    transform?: string | undefined;
    delay?: number | undefined;
    env?: {
      AI21_API_BASE_URL?: string | undefined;
      AI21_API_KEY?: string | undefined;
      AIML_API_KEY?: string | undefined;
      ANTHROPIC_API_KEY?: string | undefined;
      ANTHROPIC_BASE_URL?: string | undefined;
      AWS_BEDROCK_REGION?: string | undefined;
      AZURE_API_BASE_URL?: string | undefined;
      AZURE_API_HOST?: string | undefined;
      AZURE_API_KEY?: string | undefined;
      AZURE_AUTHORITY_HOST?: string | undefined;
      AZURE_CLIENT_ID?: string | undefined;
      AZURE_CLIENT_SECRET?: string | undefined;
      AZURE_DEPLOYMENT_NAME?: string | undefined;
      AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_API_BASE_URL?: string | undefined;
      AZURE_OPENAI_API_HOST?: string | undefined;
      AZURE_OPENAI_API_KEY?: string | undefined;
      AZURE_OPENAI_BASE_URL?: string | undefined;
      AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_TENANT_ID?: string | undefined;
      AZURE_TOKEN_SCOPE?: string | undefined;
      CLAUDE_CODE_USE_BEDROCK?: string | undefined;
      CLAUDE_CODE_USE_VERTEX?: string | undefined;
      CLOUDFLARE_ACCOUNT_ID?: string | undefined;
      CLOUDFLARE_API_KEY?: string | undefined;
      CLOUDFLARE_GATEWAY_ID?: string | undefined;
      CF_AIG_TOKEN?: string | undefined;
      COMETAPI_KEY?: string | undefined;
      COHERE_API_KEY?: string | undefined;
      COHERE_CLIENT_NAME?: string | undefined;
      DATABRICKS_TOKEN?: string | undefined;
      DATABRICKS_WORKSPACE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
      ELEVENLABS_API_KEY?: string | undefined;
      FAL_KEY?: string | undefined;
      GITHUB_TOKEN?: string | undefined;
      GOOGLE_API_HOST?: string | undefined;
      GOOGLE_API_BASE_URL?: string | undefined;
      GOOGLE_API_KEY?: string | undefined;
      GOOGLE_PROJECT_ID?: string | undefined;
      GOOGLE_LOCATION?: string | undefined;
      GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
      GEMINI_API_KEY?: string | undefined;
      GROQ_API_KEY?: string | undefined;
      HELICONE_API_KEY?: string | undefined;
      HF_API_TOKEN?: string | undefined;
      HF_TOKEN?: string | undefined;
      HYPERBOLIC_API_KEY?: string | undefined;
      HUGGING_FACE_HUB_TOKEN?: string | undefined;
      JFROG_API_KEY?: string | undefined;
      LANGFUSE_HOST?: string | undefined;
      LANGFUSE_PUBLIC_KEY?: string | undefined;
      LANGFUSE_SECRET_KEY?: string | undefined;
      LITELLM_API_BASE?: string | undefined;
      LLAMA_BASE_URL?: string | undefined;
      LOCALAI_BASE_URL?: string | undefined;
      MISTRAL_API_BASE_URL?: string | undefined;
      MISTRAL_API_HOST?: string | undefined;
      MISTRAL_API_KEY?: string | undefined;
      NSCALE_SERVICE_TOKEN?: string | undefined;
      NSCALE_API_KEY?: string | undefined;
      OLLAMA_API_KEY?: string | undefined;
      OLLAMA_BASE_URL?: string | undefined;
      OPENAI_API_BASE_URL?: string | undefined;
      OPENAI_API_HOST?: string | undefined;
      OPENAI_API_KEY?: string | undefined;
      OPENAI_BASE_URL?: string | undefined;
      OPENAI_ORGANIZATION?: string | undefined;
      CODEX_API_KEY?: string | undefined;
      PALM_API_HOST?: string | undefined;
      PALM_API_KEY?: string | undefined;
      PORTKEY_API_KEY?: string | undefined;
      PROMPTFOO_CA_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_CERT_PATH?: string | undefined;
      PROMPTFOO_JKS_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_ALIAS?: string | undefined;
      PROMPTFOO_INSECURE_SSL?: string | undefined;
      QUIVERAI_API_KEY?: string | undefined;
      REPLICATE_API_KEY?: string | undefined;
      REPLICATE_API_TOKEN?: string | undefined;
      SHAREPOINT_BASE_URL?: string | undefined;
      SHAREPOINT_CERT_PATH?: string | undefined;
      SHAREPOINT_CLIENT_ID?: string | undefined;
      SHAREPOINT_TENANT_ID?: string | undefined;
      VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
      VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
      VERTEX_API_HOST?: string | undefined;
      VERTEX_API_KEY?: string | undefined;
      VERTEX_API_VERSION?: string | undefined;
      VERTEX_PROJECT_ID?: string | undefined;
      VERTEX_PUBLISHER?: string | undefined;
      VERTEX_REGION?: string | undefined;
      VOYAGE_API_BASE_URL?: string | undefined;
      VOYAGE_API_KEY?: string | undefined;
      WATSONX_AI_APIKEY?: string | undefined;
      WATSONX_AI_AUTH_TYPE?: string | undefined;
      WATSONX_AI_BEARER_TOKEN?: string | undefined;
      WATSONX_AI_PROJECT_ID?: string | undefined;
      XAI_API_BASE_URL?: string | undefined;
      XAI_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
      AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
      AWS_REGION?: string | undefined;
      AWS_DEFAULT_REGION?: string | undefined;
      AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
      AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
      AWS_SAGEMAKER_TOP_P?: string | undefined;
      AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
      PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
    } | undefined;
    inputs?: Record<string, string> | undefined;
  }>)[] | undefined;
  targets?: string | (CallApiFunction & {
    label?: string;
  }) | (string | (CallApiFunction & {
    label?: string;
  }) | {
    id?: string | undefined;
    label?: string | undefined;
    config?: any;
    prompts?: string[] | undefined;
    transform?: string | undefined;
    delay?: number | undefined;
    env?: {
      AI21_API_BASE_URL?: string | undefined;
      AI21_API_KEY?: string | undefined;
      AIML_API_KEY?: string | undefined;
      ANTHROPIC_API_KEY?: string | undefined;
      ANTHROPIC_BASE_URL?: string | undefined;
      AWS_BEDROCK_REGION?: string | undefined;
      AZURE_API_BASE_URL?: string | undefined;
      AZURE_API_HOST?: string | undefined;
      AZURE_API_KEY?: string | undefined;
      AZURE_AUTHORITY_HOST?: string | undefined;
      AZURE_CLIENT_ID?: string | undefined;
      AZURE_CLIENT_SECRET?: string | undefined;
      AZURE_DEPLOYMENT_NAME?: string | undefined;
      AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_API_BASE_URL?: string | undefined;
      AZURE_OPENAI_API_HOST?: string | undefined;
      AZURE_OPENAI_API_KEY?: string | undefined;
      AZURE_OPENAI_BASE_URL?: string | undefined;
      AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_TENANT_ID?: string | undefined;
      AZURE_TOKEN_SCOPE?: string | undefined;
      CLAUDE_CODE_USE_BEDROCK?: string | undefined;
      CLAUDE_CODE_USE_VERTEX?: string | undefined;
      CLOUDFLARE_ACCOUNT_ID?: string | undefined;
      CLOUDFLARE_API_KEY?: string | undefined;
      CLOUDFLARE_GATEWAY_ID?: string | undefined;
      CF_AIG_TOKEN?: string | undefined;
      COMETAPI_KEY?: string | undefined;
      COHERE_API_KEY?: string | undefined;
      COHERE_CLIENT_NAME?: string | undefined;
      DATABRICKS_TOKEN?: string | undefined;
      DATABRICKS_WORKSPACE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
      ELEVENLABS_API_KEY?: string | undefined;
      FAL_KEY?: string | undefined;
      GITHUB_TOKEN?: string | undefined;
      GOOGLE_API_HOST?: string | undefined;
      GOOGLE_API_BASE_URL?: string | undefined;
      GOOGLE_API_KEY?: string | undefined;
      GOOGLE_PROJECT_ID?: string | undefined;
      GOOGLE_LOCATION?: string | undefined;
      GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
      GEMINI_API_KEY?: string | undefined;
      GROQ_API_KEY?: string | undefined;
      HELICONE_API_KEY?: string | undefined;
      HF_API_TOKEN?: string | undefined;
      HF_TOKEN?: string | undefined;
      HYPERBOLIC_API_KEY?: string | undefined;
      HUGGING_FACE_HUB_TOKEN?: string | undefined;
      JFROG_API_KEY?: string | undefined;
      LANGFUSE_HOST?: string | undefined;
      LANGFUSE_PUBLIC_KEY?: string | undefined;
      LANGFUSE_SECRET_KEY?: string | undefined;
      LITELLM_API_BASE?: string | undefined;
      LLAMA_BASE_URL?: string | undefined;
      LOCALAI_BASE_URL?: string | undefined;
      MISTRAL_API_BASE_URL?: string | undefined;
      MISTRAL_API_HOST?: string | undefined;
      MISTRAL_API_KEY?: string | undefined;
      NSCALE_SERVICE_TOKEN?: string | undefined;
      NSCALE_API_KEY?: string | undefined;
      OLLAMA_API_KEY?: string | undefined;
      OLLAMA_BASE_URL?: string | undefined;
      OPENAI_API_BASE_URL?: string | undefined;
      OPENAI_API_HOST?: string | undefined;
      OPENAI_API_KEY?: string | undefined;
      OPENAI_BASE_URL?: string | undefined;
      OPENAI_ORGANIZATION?: string | undefined;
      CODEX_API_KEY?: string | undefined;
      PALM_API_HOST?: string | undefined;
      PALM_API_KEY?: string | undefined;
      PORTKEY_API_KEY?: string | undefined;
      PROMPTFOO_CA_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_CERT_PATH?: string | undefined;
      PROMPTFOO_JKS_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_ALIAS?: string | undefined;
      PROMPTFOO_INSECURE_SSL?: string | undefined;
      QUIVERAI_API_KEY?: string | undefined;
      REPLICATE_API_KEY?: string | undefined;
      REPLICATE_API_TOKEN?: string | undefined;
      SHAREPOINT_BASE_URL?: string | undefined;
      SHAREPOINT_CERT_PATH?: string | undefined;
      SHAREPOINT_CLIENT_ID?: string | undefined;
      SHAREPOINT_TENANT_ID?: string | undefined;
      VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
      VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
      VERTEX_API_HOST?: string | undefined;
      VERTEX_API_KEY?: string | undefined;
      VERTEX_API_VERSION?: string | undefined;
      VERTEX_PROJECT_ID?: string | undefined;
      VERTEX_PUBLISHER?: string | undefined;
      VERTEX_REGION?: string | undefined;
      VOYAGE_API_BASE_URL?: string | undefined;
      VOYAGE_API_KEY?: string | undefined;
      WATSONX_AI_APIKEY?: string | undefined;
      WATSONX_AI_AUTH_TYPE?: string | undefined;
      WATSONX_AI_BEARER_TOKEN?: string | undefined;
      WATSONX_AI_PROJECT_ID?: string | undefined;
      XAI_API_BASE_URL?: string | undefined;
      XAI_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
      AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
      AWS_REGION?: string | undefined;
      AWS_DEFAULT_REGION?: string | undefined;
      AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
      AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
      AWS_SAGEMAKER_TOP_P?: string | undefined;
      AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
      PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
    } | undefined;
    inputs?: Record<string, string> | undefined;
  } | Record<string, {
    id?: string | undefined;
    label?: string | undefined;
    config?: any;
    prompts?: string[] | undefined;
    transform?: string | undefined;
    delay?: number | undefined;
    env?: {
      AI21_API_BASE_URL?: string | undefined;
      AI21_API_KEY?: string | undefined;
      AIML_API_KEY?: string | undefined;
      ANTHROPIC_API_KEY?: string | undefined;
      ANTHROPIC_BASE_URL?: string | undefined;
      AWS_BEDROCK_REGION?: string | undefined;
      AZURE_API_BASE_URL?: string | undefined;
      AZURE_API_HOST?: string | undefined;
      AZURE_API_KEY?: string | undefined;
      AZURE_AUTHORITY_HOST?: string | undefined;
      AZURE_CLIENT_ID?: string | undefined;
      AZURE_CLIENT_SECRET?: string | undefined;
      AZURE_DEPLOYMENT_NAME?: string | undefined;
      AZURE_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_API_BASE_URL?: string | undefined;
      AZURE_OPENAI_API_HOST?: string | undefined;
      AZURE_OPENAI_API_KEY?: string | undefined;
      AZURE_OPENAI_BASE_URL?: string | undefined;
      AZURE_OPENAI_DEPLOYMENT_NAME?: string | undefined;
      AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME?: string | undefined;
      AZURE_TENANT_ID?: string | undefined;
      AZURE_TOKEN_SCOPE?: string | undefined;
      CLAUDE_CODE_USE_BEDROCK?: string | undefined;
      CLAUDE_CODE_USE_VERTEX?: string | undefined;
      CLOUDFLARE_ACCOUNT_ID?: string | undefined;
      CLOUDFLARE_API_KEY?: string | undefined;
      CLOUDFLARE_GATEWAY_ID?: string | undefined;
      CF_AIG_TOKEN?: string | undefined;
      COMETAPI_KEY?: string | undefined;
      COHERE_API_KEY?: string | undefined;
      COHERE_CLIENT_NAME?: string | undefined;
      DATABRICKS_TOKEN?: string | undefined;
      DATABRICKS_WORKSPACE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_BASE_URL?: string | undefined;
      DOCKER_MODEL_RUNNER_API_KEY?: string | undefined;
      ELEVENLABS_API_KEY?: string | undefined;
      FAL_KEY?: string | undefined;
      GITHUB_TOKEN?: string | undefined;
      GOOGLE_API_HOST?: string | undefined;
      GOOGLE_API_BASE_URL?: string | undefined;
      GOOGLE_API_KEY?: string | undefined;
      GOOGLE_PROJECT_ID?: string | undefined;
      GOOGLE_LOCATION?: string | undefined;
      GOOGLE_GENERATIVE_AI_API_KEY?: string | undefined;
      GEMINI_API_KEY?: string | undefined;
      GROQ_API_KEY?: string | undefined;
      HELICONE_API_KEY?: string | undefined;
      HF_API_TOKEN?: string | undefined;
      HF_TOKEN?: string | undefined;
      HYPERBOLIC_API_KEY?: string | undefined;
      HUGGING_FACE_HUB_TOKEN?: string | undefined;
      JFROG_API_KEY?: string | undefined;
      LANGFUSE_HOST?: string | undefined;
      LANGFUSE_PUBLIC_KEY?: string | undefined;
      LANGFUSE_SECRET_KEY?: string | undefined;
      LITELLM_API_BASE?: string | undefined;
      LLAMA_BASE_URL?: string | undefined;
      LOCALAI_BASE_URL?: string | undefined;
      MISTRAL_API_BASE_URL?: string | undefined;
      MISTRAL_API_HOST?: string | undefined;
      MISTRAL_API_KEY?: string | undefined;
      NSCALE_SERVICE_TOKEN?: string | undefined;
      NSCALE_API_KEY?: string | undefined;
      OLLAMA_API_KEY?: string | undefined;
      OLLAMA_BASE_URL?: string | undefined;
      OPENAI_API_BASE_URL?: string | undefined;
      OPENAI_API_HOST?: string | undefined;
      OPENAI_API_KEY?: string | undefined;
      OPENAI_BASE_URL?: string | undefined;
      OPENAI_ORGANIZATION?: string | undefined;
      CODEX_API_KEY?: string | undefined;
      PALM_API_HOST?: string | undefined;
      PALM_API_KEY?: string | undefined;
      PORTKEY_API_KEY?: string | undefined;
      PROMPTFOO_CA_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_CERT_PATH?: string | undefined;
      PROMPTFOO_PFX_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_CERT_PATH?: string | undefined;
      PROMPTFOO_JKS_PASSWORD?: string | undefined;
      PROMPTFOO_JKS_ALIAS?: string | undefined;
      PROMPTFOO_INSECURE_SSL?: string | undefined;
      QUIVERAI_API_KEY?: string | undefined;
      REPLICATE_API_KEY?: string | undefined;
      REPLICATE_API_TOKEN?: string | undefined;
      SHAREPOINT_BASE_URL?: string | undefined;
      SHAREPOINT_CERT_PATH?: string | undefined;
      SHAREPOINT_CLIENT_ID?: string | undefined;
      SHAREPOINT_TENANT_ID?: string | undefined;
      VERCEL_AI_GATEWAY_API_KEY?: string | undefined;
      VERCEL_AI_GATEWAY_BASE_URL?: string | undefined;
      VERTEX_API_HOST?: string | undefined;
      VERTEX_API_KEY?: string | undefined;
      VERTEX_API_VERSION?: string | undefined;
      VERTEX_PROJECT_ID?: string | undefined;
      VERTEX_PUBLISHER?: string | undefined;
      VERTEX_REGION?: string | undefined;
      VOYAGE_API_BASE_URL?: string | undefined;
      VOYAGE_API_KEY?: string | undefined;
      WATSONX_AI_APIKEY?: string | undefined;
      WATSONX_AI_AUTH_TYPE?: string | undefined;
      WATSONX_AI_BEARER_TOKEN?: string | undefined;
      WATSONX_AI_PROJECT_ID?: string | undefined;
      XAI_API_BASE_URL?: string | undefined;
      XAI_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_ENDPOINT?: string | undefined;
      AZURE_CONTENT_SAFETY_API_KEY?: string | undefined;
      AZURE_CONTENT_SAFETY_API_VERSION?: string | undefined;
      AWS_REGION?: string | undefined;
      AWS_DEFAULT_REGION?: string | undefined;
      AWS_SAGEMAKER_MAX_TOKENS?: string | undefined;
      AWS_SAGEMAKER_TEMPERATURE?: string | undefined;
      AWS_SAGEMAKER_TOP_P?: string | undefined;
      AWS_SAGEMAKER_MAX_RETRIES?: string | undefined;
      PROMPTFOO_EVAL_TIMEOUT_MS?: string | undefined;
    } | undefined;
    inputs?: Record<string, string> | undefined;
  }>)[] | undefined;
}>>;
type UnifiedConfig = z.infer<typeof UnifiedConfigSchema>;
interface EvalWithMetadata {
  id: string;
  date: Date;
  config: Partial<UnifiedConfig>;
  results: EvaluateSummaryV3;
  description?: string;
}
type EvaluateTestSuite = {
  prompts: (string | object | PromptFunction)[];
  writeLatestResults?: boolean;
} & Omit<TestSuiteConfig, 'prompts'>;
type EvaluateTestSuiteWithEvaluateOptions = EvaluateTestSuite & {
  evaluateOptions: EvaluateOptions;
};
interface SharedResults {
  data: ResultsFile;
}
interface ResultsFile {
  version: number;
  createdAt: string;
  results: EvaluateSummaryV3 | EvaluateSummaryV2;
  config: Partial<UnifiedConfig>;
  author: string | null;
  prompts?: CompletedPrompt[];
  datasetId?: string | null;
}
interface ResultLightweight {
  evalId: string;
  datasetId: string | null;
  createdAt: number;
  description: string | null;
  numTests: number;
  isRedteam?: boolean;
}
type ResultLightweightWithLabel = ResultLightweight & {
  label: string;
};
type EvalSummary = ResultLightweightWithLabel & {
  isRedteam: boolean;
  passRate: number;
  label: string;
  providers: {
    id: string;
    label: string | null;
  }[];
  attackSuccessRate?: number;
};
interface OutputMetadata {
  promptfooVersion: string;
  nodeVersion: string;
  platform: string;
  arch: string;
  exportedAt: string;
  evaluationCreatedAt?: string;
  author?: string;
}
interface OutputFile {
  evalId: string | null;
  results: EvaluateSummaryV3 | EvaluateSummaryV2;
  config: Partial<UnifiedConfig>;
  shareableUrl: string | null;
  metadata?: OutputMetadata;
}
interface Job {
  evalId: string | null;
  status: 'in-progress' | 'complete' | 'error';
  progress: number;
  total: number;
  result: EvaluateSummaryV3 | EvaluateSummaryV2 | null;
  logs: string[];
}
declare const OutputFileExtension: z.ZodEnum<{
  json: "json";
  csv: "csv";
  html: "html";
  jsonl: "jsonl";
  txt: "txt";
  xml: "xml";
  yaml: "yaml";
  yml: "yml";
}>;
type OutputFileExtension = z.infer<typeof OutputFileExtension>;
interface LoadApiProviderContext {
  options?: ProviderOptions;
  basePath?: string;
  env?: EnvOverrides;
}
declare const EvalResultsFilterMode: z.ZodEnum<{
  all: "all";
  failures: "failures";
  different: "different";
  highlights: "highlights";
  errors: "errors";
  passes: "passes";
  "user-rated": "user-rated";
}>;
type EvalResultsFilterMode = z.infer<typeof EvalResultsFilterMode>;
//#endregion
//#region src/redteam/plugins/index.d.ts
interface PluginFactory {
  key: string;
  validate?: (config: PluginConfig) => void;
  action: (params: PluginActionParams) => Promise<TestCase[]>;
}
//#endregion
//#region src/redteam/strategies/types.d.ts
interface Strategy {
  id: string;
  action: (testCases: TestCaseWithPlugin[], injectVar: string, config: Record<string, any>, strategyId?: string) => Promise<TestCase[]>;
}
//#endregion
//#region src/external/matchers/deepeval.d.ts
interface Message {
  input: string;
  output: string | object;
}
declare function matchesConversationRelevance(messages: Message[], threshold: number, vars?: Record<string, VarValue>, grading?: GradingConfig, providerCallContext?: CallApiContextParams): Promise<Omit<GradingResult, 'assertion'>>;
//#endregion
//#region src/matchers.d.ts
declare function matchesSimilarity(expected: string, output: string, threshold: number, inverse?: boolean, grading?: GradingConfig, metric?: 'cosine' | 'dot_product' | 'euclidean'): Promise<Omit<GradingResult, 'assertion'>>;
/**
 *
 * @param expected Expected classification. If undefined, matches any classification.
 * @param output Text to classify.
 * @param threshold Value between 0 and 1. If the expected classification is undefined, the threshold is the minimum score for any classification. If the expected classification is defined, the threshold is the minimum score for that classification.
 * @param grading
 * @returns Pass if the output matches the classification with a score greater than or equal to the threshold.
 */
declare function matchesClassification(expected: string | undefined, output: string, threshold: number, grading?: GradingConfig): Promise<Omit<GradingResult, 'assertion'>>;
declare function matchesLlmRubric(rubric: string | object, llmOutput: string, grading?: GradingConfig, vars?: Record<string, VarValue>, assertion?: Assertion, options?: {
  throwOnError?: boolean;
}, providerCallContext?: CallApiContextParams): Promise<GradingResult>;
declare function matchesFactuality(input: string, expected: string, output: string, grading?: GradingConfig, vars?: Record<string, VarValue>, providerCallContext?: CallApiContextParams): Promise<Omit<GradingResult, 'assertion'>>;
declare function matchesClosedQa(input: string, expected: string, output: string, grading?: GradingConfig, vars?: Record<string, VarValue>, providerCallContext?: CallApiContextParams): Promise<Omit<GradingResult, 'assertion'>>;
declare function matchesAnswerRelevance(input: string, output: string, threshold: number, grading?: GradingConfig, providerCallContext?: CallApiContextParams): Promise<Omit<GradingResult, 'assertion'>>;
declare function matchesContextRecall(context: string | string[], groundTruth: string, threshold: number, grading?: GradingConfig, vars?: Record<string, VarValue>, providerCallContext?: CallApiContextParams): Promise<Omit<GradingResult, 'assertion'>>;
declare function matchesContextRelevance(question: string, context: string | string[], threshold: number, grading?: GradingConfig, providerCallContext?: CallApiContextParams): Promise<Omit<GradingResult, 'assertion'>>;
declare function matchesContextFaithfulness(query: string, output: string, context: string | string[], threshold: number, grading?: GradingConfig, vars?: Record<string, VarValue>, providerCallContext?: CallApiContextParams): Promise<Omit<GradingResult, 'assertion'>>;
declare function matchesSelectBest(criteria: string, outputs: string[], grading?: GradingConfig, vars?: Record<string, VarValue>, providerCallContext?: CallApiContextParams): Promise<Omit<GradingResult, 'assertion'>[]>;
interface ModerationMatchOptions {
  userPrompt: string;
  assistantResponse: string;
  categories?: string[];
}
declare function matchesModeration({
  userPrompt,
  assistantResponse,
  categories
}: ModerationMatchOptions, grading?: GradingConfig): Promise<{
  pass: boolean;
  score: number;
  reason: string;
}>;
//#endregion
//#region src/assertions/index.d.ts
declare function runAssertion({
  prompt,
  provider,
  assertion,
  test,
  vars,
  latencyMs,
  providerResponse,
  traceId
}: {
  prompt?: string;
  provider?: ApiProvider;
  assertion: Assertion;
  test: AtomicTestCase;
  vars?: Record<string, VarValue>;
  providerResponse: ProviderResponse;
  latencyMs?: number;
  assertIndex?: number;
  traceId?: string;
}): Promise<GradingResult>;
declare function runAssertions({
  assertScoringFunction,
  latencyMs,
  prompt,
  provider,
  providerResponse,
  test,
  vars,
  traceId
}: {
  assertScoringFunction?: ScoringFunction;
  latencyMs?: number;
  prompt?: string;
  provider?: ApiProvider;
  providerResponse: ProviderResponse;
  test: AtomicTestCase;
  vars?: Record<string, VarValue>;
  traceId?: string;
}): Promise<GradingResult>;
declare const _default: {
  runAssertion: typeof runAssertion;
  runAssertions: typeof runAssertions;
  matchesSimilarity: typeof matchesSimilarity;
  matchesClassification: typeof matchesClassification;
  matchesLlmRubric: typeof matchesLlmRubric;
  matchesFactuality: typeof matchesFactuality;
  matchesClosedQa: typeof matchesClosedQa;
  matchesAnswerRelevance: typeof matchesAnswerRelevance;
  matchesContextRecall: typeof matchesContextRecall;
  matchesContextRelevance: typeof matchesContextRelevance;
  matchesContextFaithfulness: typeof matchesContextFaithfulness;
  matchesComparisonBoolean: typeof matchesSelectBest;
  matchesModeration: typeof matchesModeration;
  matchesConversationRelevance: typeof matchesConversationRelevance;
};
//#endregion
//#region src/guardrails.d.ts
interface GuardResult {
  model: string;
  results: Array<{
    categories: Record<string, boolean>;
    category_scores: Record<string, number>;
    flagged: boolean;
    payload?: {
      pii?: Array<{
        entity_type: string;
        start: number;
        end: number;
        pii: string;
      }>;
    };
  }>;
}
interface AdaptiveRequest {
  prompt: string;
  policies?: string[];
}
interface AdaptiveResult {
  model: string;
  adaptedPrompt: string;
  modifications: Array<{
    type: string;
    reason: string;
    original: string;
    modified: string;
  }>;
}
declare const guardrails: {
  guard(input: string): Promise<GuardResult>;
  pii(input: string): Promise<GuardResult>;
  harm(input: string): Promise<GuardResult>;
  adaptive(request: AdaptiveRequest): Promise<AdaptiveResult>;
};
declare namespace cache_d_exports {
  export { FetchWithCacheResult, clearCache, disableCache, enableCache, fetchWithCache, getCache, isCacheEnabled };
}
declare function getCache(): Cache;
type FetchWithCacheResult<T> = {
  data: T;
  cached: boolean;
  status: number;
  statusText: string;
  headers?: Record<string, string>;
  latencyMs?: number;
  deleteFromCache?: () => Promise<void>;
};
declare function fetchWithCache<T = unknown>(url: RequestInfo, options?: RequestInit, timeout?: number, format?: 'json' | 'text', bust?: boolean, maxRetries?: number): Promise<FetchWithCacheResult<T>>;
declare function enableCache(): void;
declare function disableCache(): void;
declare function clearCache(): Promise<boolean>;
declare function isCacheEnabled(): boolean;
//#endregion
//#region src/models/evalResult.d.ts
declare class EvalResult {
  static createFromEvaluateResult(evalId: string, result: EvaluateResult, opts?: {
    persist: boolean;
  }): Promise<EvalResult>;
  static createManyFromEvaluateResult(results: EvaluateResult[], evalId: string): Promise<EvalResult[]>;
  static findById(id: string): Promise<EvalResult | null>;
  static findManyByEvalId(evalId: string, opts?: {
    testIdx?: number;
  }): Promise<EvalResult[]>;
  static findManyByEvalIdAndTestIndices(evalId: string, testIndices: number[]): Promise<EvalResult[]>;
  /**
   * Returns a set of completed (testIdx,promptIdx) pairs for a given eval.
   * Key format: `${testIdx}:${promptIdx}`
   *
   * @param evalId - The evaluation ID to query
   * @param opts.excludeErrors - If true, excludes results with ERROR failureReason (used in retry mode)
   */
  static getCompletedIndexPairs(evalId: string, opts?: {
    excludeErrors?: boolean;
  }): Promise<Set<string>>;
  static findManyByEvalIdBatched(evalId: string, opts?: {
    batchSize?: number;
  }): AsyncGenerator<EvalResult[]>;
  id: string;
  evalId: string;
  description?: string | null;
  promptIdx: number;
  testIdx: number;
  testCase: AtomicTestCase;
  prompt: Prompt;
  promptId: string;
  error?: string | null;
  success: boolean;
  score: number;
  response: ProviderResponse | undefined;
  gradingResult: GradingResult | null;
  namedScores: Record<string, number>;
  provider: ProviderOptions;
  latencyMs: number;
  cost: number;
  metadata: Record<string, any>;
  failureReason: ResultFailureReason;
  persisted: boolean;
  pluginId?: string;
  constructor(opts: {
    id: string;
    evalId: string;
    promptIdx: number;
    testIdx: number;
    testCase: AtomicTestCase;
    prompt: Prompt;
    promptId?: string | null;
    error?: string | null;
    success: boolean;
    score: number;
    response: ProviderResponse | null;
    gradingResult: GradingResult | null;
    namedScores?: Record<string, number> | null;
    provider: ProviderOptions;
    latencyMs?: number | null;
    cost?: number | null;
    metadata?: Record<string, any> | null;
    failureReason: ResultFailureReason | number;
    persisted?: boolean;
  });
  save(): Promise<void>;
  toEvaluateResult(): EvaluateResult;
}
//#endregion
//#region src/models/eval.d.ts
declare class Eval {
  id: string;
  createdAt: number;
  author?: string;
  description?: string;
  config: Partial<UnifiedConfig>;
  results: EvalResult[];
  datasetId?: string;
  prompts: CompletedPrompt[];
  oldResults?: EvaluateSummaryV2;
  persisted: boolean;
  vars: string[];
  _resultsLoaded: boolean;
  runtimeOptions?: Partial<EvaluateOptions>;
  _shared: boolean;
  durationMs?: number;
  /**
   * The shareable URL for this evaluation, if it has been shared.
   * Set by the evaluate() function when sharing is enabled.
   */
  shareableUrl?: string;
  static latest(): Promise<Eval | undefined>;
  static findById(id: string): Promise<Eval | undefined>;
  static getMany(limit?: number): Promise<Eval[]>;
  /**
   * Get paginated evals with offset support for efficient infinite scroll.
   * @param offset - Number of evals to skip
   * @param limit - Maximum number of evals to return
   */
  static getPaginated(offset?: number, limit?: number): Promise<Eval[]>;
  /**
   * Get total count of evals for pagination.
   */
  static getCount(): Promise<number>;
  static create(config: Partial<UnifiedConfig>, renderedPrompts: Prompt[], // The config doesn't contain the actual prompts, so we need to pass them in separately
  opts?: {
    id?: string;
    createdAt?: Date;
    author?: string;
    results?: EvalResult[];
    vars?: string[];
    runtimeOptions?: Partial<EvaluateOptions>;
    completedPrompts?: CompletedPrompt[];
  }): Promise<Eval>;
  constructor(config: Partial<UnifiedConfig>, opts?: {
    id?: string;
    createdAt?: Date;
    author?: string;
    description?: string;
    prompts?: CompletedPrompt[];
    datasetId?: string;
    persisted?: boolean;
    vars?: string[];
    runtimeOptions?: Partial<EvaluateOptions>;
    durationMs?: number;
  });
  version(): 4 | 3;
  useOldResults(): boolean;
  setTable(table: EvaluateTable): void;
  save(): Promise<void>;
  setVars(vars: string[]): void;
  addVar(varName: string): void;
  setDurationMs(durationMs: number): void;
  getPrompts(): {
    raw: string;
    label: string;
    provider: string;
    id?: string | undefined;
    display?: string | undefined;
    function?: PromptFunction | undefined;
    config?: any;
    metrics?: {
      score: number;
      testPassCount: number;
      testFailCount: number;
      testErrorCount: number;
      assertPassCount: number;
      assertFailCount: number;
      totalLatencyMs: number;
      tokenUsage: {
        prompt?: number | undefined;
        completion?: number | undefined;
        cached?: number | undefined;
        total?: number | undefined;
        numRequests?: number | undefined;
        completionDetails?: {
          reasoning?: number | undefined;
          acceptedPrediction?: number | undefined;
          rejectedPrediction?: number | undefined;
        } | undefined;
        assertions?: {
          total?: number | undefined;
          prompt?: number | undefined;
          completion?: number | undefined;
          cached?: number | undefined;
          numRequests?: number | undefined;
          completionDetails?: {
            reasoning?: number | undefined;
            acceptedPrediction?: number | undefined;
            rejectedPrediction?: number | undefined;
          } | undefined;
        } | undefined;
      };
      namedScores: Record<string, number>;
      namedScoresCount: Record<string, number>;
      cost: number;
      redteam?: {
        pluginPassCount: Record<string, number>;
        pluginFailCount: Record<string, number>;
        strategyPassCount: Record<string, number>;
        strategyFailCount: Record<string, number>;
      } | undefined;
    } | undefined;
  }[];
  getTable(): Promise<EvaluateTable>;
  addResult(result: EvaluateResult): Promise<void>;
  fetchResultsBatched(batchSize?: number): AsyncGenerator<EvalResult[], void, unknown>;
  getResultsCount(): Promise<number>;
  /**
   * Get the total count of all result rows for this eval.
   * Use this when iterating over all results (e.g., for sharing progress).
   * This may be higher than getResultsCount() when there are multiple prompts/providers.
   */
  getTotalResultRowCount(): Promise<number>;
  fetchResultsByTestIdx(testIdx: number): Promise<EvalResult[]>;
  /**
   * CRITICAL: Builds the WHERE SQL clause for filtering results.
   * This is the single source of truth for all filtering logic.
   * Used by both queryTestIndices() (pagination) and getFilteredMetrics().
   *
   * SECURITY: This method uses Drizzle's sql template strings for parameterized queries
   * to prevent SQL injection. All user-provided values are passed as parameters,
   * not interpolated into the SQL string.
   *
   * Any changes to filter logic MUST be made here to ensure consistency
   * between displayed rows and calculated metrics.
   *
   * @returns SQL fragment (without "WHERE" keyword) that can be used in queries
   */
  private buildFilterWhereSql;
  /**
   * Private helper method to build filter conditions and query for test indices.
   *
   * SECURITY: Uses parameterized queries via Drizzle's sql template strings
   * to prevent SQL injection attacks.
   */
  private queryTestIndices;
  /**
   * CRITICAL: Calculates metrics for filtered results.
   * Uses the SAME WHERE clause as queryTestIndices() to ensure consistency.
   *
   * SECURITY: Uses parameterized SQL queries to prevent SQL injection.
   *
   * This method is called from the API route when filters are active to provide
   * metrics that accurately reflect the filtered dataset.
   *
   * @returns Array of PromptMetrics, one per prompt
   */
  getFilteredMetrics(opts: {
    filterMode?: EvalResultsFilterMode;
    searchQuery?: string;
    filters?: string[];
  }): Promise<PromptMetrics[]>;
  getTablePage(opts: {
    offset?: number;
    limit?: number;
    filterMode?: EvalResultsFilterMode;
    testIndices?: number[];
    searchQuery?: string;
    filters?: string[];
  }): Promise<{
    head: {
      prompts: Prompt[];
      vars: string[];
    };
    body: EvaluateTableRow[];
    totalCount: number;
    filteredCount: number;
    id: string;
  }>;
  addPrompts(prompts: CompletedPrompt[]): Promise<void>;
  setResults(results: EvalResult[]): Promise<void>;
  loadResults(): Promise<void>;
  getResults(): Promise<EvaluateResult[] | EvalResult[]>;
  clearResults(): void;
  getStats(): EvaluateStats;
  toEvaluateSummary(): Promise<EvaluateSummaryV3 | EvaluateSummaryV2>;
  getTraces(): Promise<TraceData[]>;
  toResultsFile(): Promise<ResultsFile>;
  delete(): Promise<void>;
  /**
   * Creates a deep copy of this eval including all results.
   * Uses batching to avoid memory exhaustion on large evals.
   * @param description - Optional description for the new eval
   * @param distinctTestCount - Optional pre-computed test count to avoid duplicate query
   */
  copy(description?: string, distinctTestCount?: number): Promise<Eval>;
  get shared(): boolean;
  set shared(shared: boolean);
}
//#endregion
//#region src/providers/index.d.ts
declare function loadApiProvider(providerPath: string, context?: LoadApiProviderContext): Promise<ApiProvider>;
//#endregion
//#region src/redteam/commands/generate.d.ts
declare function doGenerateRedteam(options: Partial<RedteamCliGenerateOptions>): Promise<Partial<UnifiedConfig> | null>;
//#endregion
//#region src/redteam/extraction/entities.d.ts
declare function extractEntities(provider: ApiProvider, prompts: string[]): Promise<string[]>;
//#endregion
//#region src/redteam/extraction/mcpTools.d.ts
/**
 * Extract tools information from MCP providers and format for red team purpose
 */
declare function extractMcpToolsInfo(providers: ApiProvider[]): Promise<string>;
//#endregion
//#region src/redteam/extraction/purpose.d.ts
declare function extractSystemPurpose(provider: ApiProvider, prompts: string[]): Promise<string>;
//#endregion
//#region src/tracing/traceContext.d.ts
interface TraceEvent {
  name: string;
  timestamp: number;
  attributes: Record<string, any>;
}
interface TraceSpan$1 {
  spanId: string;
  parentSpanId?: string;
  name: string;
  kind: string;
  startTime: number;
  endTime?: number;
  durationMs?: number;
  attributes: Record<string, any>;
  status: {
    code: 'unset' | 'ok' | 'error';
    message?: string;
  };
  depth: number;
  events: TraceEvent[];
}
interface TraceContextData {
  traceId: string;
  spans: TraceSpan$1[];
  insights: string[];
  fetchedAt: number;
}
//#endregion
//#region src/redteam/plugins/base.d.ts
/**
 * Abstract base class for creating plugins that generate test cases.
 */
declare abstract class RedteamPluginBase {
  protected provider: ApiProvider;
  protected purpose: string;
  protected injectVar: string;
  protected config: PluginConfig;
  /**
   * Unique identifier for the plugin.
   */
  abstract readonly id: string;
  /**
   * Whether this plugin can be generated remotely if OpenAI is not available.
   * Defaults to true. Set to false for plugins that use static data sources
   * like datasets, CSVs, or JSON files that don't need remote generation.
   */
  readonly canGenerateRemote: boolean;
  /**
   * Creates an instance of RedteamPluginBase.
   * @param provider - The API provider used for generating prompts.
   * @param purpose - The purpose of the plugin.
   * @param injectVar - The variable name to inject the generated prompt into.
   * @param config - An optional object of plugin configuration.
   */
  constructor(provider: ApiProvider, purpose: string, injectVar: string, config?: PluginConfig);
  /**
   * Returns an array of strategy IDs that should be excluded by default for this plugin.
   * Override this method in subclasses to specify plugin-specific strategy exclusions.
   * @returns An array of strategy IDs to exclude.
   */
  protected getDefaultExcludedStrategies(): string[];
  /**
   * Template string used to generate prompts.
   */
  protected abstract getTemplate(): Promise<string>;
  /**
   * Abstract method to get assertions for a given prompt.
   * @param prompt - The prompt to generate assertions for.
   * @returns An array of Assertion objects.
   */
  protected abstract getAssertions(prompt: string): Assertion[];
  /**
   * Generates test cases based on the plugin's configuration.
   * @param n - The number of test cases to generate.
   * @param delayMs - The delay in milliseconds between plugin API calls.
   * @param templateGetter - A function that returns a promise of a template string.
   * @returns A promise that resolves to an array of TestCase objects.
   */
  generateTests(n: number, delayMs?: number, templateGetter?: () => Promise<string>): Promise<TestCase[]>;
  /**
   * Converts an array of { __prompt: string } objects into an array of test cases.
   * When inputs is defined, the __prompt contains JSON which is stored in injectVar
   * (which will be MULTI_INPUT_VAR in multi-input mode), and individual keys are
   * extracted into vars for usability.
   * @param prompts - An array of { __prompt: string } objects.
   * @returns An array of test cases.
   */
  protected promptsToTestCases(prompts: {
    __prompt: string;
  }[]): TestCase[];
  /**
   * Appends modifiers to the template.
   * @param template - The template to append modifiers to.
   * @returns The modified template.
   */
  static appendModifiers(template: string, config: PluginConfig): string;
  /**
   * Generates the output format instruction for plugin templates.
   * Use this in getTemplate() to conditionally output the right format instruction.
   * @param config - The plugin config
   * @returns The output format instruction string
   */
  static getOutputFormatInstruction(config: PluginConfig): string;
}
/**
 * Base class for all redteam graders.
 *
 * Each grader should implement an id (e.g. `promptfoo:redteam:foo`) and a rubric (grading prompt).
 * By default, the rubric is passed to `llm-rubric` grader.
 *
 * But if you'd like, you can override the `getResult` method to use a different grading method.
 */
interface RedteamGradingContext {
  traceContext?: TraceContextData | null;
  traceSummary?: string;
  wasExfiltrated?: boolean;
  exfilCount?: number;
  exfilRecords?: Array<{
    queryParams: Record<string, string>;
  }>;
}
declare abstract class RedteamGraderBase {
  abstract id: string;
  abstract rubric: string;
  renderRubric(vars: Record<string, any>): string;
  getSuggestions({}: {
    test: AtomicTestCase;
    rawPrompt: string;
    renderedValue?: AssertionValue;
  }): ResultSuggestion[];
  getResult(prompt: string, llmOutput: string, test: AtomicTestCase, provider: ApiProvider | undefined, renderedValue: AssertionValue | undefined, additionalRubric?: string, skipRefusalCheck?: boolean, gradingContext?: RedteamGradingContext): Promise<{
    grade: GradingResult;
    rubric: string;
    suggestions?: ResultSuggestion[];
  }>;
}
//#endregion
//#region src/redteam/shared.d.ts
declare function doRedteamRun(options: RedteamRunOptions): Promise<Eval | undefined>;
//#endregion
//#region src/table.d.ts
declare function generateTable(evaluateTable: EvaluateTable, tableCellMaxLength?: number, maxRows?: number): string;
//#endregion
//#region src/evaluatorHelpers.d.ts
/**
 * Context passed to beforeAll extension hooks.
 * Called once before the evaluation starts.
 */
type BeforeAllExtensionHookContext = {
  /** The test suite configuration (mutable) */suite: TestSuite;
};
/**
 * Context passed to beforeEach extension hooks.
 * Called before each test case is evaluated.
 */
type BeforeEachExtensionHookContext = {
  /** The test case about to be evaluated (mutable) */test: TestCase;
};
/**
 * Context passed to afterEach extension hooks.
 * Called after each test case is evaluated.
 */
type AfterEachExtensionHookContext = {
  /** The test case that was evaluated */test: TestCase; /** The result of the evaluation */
  result: EvaluateResult;
};
/**
 * Context passed to afterAll extension hooks.
 * Called once after all evaluations complete.
 *
 * @example
 * ```javascript
 * // extension.js
 * module.exports = {
 *   afterAll: async (context) => {
 *     console.log(`Eval ${context.evalId} completed`);
 *     console.log(`Results: ${context.results.length} tests`);
 *     // Send to monitoring, database, etc.
 *   }
 * };
 * ```
 */
type AfterAllExtensionHookContext = {
  /** The test suite configuration */suite: TestSuite; /** All evaluation results as plain data objects */
  results: EvaluateResult[]; /** Completed prompts with metrics */
  prompts: CompletedPrompt[]; /** Unique identifier for this evaluation run */
  evalId: string; /** The full evaluation configuration */
  config: Partial<UnifiedConfig>;
};
/**
 * Maps hook names to their context types.
 * Used for type-safe extension hook invocation.
 */
type ExtensionHookContextMap = {
  beforeAll: BeforeAllExtensionHookContext;
  beforeEach: BeforeEachExtensionHookContext;
  afterEach: AfterEachExtensionHookContext;
  afterAll: AfterAllExtensionHookContext;
};
//#endregion
//#region src/index.d.ts
declare function evaluate(testSuite: EvaluateTestSuite, options?: EvaluateOptions): Promise<Eval>;
declare const redteam: {
  Extractors: {
    extractEntities: typeof extractEntities;
    extractMcpToolsInfo: typeof extractMcpToolsInfo;
    extractSystemPurpose: typeof extractSystemPurpose;
  };
  Graders: Record<`promptfoo:redteam:${string}`, RedteamGraderBase>;
  Plugins: PluginFactory[];
  Strategies: Strategy[];
  Base: {
    Plugin: typeof RedteamPluginBase;
    Grader: typeof RedteamGraderBase;
  };
  generate: typeof doGenerateRedteam;
  run: typeof doRedteamRun;
};
declare const _default$1: {
  assertions: {
    runAssertion: typeof runAssertion;
    runAssertions: typeof runAssertions;
    matchesSimilarity: typeof matchesSimilarity;
    matchesClassification: typeof matchesClassification;
    matchesLlmRubric: typeof matchesLlmRubric;
    matchesFactuality: typeof matchesFactuality;
    matchesClosedQa: typeof matchesClosedQa;
    matchesAnswerRelevance: typeof matchesAnswerRelevance;
    matchesContextRecall: typeof matchesContextRecall;
    matchesContextRelevance: typeof matchesContextRelevance;
    matchesContextFaithfulness: typeof matchesContextFaithfulness;
    matchesComparisonBoolean: typeof matchesSelectBest;
    matchesModeration: typeof matchesModeration;
    matchesConversationRelevance: typeof matchesConversationRelevance;
  };
  cache: typeof cache_d_exports;
  evaluate: typeof evaluate;
  guardrails: {
    guard(input: string): Promise<GuardResult>;
    pii(input: string): Promise<GuardResult>;
    harm(input: string): Promise<GuardResult>;
    adaptive(request: AdaptiveRequest): Promise<AdaptiveResult>;
  };
  loadApiProvider: typeof loadApiProvider;
  redteam: {
    Extractors: {
      extractEntities: typeof extractEntities;
      extractMcpToolsInfo: typeof extractMcpToolsInfo;
      extractSystemPurpose: typeof extractSystemPurpose;
    };
    Graders: Record<`promptfoo:redteam:${string}`, RedteamGraderBase>;
    Plugins: PluginFactory[];
    Strategies: Strategy[];
    Base: {
      Plugin: typeof RedteamPluginBase;
      Grader: typeof RedteamGraderBase;
    };
    generate: typeof doGenerateRedteam;
    run: typeof doRedteamRun;
  };
};
//#endregion
export { type AfterAllExtensionHookContext, type AfterEachExtensionHookContext, ApiClassificationProvider, ApiEmbeddingProvider, ApiModerationProvider, ApiProvider, ApiSimilarityProvider, Assertion, AssertionOrSet, AssertionOrSetSchema, AssertionParams, AssertionSchema, AssertionSet, AssertionSetSchema, AssertionType, AssertionTypeSchema, AssertionValue, AssertionValueFunction, AssertionValueFunctionContext, AssertionValueFunctionResult, AtomicTestCase, AtomicTestCaseSchema, AudioGradingConfig, BaseAssertionTypes, BaseAssertionTypesSchema, BaseRedteamMetadata, BaseTokenUsage, BaseTokenUsageSchema, type BeforeAllExtensionHookContext, type BeforeEachExtensionHookContext, CallApiContextParams, CallApiFunction, CallApiOptionsParams, ChatMessage, CommandLineOptions, CommandLineOptionsSchema, CompletedPrompt, CompletedPromptSchema, CompletionTokenDetails, CompletionTokenDetailsSchema, ConversationMessage, ConversationMessageSchema, CsvRow, DefaultProviders, DerivedMetric, DerivedMetricSchema, type EnvOverrides, EvalConversations, EvalRegisters, EvalResultsFilterMode, EvalSummary, EvalTableDTO, EvalWithMetadata, EvaluateOptions, EvaluateOptionsSchema, EvaluateResult, EvaluateStats, EvaluateSummaryV2, EvaluateSummaryV3, EvaluateTable, EvaluateTableOutput, EvaluateTableRow, EvaluateTestSuite, EvaluateTestSuiteWithEvaluateOptions, type ExtensionHookContextMap, FailedPluginInfo, FilePath, GradingConfig, GradingConfigSchema, GradingResult, GuardrailResponse, type Inputs, InputsSchema, Intent, Job, LoadApiProviderContext, ModerationFlag, Modifier, NotPrefixedAssertionTypesSchema, NunjucksFilterMap, OutputConfig, OutputConfigSchema, OutputFile, OutputFileExtension, OutputMetadata, PartialGenerationError, PluginActionParams, PluginConfig, PluginConfigSchema, PoliciesById, Policy, PolicyObject, PolicyObjectSchema, Prompt, PromptConfig, PromptContent, PromptFunction, PromptFunctionContext, PromptFunctionResult, PromptMetrics, PromptWithMetadata, ProviderClassificationResponse, ProviderEmbeddingResponse, ProviderFunction, ProviderId, ProviderLabel, ProviderModerationResponse, ProviderOptions, ProviderOptionsMap, ProviderResponse, ProviderSimilarityResponse, ProviderTestResponse, ProviderType, ProviderTypeMap, ProvidersSchema, RateLimitRegistryRef, RedteamAssertionTypes, RedteamCliGenerateOptions, RedteamContext, RedteamFileConfig, RedteamGenerateOptions, RedteamHistoryEntry, RedteamMediaData, RedteamObjectConfig, RedteamPlugin, RedteamPluginObject, RedteamRunOptions, RedteamStrategy, RedteamStrategyObject, ResultFailureReason, ResultLightweight, ResultLightweightWithLabel, ResultSuggestion, ResultsFile, RunEvalOptions, SavedRedteamConfig, Scenario, ScenarioSchema, ScoringFunction, ServerPromptWithMetadata, SharedResults, SpecialAssertionTypes, SpecialAssertionTypesSchema, StrategyConfig, StrategyConfigSchema, SynthesizeOptions, TestCase, TestCaseSchema, TestCaseWithPlugin, TestCaseWithVarsFile, TestCaseWithVarsFileSchema, TestCasesWithMetadata, TestCasesWithMetadataPrompt, TestCasesWithMetadataPromptSchema, TestCasesWithMetadataSchema, TestGeneratorConfig, TestGeneratorConfigSchema, TestSuite, TestSuiteConfig, TestSuiteConfigSchema, TestSuiteSchema, type TokenUsage, TraceData, TraceSpan, TracingConfig, UnifiedConfig, UnifiedConfigSchema, VarMapping, type VarValue, Vars, VarsSchema, _default as assertions, cache_d_exports as cache, _default$1 as default, evaluate, generateTable, guardrails, isApiProvider, isGradingResult, isProviderOptions, isResultFailureReason, loadApiProvider, redteam };
//# sourceMappingURL=index.d.cts.map