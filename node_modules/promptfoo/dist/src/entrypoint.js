#!/usr/bin/env node
import { fileURLToPath } from "node:url";

//#region src/entrypoint.ts
/**
* Entry point for the promptfoo CLI.
*
* This file intentionally has NO dependencies to ensure the Node.js version
* check runs before any module loading that might fail on older versions.
*
* Some dependencies (like string-width via ora) use ES2024 features (e.g., RegExp /v flag)
* that cause cryptic syntax errors on Node.js < 20. By checking the version first,
* we can provide a helpful error message instead.
*/
const minNodeVersion = 20;
const isBun = typeof globalThis.Bun !== "undefined";
const isDeno = typeof globalThis.Deno !== "undefined";
if (!isBun && !isDeno) {
	const major = parseInt(process.version.slice(1), 10);
	if (Number.isNaN(major)) {
		console.error(`\x1b[33mUnexpected Node.js version format: ${process.version}. Please use Node.js ${minNodeVersion} or later.\x1b[0m`);
		process.exit(1);
	}
	if (major < minNodeVersion) {
		console.error(`\x1b[33mNode.js ${process.version} is not supported. Please upgrade to Node.js ${minNodeVersion} or later.\x1b[0m`);
		process.exit(1);
	}
}
process.argv[1] = fileURLToPath(new URL("./main.js", import.meta.url));
await import("./main.js");

//#endregion
export {  };
//# sourceMappingURL=entrypoint.js.map